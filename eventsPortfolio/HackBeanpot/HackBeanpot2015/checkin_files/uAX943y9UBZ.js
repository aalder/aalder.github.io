if (self.CavalryLogger) { CavalryLogger.start_js(["0IaK2"]); }

__d("CommerceSelfServeUI",[],(function a(b,c,d,e,f,g){f.exports={MIN_SHIPPING_OPTIONS:1,MAX_SHIPPING_OPTIONS:5}}),null);
__d("DestinationGraphApiFields",[],(function a(b,c,d,e,f,g){f.exports={ID:"id",ADDRESS:"address",APPLINKS:"applinks",CURRENCY:"currency",CUSTOM_LABEL_0:"custom_label_0",CUSTOM_LABEL_1:"custom_label_1",CUSTOM_LABEL_2:"custom_label_2",DESCRIPTION:"description",DESTINATION_ID:"destination_id",IMAGES:"images",NAME:"name",PRICE:"price",PRICE_CHANGE:"price_change",TYPES:"types",URL:"url"}}),null);
__d("FlightGraphApiFields",[],(function a(b,c,d,e,f,g){f.exports={ID:"id",APPLINKS:"applinks",CURRENCY:"currency",DESCRIPTION:"description",DESTINATION_AIRPORT:"destination_airport",DESTINATION_CITY:"destination_city",FLIGHT_ID:"flight_id",IMAGES:"images",ONEWAY_CURRENCY:"oneway_currency",ONEWAY_PRICE:"oneway_price",ORIGIN_AIRPORT:"origin_airport",ORIGIN_CITY:"origin_city",PRICE:"price",URL:"url"}}),null);
__d("HomeListingGraphApiFields",[],(function a(b,c,d,e,f,g){f.exports={ID:"id",AC_TYPE:"ac_type",ADDRESS:"address",AGENT_COMPANY:"agent_company",AGENT_EMAIL:"agent_email",AGENT_NAME:"agent_name",AGENT_PHONE:"agent_phone",APPLINKS:"applinks",AREA_SIZE:"area_size",AREA_UNIT:"area_unit",AVAILABILITY:"availability",CURRENCY:"currency",DESCRIPTION:"description",GROUP_ID:"group_id",HEATING_TYPE:"heating_type",HOME_LISTING_ID:"home_listing_id",IMAGES:"images",LAUNDRY_TYPE:"laundry_type",LISTING_TYPE:"listing_type",MAX_CURRENCY:"max_currency",MAX_PRICE:"max_price",MIN_CURRENCY:"min_currency",MIN_PRICE:"min_price",NAME:"name",NUM_BATHS:"num_baths",NUM_BEDS:"num_beds",NUM_UNITS:"num_units",PARKING_TYPE:"parking_type",PARTNER_VERIFICATION:"partner_verification",PET_POLICY:"pet_policy",PRICE:"price",PROPERTY_TYPE:"property_type",URL:"url",YEAR_BUILT:"year_built"}}),null);
__d("HotelGraphApiFields",[],(function a(b,c,d,e,f,g){f.exports={ID:"id",ADDRESS:"address",APPLINKS:"applinks",BRAND:"brand",DESCRIPTION:"description",GUEST_RATINGS:"guest_ratings",HOTEL_ID:"hotel_id",HOTEL_ROOMS:"hotel_rooms",IMAGES:"images",LOWEST_BASE_PRICE:"lowest_base_price",LOYALTY_PROGRAM:"loyalty_program",MARGIN_LEVEL:"margin_level",NAME:"name",PHONE:"phone",STAR_RATING:"star_rating",URL:"url",VIDEO_IDS:"video_ids"}}),null);
__d("PagesManagerProductToolsConstants",[],(function a(b,c,d,e,f,g){f.exports={MAX_FEATURED_ITEM_COUNT:10}}),null);
__d("VehicleGraphApiFields",[],(function a(b,c,d,e,f,g){f.exports={ID:"id",ADDRESS:"address",APPLINKS:"applinks",AVAILABILITY:"availability",BODY_STYLE:"body_style",CONDITION:"condition",CURRENCY:"currency",DEALER_ID:"dealer_id",DEALER_NAME:"dealer_name",DESCRIPTION:"description",DRIVETRAIN:"drivetrain",EXTERIOR_COLOR:"exterior_color",FUEL_TYPE:"fuel_type",IMAGES:"images",INTERIOR_COLOR:"interior_color",MAKE:"make",MILEAGE:"mileage",MODEL:"model",PRICE:"price",SALE_CURRENCY:"sale_currency",SALE_PRICE:"sale_price",STATE_OF_VEHICLE:"state_of_vehicle",TITLE:"title",TRANSMISSION:"transmission",TRIM:"trim",URL:"url",VEHICLE_ID:"vehicle_id",VIN:"vin",YEAR:"year"}}),null);
__d('AdsCanvasAPISetup',['AdsCanvasConfig','WebApiApplication'],(function a(b,c,d,e,f,g){'use strict';var h=false,i={setupGraph:function j(){if(h||!!c('WebApiApplication').getAccessToken())return;c('WebApiApplication').init(c('AdsCanvasConfig').access_token,c('AdsCanvasConfig').client_id);h=true}};f.exports=i}),null);
__d('CanvasPhotoValidation',['fbt','AdsCFImageTypes','ErrorDialog'],(function a(b,c,d,e,f,g,h){'use strict';var i={isValidFormat:function j(k){if(!Object.prototype.hasOwnProperty.call(c('AdsCFImageTypes'),k))i._showFormatErrorMessage();return Object.prototype.hasOwnProperty.call(c('AdsCFImageTypes'),k)},_showFormatErrorMessage:function j(){c('ErrorDialog').show(h._("Unsupported File Format"),h._("Please upload an image file. You can upload JPEG, BMP, PNG, GIF or TIFF files."))}};f.exports=i}),null);
__d("XCanvasVideoUploadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/canvas_upload\/",{target_id:{type:"String",required:true}})}),null);
__d('CanvasVideoUploader',['ActorURI','AdsVideoEncodingAsyncNotifier','AsyncRequest','CanvasCreationEvent','CanvasCreationWaterfallTypedLogger','RichMediaLoggingStoreUtils','VideoContainerType','VideoUploader','XCanvasVideoUploadController','mixInEventEmitter'],(function a(b,c,d,e,f,g){'use strict';function h(i){this.$CanvasVideoUploader6=function(event,k){var l=Math.min(k.start_offset+k.sent_bytes,k.file_size),m=100*l/k.file_size;this.emit('upload-progressed',{percentage:m})}.bind(this);this.$CanvasVideoUploader4=function(event,k){c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').VIDEO_UPLOAD_SUCCESS).setPageID(this.$CanvasVideoUploader2));this.emit('upload-done',k);k.source='canvas';k.video_container=c('VideoContainerType').CANVAS;this.$CanvasVideoUploader9.post(k)}.bind(this);this.$CanvasVideoUploader5=function(event,k){c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').VIDEO_UPLOAD_ERROR).setPageID(this.$CanvasVideoUploader2));this.emit('upload-fail',k)}.bind(this);this.$CanvasVideoUploader7=function(event,k){c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').VIDEO_POST_ERROR).setPageID(this.$CanvasVideoUploader2))}.bind(this);this.$CanvasVideoUploader8=function(event,k){c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').VIDEO_POST_SUCCESS).setPageID(this.$CanvasVideoUploader2).setVideoID(k.video_id));var l=new (c('AdsVideoEncodingAsyncNotifier'))(k.video_id);l.setOnStatusUpdateListener(function(m){});l.setOnFailedListener(function(m){c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').VIDEO_ENCODE_ERROR).setPageID(this.$CanvasVideoUploader2).setVideoID(k.video_id));this.emit('encoding-fail')}.bind(this));l.setOnSuccessListener(function(m){c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').VIDEO_ENCODE_SUCCESS).setPageID(this.$CanvasVideoUploader2).setVideoID(k.video_id));this.emit('encoding-success',m)}.bind(this));l.start()}.bind(this);this.$CanvasVideoUploader2=i;var j=c('XCanvasVideoUploadController').getURIBuilder().setString('target_id',this.$CanvasVideoUploader2).getURI();this.$CanvasVideoUploader3=c('ActorURI').create(j,this.$CanvasVideoUploader2)}h.prototype.upload=function(i){this.$CanvasVideoUploader1=new (c('AsyncRequest'))(this.$CanvasVideoUploader3).setHandler(function(j){var k=j.payload.video_uploader[0];k.composer_entry_point_ref='page_content_tab_canvas';this.$CanvasVideoUploader9=new (c('VideoUploader'))(k);this.$CanvasVideoUploader9.subscribe('upload-progressed',this.$CanvasVideoUploader6);this.$CanvasVideoUploader9.subscribe('upload-finished',this.$CanvasVideoUploader4);this.$CanvasVideoUploader9.subscribe('upload-failed',this.$CanvasVideoUploader5);this.$CanvasVideoUploader9.subscribe('post-failed',this.$CanvasVideoUploader7);this.$CanvasVideoUploader9.subscribe('post-finished',this.$CanvasVideoUploader8);this.$CanvasVideoUploader9.upload(i)}.bind(this));this.$CanvasVideoUploader1.send()};h.prototype.abort=function(){if(this.$CanvasVideoUploader1)this.$CanvasVideoUploader1.abort();};c('mixInEventEmitter')(h,{'upload-progressed':true,'upload-done':true,'upload-fail':true,'encoding-success':true,'encoding-fail':true});f.exports=h}),null);
__d('RichMediaEditorImageLinkUploadRequest',['ActorURI','AsyncRequest','XCanvasPhotoUploadController'],(function a(b,c,d,e,f,g){'use strict';function h(i){this.$RichMediaEditorImageLinkUploadRequest1=i;var j=c('ActorURI').create(c('XCanvasPhotoUploadController').getURIBuilder().setString('photo_url',this.$RichMediaEditorImageLinkUploadRequest1.imageLink).getURI(),this.$RichMediaEditorImageLinkUploadRequest1.pageID);this.$RichMediaEditorImageLinkUploadRequest2=new (c('AsyncRequest'))().setURI(j).setHandler(function(k){return this.$RichMediaEditorImageLinkUploadRequest1.onSuccess({response:k})}.bind(this)).setErrorHandler(function(k){return this.$RichMediaEditorImageLinkUploadRequest1.onError(k)}.bind(this)).setMethod('POST')}h.prototype.send=function(){this.$RichMediaEditorImageLinkUploadRequest2.send()};h.prototype.abort=function(){if(this.$RichMediaEditorImageLinkUploadRequest2)this.$RichMediaEditorImageLinkUploadRequest2.abort();};f.exports=h}),null);
__d('RichMediaEditorUploadRequest',['invariant','ActorURI','FileInputUploader','XCanvasPhotoUploadController'],(function a(b,c,d,e,f,g,h){'use strict';function i(j){this.$RichMediaEditorUploadRequest1=j;if(this.$RichMediaEditorUploadRequest1.files)this.$RichMediaEditorUploadRequest1.files.length===1||Object.keys(this.$RichMediaEditorUploadRequest1.files).length===1||h(0);this.$RichMediaEditorUploadRequest2=new (c('FileInputUploader'))(this.$RichMediaEditorUploadRequest1.fileInput);if(this.$RichMediaEditorUploadRequest1.onProgress)this.$RichMediaEditorUploadRequest2.subscribe('progress',function(l,m){var event=m.event;if(event.lengthComputable)this.$RichMediaEditorUploadRequest1.onProgress(event.loaded/event.total*100);}.bind(this));if(this.$RichMediaEditorUploadRequest1.onSuccess)this.$RichMediaEditorUploadRequest2.subscribe('success',function(l,m){this.$RichMediaEditorUploadRequest1.onSuccess(m)}.bind(this));if(this.$RichMediaEditorUploadRequest1.onError)this.$RichMediaEditorUploadRequest2.subscribe('error',function(l,m){this.$RichMediaEditorUploadRequest1.onError(m)}.bind(this));var k=c('ActorURI').create(c('XCanvasPhotoUploadController').getURIBuilder().getURI(),this.$RichMediaEditorUploadRequest1.pageID);this.$RichMediaEditorUploadRequest2.setURI(k)}i.prototype.send=function(){this.$RichMediaEditorUploadRequest2.send()};i.prototype.abort=function(){if(this.$RichMediaEditorUploadRequest2)this.$RichMediaEditorUploadRequest2.abort();};f.exports=i}),null);
__d('AdsCanvasDocumentAddNewElementsDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasDocumentAddNewElements',actionType:'DOCUMENT.ADD_NEW_ELEMENTS'};f.exports=h}),null);
__d('AdsCanvasDocumentAddNewElementsDataAction',['AdsCanvasDocumentAddNewElementsDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasDocumentAddNewElementsDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasDocumentInitDuplicateDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasDocumentInitDuplicate',actionType:'DOCUMENT.INIT_DUPLICATE'};f.exports=h}),null);
__d('AdsCanvasDocumentInitDuplicateDataAction',['AdsCanvasDocumentInitDuplicateDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasDocumentInitDuplicateDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasDocumentInitPublishDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasDocumentInitPublish',actionType:'DOCUMENT.INIT_PUBLISH'};f.exports=h}),null);
__d('AdsCanvasDocumentInitPublishDataAction',['AdsCanvasDocumentInitPublishDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasDocumentInitPublishDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasDocumentInitSaveDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasDocumentInitSave',actionType:'DOCUMENT.INIT_SAVE'};f.exports=h}),null);
__d('AdsCanvasDocumentInitSaveDataAction',['AdsCanvasDocumentInitSaveDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasDocumentInitSaveDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasDocumentRefreshDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasDocumentRefresh',actionType:'DOCUMENT.REFRESH'};f.exports=h}),null);
__d('AdsCanvasDocumentRefreshDataAction',['AdsCanvasDocumentRefreshDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasDocumentRefreshDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasDocumentReorderElementsDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasDocumentReorderElements',actionType:'DOCUMENT.REORDER_ELEMENTS'};f.exports=h}),null);
__d('AdsCanvasDocumentReorderElementsDataAction',['AdsCanvasDocumentReorderElementsDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasDocumentReorderElementsDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasDocumentSetTitleDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasDocumentSetTitle',actionType:'DOCUMENT.SET_TITLE'};f.exports=h}),null);
__d('AdsCanvasDocumentSetTitleDataAction',['AdsCanvasDocumentSetTitleDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasDocumentSetTitleDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasDocumentActions',['AdsCanvasDocumentAddNewElementsDataAction','AdsCanvasDocumentInitDuplicateDataAction','AdsCanvasDocumentInitPublishDataAction','AdsCanvasDocumentInitSaveDataAction','AdsCanvasDocumentRefreshDataAction','AdsCanvasDocumentReorderElementsDataAction','AdsCanvasDocumentSetTitleDataAction'],(function a(b,c,d,e,f,g){'use strict';var h={addNewElements:function i(j,k){var l=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];c('AdsCanvasDocumentAddNewElementsDataAction').dispatch({id:j,elements:k,options:l})},duplicateCanvas:function i(j,k,l,m){c('AdsCanvasDocumentInitDuplicateDataAction').dispatch({canvasDocument:j,elements:k,pageID:l,onSuccess:m})},reorderElements:function i(j,k,l){c('AdsCanvasDocumentReorderElementsDataAction').dispatch({id:j,source:k,target:l})},refreshCanvas:function i(j,k){c('AdsCanvasDocumentRefreshDataAction').dispatch({canvasID:j,elementIDs:k})},saveCanvas:function i(j,k,l,m,n){c('AdsCanvasDocumentInitSaveDataAction').dispatch({canvasDocument:j,elements:k,pageID:l,hasErrors:m,onSuccess:n})},publishCanvas:function i(j,k,l){c('AdsCanvasDocumentInitPublishDataAction').dispatch({canvasDocument:j,pageID:k,onSuccess:l})},setTitle:function i(j,k){c('AdsCanvasDocumentSetTitleDataAction').dispatch({id:j,title:k})}};f.exports=h}),null);
__d('AdsCanvasElementDeleteDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasElementDelete',actionType:'ELEMENT.DELETE'};f.exports=h}),null);
__d('AdsCanvasElementDeleteDataAction',['AdsCanvasElementDeleteDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasElementDeleteDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasElementSwitchButtonPositionDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasElementSwitchButtonPosition',actionType:'ELEMENT.SWITCH_BUTTON_POSITION'};f.exports=h}),null);
__d('AdsCanvasElementSwitchButtonPositionDataAction',['AdsCanvasElementSwitchButtonPositionDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasElementSwitchButtonPositionDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasElementSwitchMediaElementTypeDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasElementSwitchMediaElementType',actionType:'LEGACY.FLUX.ACTION.TYPE.LITERAL'};f.exports=h}),null);
__d('AdsCanvasElementSwitchMediaElementTypeDataAction',['AdsCanvasElementSwitchMediaElementTypeDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasElementSwitchMediaElementTypeDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasElementUpdateDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasElementUpdate',actionType:'ELEMENT.UPDATE'};f.exports=h}),null);
__d('AdsCanvasElementUpdateDataAction',['AdsCanvasElementUpdateDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasElementUpdateDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasElementActions',['AdsCanvasElementDeleteDataAction','AdsCanvasElementSwitchButtonPositionDataAction','AdsCanvasElementSwitchMediaElementTypeDataAction','AdsCanvasElementUpdateDataAction'],(function a(b,c,d,e,f,g){'use strict';var h={update:function i(j,k,l){c('AdsCanvasElementUpdateDataAction').dispatch({elementID:j,canvasElement:k,index:l})},'delete':function i(j,k){c('AdsCanvasElementDeleteDataAction').dispatch({canvasID:k,elementID:j})},switchMediaElementType:function i(j,k,l){c('AdsCanvasElementSwitchMediaElementTypeDataAction').dispatch({canvasDocument:j,canvasElement:k,canvasID:j.get('id'),elementID:k.get('id'),index:l})},switchButtonPosition:function i(j,k,l){c('AdsCanvasElementSwitchButtonPositionDataAction').dispatch({canvasDocument:j,canvasElement:k,canvasID:j.get('id'),elementID:k.get('id'),index:l})}};f.exports=h}),null);
__d('AdsCanvasPhotoUploaderImageUploadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasPhotoUploaderImageUploadError',actionType:'ADS_CANVAS_PHOTO_UPLOADER.UPLOAD_ERROR'};f.exports=h}),null);
__d('AdsCanvasPhotoUploaderImageUploadErrorDataAction',['AdsCanvasPhotoUploaderImageUploadErrorDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasPhotoUploaderImageUploadErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasPhotoUploaderImageUploadSuccessDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasPhotoUploaderImageUploadSuccess',actionType:'ADS_CANVAS_PHOTO_UPLOADER.UPLOAD_SUCCESS'};f.exports=h}),null);
__d('AdsCanvasPhotoUploaderImageUploadSuccessDataAction',['AdsCanvasPhotoUploaderImageUploadSuccessDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasPhotoUploaderImageUploadSuccessDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasPhotoUploaderLibraryCancelDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasPhotoUploaderLibraryCancel',actionType:'ADS_CANVAS_PHOTO_UPLOADER.LIBRARY_CANCEL'};f.exports=h}),null);
__d('AdsCanvasPhotoUploaderLibraryCancelDataAction',['AdsCanvasPhotoUploaderLibraryCancelDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasPhotoUploaderLibraryCancelDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasPhotoUploaderLibraryImageUploadDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasPhotoUploaderLibraryImageUpload',actionType:'ADS_CANVAS_PHOTO_UPLOADER.LIBRARY_IMAGE_UPLOAD'};f.exports=h}),null);
__d('AdsCanvasPhotoUploaderLibraryImageUploadDataAction',['AdsCanvasPhotoUploaderLibraryImageUploadDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasPhotoUploaderLibraryImageUploadDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasPhotoUploaderLibraryOpenDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasPhotoUploaderLibraryOpen',actionType:'ADS_CANVAS_PHOTO_UPLOADER.LIBRARY_OPEN'};f.exports=h}),null);
__d('AdsCanvasPhotoUploaderLibraryOpenDataAction',['AdsCanvasPhotoUploaderLibraryOpenDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasPhotoUploaderLibraryOpenDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasPhotoUploaderManualImageUploadDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasPhotoUploaderManualImageUpload',actionType:'ADS_CANVAS_PHOTO_UPLOADER.MANUAL_IMAGE_UPLOAD'};f.exports=h}),null);
__d('AdsCanvasPhotoUploaderManualImageUploadDataAction',['AdsCanvasPhotoUploaderManualImageUploadDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasPhotoUploaderManualImageUploadDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasPhotoUploaderManualOpenDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasPhotoUploaderManualOpen',actionType:'ADS_CANVAS_PHOTO_UPLOADER.MANUAL_OPEN'};f.exports=h}),null);
__d('AdsCanvasPhotoUploaderManualOpenDataAction',['AdsCanvasPhotoUploaderManualOpenDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasPhotoUploaderManualOpenDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasPhotoUploaderActions',['AdsCanvasPhotoUploaderImageUploadErrorDataAction','AdsCanvasPhotoUploaderImageUploadSuccessDataAction','AdsCanvasPhotoUploaderLibraryCancelDataAction','AdsCanvasPhotoUploaderLibraryImageUploadDataAction','AdsCanvasPhotoUploaderLibraryOpenDataAction','AdsCanvasPhotoUploaderManualImageUploadDataAction','AdsCanvasPhotoUploaderManualOpenDataAction'],(function a(b,c,d,e,f,g){'use strict';var h={handleImageUploadError:function i(j){c('AdsCanvasPhotoUploaderImageUploadErrorDataAction').dispatch({templateID:j})},handleImageUploadSuccess:function i(j){c('AdsCanvasPhotoUploaderImageUploadSuccessDataAction').dispatch({templateID:j})},handleImageUploadTimeout:function i(j){c('AdsCanvasPhotoUploaderImageUploadErrorDataAction').dispatch({templateID:j})},handleLibraryUploaderCancel:function i(j){c('AdsCanvasPhotoUploaderLibraryCancelDataAction').dispatch({templateID:j})},handleLibraryUploaderImageUpload:function i(j){c('AdsCanvasPhotoUploaderLibraryImageUploadDataAction').dispatch({templateID:j})},handleLibraryUploaderOpen:function i(j){c('AdsCanvasPhotoUploaderLibraryOpenDataAction').dispatch({templateID:j})},handleManualUploaderImageUpload:function i(j){c('AdsCanvasPhotoUploaderManualImageUploadDataAction').dispatch({templateID:j})},handleManualUploaderOpen:function i(j){c('AdsCanvasPhotoUploaderManualOpenDataAction').dispatch({templateID:j})}};f.exports=h}),null);
__d('AdsCanvasVideoUploaderLibraryCancelDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasVideoUploaderLibraryCancel',actionType:'ADS_CANVAS_VIDEO_UPLOADER.LIBRARY_CANCEL'};f.exports=h}),null);
__d('AdsCanvasVideoUploaderLibraryCancelDataAction',['AdsCanvasVideoUploaderLibraryCancelDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasVideoUploaderLibraryCancelDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasVideoUploaderLibraryOpenDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasVideoUploaderLibraryOpen',actionType:'ADS_CANVAS_VIDEO_UPLOADER.LIBRARY_OPEN'};f.exports=h}),null);
__d('AdsCanvasVideoUploaderLibraryOpenDataAction',['AdsCanvasVideoUploaderLibraryOpenDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasVideoUploaderLibraryOpenDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasVideoUploaderLibraryVideoClickDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasVideoUploaderLibraryVideoClick',actionType:'ADS_CANVAS_VIDEO_UPLOADER.LIBRARY_VIDEO_CLICK'};f.exports=h}),null);
__d('AdsCanvasVideoUploaderLibraryVideoClickDataAction',['AdsCanvasVideoUploaderLibraryVideoClickDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasVideoUploaderLibraryVideoClickDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasVideoUploaderLibraryVideoImportDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasVideoUploaderLibraryVideoImport',actionType:'ADS_CANVAS_VIDEO_UPLOADER.LIBRARY_VIDEO_IMPORT'};f.exports=h}),null);
__d('AdsCanvasVideoUploaderLibraryVideoImportDataAction',['AdsCanvasVideoUploaderLibraryVideoImportDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasVideoUploaderLibraryVideoImportDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasVideoUploaderLibraryVideoSelectExistingDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasVideoUploaderLibraryVideoSelectExisting',actionType:'ADS_CANVAS_VIDEO_UPLOADER.LIBRARY_VIDEO_SELECT_EXISTING'};f.exports=h}),null);
__d('AdsCanvasVideoUploaderLibraryVideoSelectExistingDataAction',['AdsCanvasVideoUploaderLibraryVideoSelectExistingDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasVideoUploaderLibraryVideoSelectExistingDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasVideoUploaderLibraryVideoUploadDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasVideoUploaderLibraryVideoUpload',actionType:'ADS_CANVAS_VIDEO_UPLOADER.LIBRARY_VIDEO_UPLOAD'};f.exports=h}),null);
__d('AdsCanvasVideoUploaderLibraryVideoUploadDataAction',['AdsCanvasVideoUploaderLibraryVideoUploadDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasVideoUploaderLibraryVideoUploadDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasVideoUploaderManualOpenDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasVideoUploaderManualOpen',actionType:'ADS_CANVAS_VIDEO_UPLOADER.MANUAL_OPEN'};f.exports=h}),null);
__d('AdsCanvasVideoUploaderManualOpenDataAction',['AdsCanvasVideoUploaderManualOpenDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasVideoUploaderManualOpenDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasVideoUploaderManualVideoUploadDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasVideoUploaderManualVideoUpload',actionType:'ADS_CANVAS_VIDEO_UPLOADER.MANUAL_VIDEO_UPLOAD'};f.exports=h}),null);
__d('AdsCanvasVideoUploaderManualVideoUploadDataAction',['AdsCanvasVideoUploaderManualVideoUploadDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasVideoUploaderManualVideoUploadDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasVideoUploaderActions',['AdsCanvasVideoUploaderLibraryCancelDataAction','AdsCanvasVideoUploaderLibraryOpenDataAction','AdsCanvasVideoUploaderLibraryVideoClickDataAction','AdsCanvasVideoUploaderLibraryVideoImportDataAction','AdsCanvasVideoUploaderLibraryVideoSelectExistingDataAction','AdsCanvasVideoUploaderLibraryVideoUploadDataAction','AdsCanvasVideoUploaderManualOpenDataAction','AdsCanvasVideoUploaderManualVideoUploadDataAction'],(function a(b,c,d,e,f,g){'use strict';var h={handleLibraryUploaderCancel:function i(j){c('AdsCanvasVideoUploaderLibraryCancelDataAction').dispatch({templateID:j})},handleLibraryUploaderVideoUpload:function i(j){c('AdsCanvasVideoUploaderLibraryVideoUploadDataAction').dispatch({templateID:j})},handleLibraryUploaderVideoImport:function i(j){c('AdsCanvasVideoUploaderLibraryVideoImportDataAction').dispatch({templateID:j})},handleLibraryUploaderOpen:function i(j){c('AdsCanvasVideoUploaderLibraryOpenDataAction').dispatch({templateID:j})},handleLibraryUploaderVideoClick:function i(j){c('AdsCanvasVideoUploaderLibraryVideoClickDataAction').dispatch({templateID:j})},handleLibraryUploaderVideoSelectExisting:function i(j){c('AdsCanvasVideoUploaderLibraryVideoSelectExistingDataAction').dispatch({templateID:j})},handleManualUploaderVideoUpload:function i(j){c('AdsCanvasVideoUploaderManualVideoUploadDataAction').dispatch({templateID:j})},handleManualUploaderOpen:function i(j){c('AdsCanvasVideoUploaderManualOpenDataAction').dispatch({templateID:j})}};f.exports=h}),null);
__d('AdsCanvasPageDataLoader',['AdsCanvasConstants','AdsGraphAPI','GraphAPIFieldUtils','GraphSort'],(function a(b,c,d,e,f,g){'use strict';var h=['cover','id','name','hours','location','picture'];i.prototype.getPageWithLocations=function(j){return c('AdsGraphAPI').get(f.id).object('page',j).get({fields:[].concat(h,[c('GraphAPIFieldUtils').getFieldWithSubfields('locations.limit(10)',h)])})};i.prototype.getPageCanvasInfo=function(j){return c('AdsGraphAPI').get(f.id).object('page',j).edge('rich_media_documents').get({fields:['id','name','is_published','update_time'],limit:c('AdsCanvasConstants').ADS_CANVAS_LIBRARY_DOC_MAX,sort:'date'+c('GraphSort').DESC,summary:true})};function i(){}f.exports=new i()}),null);
__d('AdsRichMediaEditorLoadPageCanvasDocsBasicInfoErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorLoadPageCanvasDocsBasicInfoError',actionType:'RichMediaEditor.LOAD_PAGE_CANVAS_DOCS_BASIC_INFO_ERROR'};f.exports=h}),null);
__d('AdsRichMediaEditorLoadPageCanvasDocsBasicInfoErrorDataAction',['AdsDataActionCreator','AdsRichMediaEditorLoadPageCanvasDocsBasicInfoErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsRichMediaEditorLoadPageCanvasDocsBasicInfoErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorLoadPageCanvasDocsBasicInfoSuccessDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorLoadPageCanvasDocsBasicInfoSuccess',actionType:'RichMediaEditor.LOAD_PAGE_CANVAS_DOCS_BASIC_INFO_SUCCESS'};f.exports=h}),null);
__d('AdsRichMediaEditorLoadPageCanvasDocsBasicInfoSuccessDataAction',['AdsDataActionCreator','AdsRichMediaEditorLoadPageCanvasDocsBasicInfoSuccessDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsRichMediaEditorLoadPageCanvasDocsBasicInfoSuccessDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorLoadPageLocationsErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorLoadPageLocationsError',actionType:'RichMediaEditor.LOAD_PAGE_LOCATIONS_ERROR'};f.exports=h}),null);
__d('AdsRichMediaEditorLoadPageLocationsErrorDataAction',['AdsDataActionCreator','AdsRichMediaEditorLoadPageLocationsErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsRichMediaEditorLoadPageLocationsErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorLoadPageLocationsSuccessDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorLoadPageLocationsSuccess',actionType:'RichMediaEditor.LOAD_PAGE_LOCATIONS_SUCCESS'};f.exports=h}),null);
__d('AdsRichMediaEditorLoadPageLocationsSuccessDataAction',['AdsDataActionCreator','AdsRichMediaEditorLoadPageLocationsSuccessDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsRichMediaEditorLoadPageLocationsSuccessDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasPageDataDispatcher',['AdsCanvasPageDataLoader','AdsRichMediaEditorLoadPageCanvasDocsBasicInfoErrorDataAction','AdsRichMediaEditorLoadPageCanvasDocsBasicInfoSuccessDataAction','AdsRichMediaEditorLoadPageLocationsErrorDataAction','AdsRichMediaEditorLoadPageLocationsSuccessDataAction'],(function a(b,c,d,e,f,g){'use strict';h.prototype.getPageWithLocations=function(i){c('AdsCanvasPageDataLoader').getPageWithLocations(i).done(function(j){c('AdsRichMediaEditorLoadPageLocationsSuccessDataAction').dispatch({page:j})},function(j){c('AdsRichMediaEditorLoadPageLocationsErrorDataAction').dispatch({pageID:i,error:j})})};h.prototype.getPageCanvasInfo=function(i){c('AdsCanvasPageDataLoader').getPageCanvasInfo(i).done(function(j){var k=j.data;c('AdsRichMediaEditorLoadPageCanvasDocsBasicInfoSuccessDataAction').dispatch({pageID:i,pageCanvasBasicInfo:k})},function(j){c('AdsRichMediaEditorLoadPageCanvasDocsBasicInfoErrorDataAction').dispatch({pageID:i,error:j})})};function h(){}f.exports=new h()}),null);
__d("ProductItemGraphApiFields",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADDITIONAL_IMAGE_URLS:"additional_image_urls",AGE_GROUP:"age_group",ANDROID_PACKAGE:"android_package",ANDROID_URL:"android_url",APPLINKS:"applinks",AVAILABILITY:"availability",BRAND:"brand",CAPABILITIES:"capabilities",CATEGORY:"category",CHECKOUT_URL:"checkout_url",COLOR:"color",COMMERCE_INSIGHTS:"commerce_insights",COMMERCE_SETTINGS:"commerce_settings",CONDITION:"condition",CURRENCY:"currency",CUSTOM_DATA:"custom_data",CUSTOM_LABEL_0:"custom_label_0",CUSTOM_LABEL_1:"custom_label_1",CUSTOM_LABEL_2:"custom_label_2",CUSTOM_LABEL_3:"custom_label_3",CUSTOM_LABEL_4:"custom_label_4",DA_DISPLAY_PREVIEW_URL:"da_display_preview_url",DESCRIPTION:"description",EXPIRATION_DATE:"expiration_date",GENDER:"gender",GTIN:"gtin",HAS_MAIN_IMAGE_FETCHED:"has_main_image_fetched",ID:"id",IMAGE_URL:"image_url",INVENTORY:"inventory",IOS_URL:"ios_url",IPAD_URL:"ipad_url",IPHONE_URL:"iphone_url",MANUFACTURER_PART_NUMBER:"manufacturer_part_number",MATERIAL:"material",NAME:"name",OFFER_ADDRESS:"address",OFFER_AVAILABILITY_AREA:"availability_area",OFFER_AVAILABILITY_RADIUS:"availability_radius",ORDERING_INDEX:"ordering_index",PATTERN:"pattern",PRICE:"price",PRODUCT_TYPE:"product_type",RETAILER_ID:"retailer_id",RETAILER_PRODUCT_GROUP_ID:"retailer_product_group_id",REVIEW_REJECTION_REASONS:"review_rejection_reasons",REVIEW_STATUS:"review_status",SALE_PRICE:"sale_price",SALE_PRICE_END_DATE:"sale_price_end_date",SALE_PRICE_START_DATE:"sale_price_start_date",SHIPPING:"shipping",SHIPPING_COUNTRY:"country",SHIPPING_PRICE_CURRENCY:"price_currency",SHIPPING_PRICE_VALUE:"price_value",SHIPPING_REGION:"region",SHIPPING_SERVICE:"service",SHIPPING_WEIGHT_UNIT:"shipping_weight_unit",SHIPPING_WEIGHT_VALUE:"shipping_weight_value",SHORT_DESCRIPTION:"short_description",SIZE:"size",START_DATE:"start_date",URL:"url",VIDEO_IDS:"video_ids",VISIBILITY:"visibility",WINDOWS_PHONE_URL:"windows_phone_url"})}),null);
__d('AdsCanvasProductDataLoader',['AdsGraphAPI','ProductItemGraphApiFields'],(function a(b,c,d,e,f,g){'use strict';var h=[c('ProductItemGraphApiFields').ID,c('ProductItemGraphApiFields').IMAGE_URL,c('ProductItemGraphApiFields').NAME,c('ProductItemGraphApiFields').PRICE];i.prototype.getProduct=function(j){return c('AdsGraphAPI').get(f.id).object('product_item',j).get({fields:h})};function i(){}f.exports=new i()}),null);
__d('AdsCanvasProductLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasProductLoadError',actionType:'PRODUCT.LOAD_ERROR'};f.exports=h}),null);
__d('AdsCanvasProductLoadErrorDataAction',['AdsCanvasProductLoadErrorDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasProductLoadErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasProductLoadSuccessDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasProductLoadSuccess',actionType:'PRODUCT.LOAD_SUCCESS'};f.exports=h}),null);
__d('AdsCanvasProductLoadSuccessDataAction',['AdsCanvasProductLoadSuccessDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasProductLoadSuccessDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasProductDataDispatcher',['AdsCanvasProductDataLoader','AdsCanvasProductLoadErrorDataAction','AdsCanvasProductLoadSuccessDataAction'],(function a(b,c,d,e,f,g){'use strict';h.prototype.getProduct=function(i){c('AdsCanvasProductDataLoader').getProduct(i).done(function(j){var k={id:j.id,imgSource:j.image_url,name:j.name,price:j.price};c('AdsCanvasProductLoadSuccessDataAction').dispatch({product:k})},function(j){c('AdsCanvasProductLoadErrorDataAction').dispatch({})})};function h(){}f.exports=new h()}),null);
__d('AdsCanvasMediaLibrarySetDialogShownDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasMediaLibrarySetDialogShown',actionType:'AdsCanvasMediaLibrary.SET_DIALOG_SHOWN'};f.exports=h}),null);
__d('AdsCanvasMediaLibrarySetDialogShownDataAction',['AdsCanvasMediaLibrarySetDialogShownDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasMediaLibrarySetDialogShownDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasMediaLibrarySetSelectedImagesDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasMediaLibrarySetSelectedImages',actionType:'AdsCanvasMediaLibrary.SET_SELECTED_IMAGES'};f.exports=h}),null);
__d('AdsCanvasMediaLibrarySetSelectedImagesDataAction',['AdsCanvasMediaLibrarySetSelectedImagesDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasMediaLibrarySetSelectedImagesDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasMediaLibrarySetTextInputDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasMediaLibrarySetTextInput',actionType:'AdsCanvasMediaLibrary.SET_TEXT_INPUT'};f.exports=h}),null);
__d('AdsCanvasMediaLibrarySetTextInputDataAction',['AdsCanvasMediaLibrarySetTextInputDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasMediaLibrarySetTextInputDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasMediaLibrarySetUploadPhotoDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasMediaLibrarySetUploadPhoto',actionType:'AdsCanvasMediaLibrary.SET_UPLOAD_PHOTO'};f.exports=h}),null);
__d('AdsCanvasMediaLibrarySetUploadPhotoDataAction',['AdsCanvasMediaLibrarySetUploadPhotoDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasMediaLibrarySetUploadPhotoDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasMediaLibrarySetUploadStatusDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasMediaLibrarySetUploadStatus',actionType:'AdsCanvasMediaLibrary.SET_UPLOAD_STATUS'};f.exports=h}),null);
__d('AdsCanvasMediaLibrarySetUploadStatusDataAction',['AdsCanvasMediaLibrarySetUploadStatusDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasMediaLibrarySetUploadStatusDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasMediaLibrarySetUrlDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasMediaLibrarySetUrl',actionType:'AdsCanvasMediaLibrary.SET_URL'};f.exports=h}),null);
__d('AdsCanvasMediaLibrarySetUrlDataAction',['AdsCanvasMediaLibrarySetUrlDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasMediaLibrarySetUrlDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasMediaLibraryUploadMediaAssetDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasMediaLibraryUploadMediaAsset',actionType:'AdsCanvasMediaLibrary.UPLOAD_MEDIA_ASSET'};f.exports=h}),null);
__d('AdsCanvasMediaLibraryUploadMediaAssetDataAction',['AdsCanvasMediaLibraryUploadMediaAssetDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasMediaLibraryUploadMediaAssetDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasMediaLibraryActions',['AdsCanvasMediaLibrarySetDialogShownDataAction','AdsCanvasMediaLibrarySetSelectedImagesDataAction','AdsCanvasMediaLibrarySetTextInputDataAction','AdsCanvasMediaLibrarySetUploadPhotoDataAction','AdsCanvasMediaLibrarySetUploadStatusDataAction','AdsCanvasMediaLibrarySetUrlDataAction','AdsCanvasMediaLibraryUploadMediaAssetDataAction'],(function a(b,c,d,e,f,g){'use strict';var h={setDialogShown:function i(j,k){c('AdsCanvasMediaLibrarySetDialogShownDataAction').dispatch({dialogID:j,dialogShown:k})},setUploadPhoto:function i(j){c('AdsCanvasMediaLibrarySetUploadPhotoDataAction').dispatch({uploadPhoto:j})},setUploadStatus:function i(j){c('AdsCanvasMediaLibrarySetUploadStatusDataAction').dispatch({uploadStatus:j})},setWebsiteURL:function i(j){c('AdsCanvasMediaLibrarySetUrlDataAction').dispatch({url:j})},setSelectedImages:function i(j){c('AdsCanvasMediaLibrarySetSelectedImagesDataAction').dispatch({selectedImages:j})},setTextInput:function i(j){c('AdsCanvasMediaLibrarySetTextInputDataAction').dispatch({textInput:j})},uploadMediaAsset:function i(j,k){c('AdsCanvasMediaLibraryUploadMediaAssetDataAction').dispatch({page_id:j,images:k})}};f.exports=h}),null);
__d('InstantShoppingSequenceEventsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:InstantShoppingSequenceEventsLoggerConfig',this.$InstantShoppingSequenceEventsTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:InstantShoppingSequenceEventsLoggerConfig',this.$InstantShoppingSequenceEventsTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$InstantShoppingSequenceEventsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$InstantShoppingSequenceEventsTypedLogger1=babelHelpers['extends']({},this.$InstantShoppingSequenceEventsTypedLogger1,j);return this};h.prototype.setActionType=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.action_type=j;return this};h.prototype.setActionURL=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.action_url=j;return this};h.prototype.setAdAccountID=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.ad_account_id=j;return this};h.prototype.setAdID=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.ad_id=j;return this};h.prototype.setAdProductTypesName=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.ad_product_types_name=c('GeneratedLoggerUtils').serializeVector(j);return this};h.prototype.setBrowserMetricsJoinKey=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.browser_metrics_join_key=j;return this};h.prototype.setCanvasID=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.canvas_id=j;return this};h.prototype.setCanvasMutedOnClose=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.canvas_muted_on_close=j;return this};h.prototype.setCanvasScreenViewPercent=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.canvas_screen_view_percent=j;return this};h.prototype.setCanvasViewPercent=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.canvas_view_percent=j;return this};h.prototype.setCanvasViewTime=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.canvas_view_time=j;return this};h.prototype.setCatalogContentCached=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.catalog_content_cached=j;return this};h.prototype.setCatalogDownloadTime=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.catalog_download_time=j;return this};h.prototype.setCatalogID=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.catalog_id=j;return this};h.prototype.setCatalogRenderTime=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.catalog_render_time=j;return this};h.prototype.setChildElementsViewed=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.child_elements_viewed=j;return this};h.prototype.setClickSource=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.click_source=j;return this};h.prototype.setClientTime=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.client_time=j;return this};h.prototype.setCloseReason=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.close_reason=j;return this};h.prototype.setComponentDwellTime=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.component_dwell_time=j;return this};h.prototype.setComponentHeights=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.component_heights=c('GeneratedLoggerUtils').serializeVector(j);return this};h.prototype.setComponentID=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.component_id=j;return this};h.prototype.setDidTilt=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.did_tilt=j;return this};h.prototype.setDocumentView=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.document_view=j;return this};h.prototype.setElementClick=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.element_click=j;return this};h.prototype.setElementDescription=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.element_description=j;return this};h.prototype.setElementText=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.element_text=j;return this};h.prototype.setElementTitle=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.element_title=j;return this};h.prototype.setElementType=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.element_type=j;return this};h.prototype.setEntryPoint=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.entry_point=j;return this};h.prototype.setEventName=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.event_name=j;return this};h.prototype.setExpand=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.expand=j;return this};h.prototype.setFeedUnitMediaType=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.feed_unit_media_type=j;return this};h.prototype.setFeedUnitVideoMuted=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.feed_unit_video_muted=j;return this};h.prototype.setHasAudio=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.has_audio=j;return this};h.prototype.setHasAudioOnFirstScreen=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.has_audio_on_first_screen=j;return this};h.prototype.setImpressionViewPercent=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.impression_view_percent=j;return this};h.prototype.setIsEmployee=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.is_employee=j;return this};h.prototype.setIsLegal=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.is_legal=j;return this};h.prototype.setIsP2=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.is_p2=j;return this};h.prototype.setIsReload=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.is_reload=j;return this};h.prototype.setIsSwipeToOpen=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.is_swipe_to_open=j;return this};h.prototype.setIsTestUser=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.is_test_user=j;return this};h.prototype.setIsVideo=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.is_video=j;return this};h.prototype.setLinkOpenTime=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.link_open_time=j;return this};h.prototype.setLoadTime=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.load_time=j;return this};h.prototype.setLoggingPushPhase=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.logging_push_phase=j;return this};h.prototype.setMutedOnClose=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.muted_on_close=j;return this};h.prototype.setMutedOnOpen=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.muted_on_open=j;return this};h.prototype.setNumProducts=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.num_products=j;return this};h.prototype.setPlacement=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.placement=j;return this};h.prototype.setPostClickValueFlag=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.post_click_value_flag=j;return this};h.prototype.setProductID=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.product_id=j;return this};h.prototype.setProductPosition=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.product_position=j;return this};h.prototype.setProductSetVerticalName=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.product_set_vertical_name=j;return this};h.prototype.setRef=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.ref=j;return this};h.prototype.setRenderingPushPhase=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.rendering_push_phase=j;return this};h.prototype.setSaved=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.saved=j;return this};h.prototype.setScrollViewHeight=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.scroll_view_height=j;return this};h.prototype.setSessionID=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.session_id=j;return this};h.prototype.setSlideshowIndex=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.slideshow_index=j;return this};h.prototype.setSubattachmentIndex=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.subattachment_index=j;return this};h.prototype.setSubstoryIndex=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.substory_index=j;return this};h.prototype.setSwipeProductCard=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.swipe_product_card=j;return this};h.prototype.setSwipeToOpenViewTime=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.swipe_to_open_view_time=j;return this};h.prototype.setTapOnProductCard=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.tap_on_product_card=j;return this};h.prototype.setTapOnTouchTarget=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.tap_on_touch_target=j;return this};h.prototype.setTemplateName=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.template_name=j;return this};h.prototype.setTotalHeightViewed=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.total_height_viewed=j;return this};h.prototype.setTti=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.tti=j;return this};h.prototype.setVC=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.vc=j;return this};h.prototype.setViewTime=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.view_time=j;return this};h.prototype.setVolumeOnClose=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.volume_on_close=j;return this};h.prototype.setVolumeOnOpen=function(j){this.$InstantShoppingSequenceEventsTypedLogger1.volume_on_open=j;return this};var i={action_type:true,action_url:true,ad_account_id:true,ad_id:true,ad_product_types_name:true,browser_metrics_join_key:true,canvas_id:true,canvas_muted_on_close:true,canvas_screen_view_percent:true,canvas_view_percent:true,canvas_view_time:true,catalog_content_cached:true,catalog_download_time:true,catalog_id:true,catalog_render_time:true,child_elements_viewed:true,click_source:true,client_time:true,close_reason:true,component_dwell_time:true,component_heights:true,component_id:true,did_tilt:true,document_view:true,element_click:true,element_description:true,element_text:true,element_title:true,element_type:true,entry_point:true,event_name:true,expand:true,feed_unit_media_type:true,feed_unit_video_muted:true,has_audio:true,has_audio_on_first_screen:true,impression_view_percent:true,is_employee:true,is_legal:true,is_p2:true,is_reload:true,is_swipe_to_open:true,is_test_user:true,is_video:true,link_open_time:true,load_time:true,logging_push_phase:true,muted_on_close:true,muted_on_open:true,num_products:true,placement:true,post_click_value_flag:true,product_id:true,product_position:true,product_set_vertical_name:true,ref:true,rendering_push_phase:true,saved:true,scroll_view_height:true,session_id:true,slideshow_index:true,subattachment_index:true,substory_index:true,swipe_product_card:true,swipe_to_open_view_time:true,tap_on_product_card:true,tap_on_touch_target:true,template_name:true,total_height_viewed:true,tti:true,vc:true,view_time:true,volume_on_close:true,volume_on_open:true};f.exports=h}),null);
__d('AdsCanvasDailyDialogueSVGElementPreview.react',['fbt','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props.SVGElement.SVGSource;if(m==null)return c('React').createElement('div',null,h._("Preview Unavailable."));return c('React').createElement('div',{style:{overflow:'scroll'}},'will add preview later')};function l(){i.apply(this,arguments)}l.PropTypes={SVGElement:k.object.isRequired};f.exports=l}),null);
__d('AdsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlay.react',['cx','immutable','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('immutable').List;function j(l){return c('React').createElement('div',{className:"_oz4"},l.productTags.map(function(m,n){if(!m.coordinates||l.activeProductID!=null&&m.productID!=l.activeProductID)return null;var o=m.coordinates;return c('React').createElement('div',{key:n},c('React').createElement(k,{left:o.get('x')*100+'%',top:o.get('y')*100+'%'}))}).toArray())}function k(l){return c('React').createElement('div',{className:"_oz7",style:{top:l.top,left:l.left}})}f.exports=j}),null);
__d('AdsCanvasInlineUIRecord',['immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').Record({canvasID:'',inlineTab:'create',productTaggingOverlayPhotoElementID:undefined,productTaggingOverlayProductID:null,showInlineModal:false,templateID:undefined});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d('AdsCanvasInlineUIStore',['AdsCanvasInlineUIRecord','AdsDataActionTypes','AdsDispatcher','FluxReduceStore','adsCreateStoreSelector'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k;h=babelHelpers.inherits(l,c('AdsCanvasInlineUIRecord'));i=h&&h.prototype;function l(){h.apply(this,arguments)}j=babelHelpers.inherits(m,c('FluxReduceStore'));k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.getInlineTab=c('adsCreateStoreSelector')([this],function(){return this.getState().get('inlineTab')}.bind(this)),o}m.prototype.getInitialState=function(){return new l()};m.prototype.reduce=function(n,o){var p=o.action;switch(p.type){case c('AdsDataActionTypes').canvasInlineBuilderRemoveInlineCanvasData:return n.set('canvasID',null).set('templateID',null);case c('AdsDataActionTypes').canvasInlineBuilderShowInlineModal:return n.set('showInlineModal',p.showModal).set('canvasID',p.canvasID).set('templateID',p.templateID);case c('AdsDataActionTypes').canvasInlineBuilderSwitchInlineTabs:return n.set('inlineTab',p.tab);case c('AdsDataActionTypes').uEditorAdgroupSetCanvasDocument:return n.set('showInlineModal',false);case c('AdsDataActionTypes').canvasInlineBuilderShowProductTaggingOverlay:return n.set('productTaggingOverlayPhotoElementID',p.photoElementID).set('productTaggingOverlayProductID',p.productID);case c('AdsDataActionTypes').canvasInlineBuilderHideProductTaggingOverlay:return n.set('productTaggingOverlayPhotoElementID',null).set('productTaggingOverlayProductID',null);default:return n;}};m.prototype.getShowInlineModal=function(){return this.getState().get('showInlineModal')};m.prototype.getCanvasID=function(){return this.getState().get('canvasID')};m.prototype.getTemplateID=function(){return this.getState().get('templateID')};m.prototype.getProductTaggingOverlayPhotoElementID=function(){return this.getState().get('productTaggingOverlayPhotoElementID')};m.prototype.getProductTaggingOverlayProductID=function(){return this.getState().get('productTaggingOverlayProductID')};f.exports=new m(c('AdsDispatcher'))}),null);
__d('adsCanvasEditorProductTaggingUIStateSelector',['AdsCanvasInlineUIStore','adsCreateStoreSelector','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h=c('adsCreateStoreSelector')([c('AdsCanvasInlineUIStore')],function(i){var j=c('AdsCanvasInlineUIStore').getProductTaggingOverlayPhotoElementID();if(j!==i)return {shown:false};return {shown:true,productID:c('nullthrows')(c('AdsCanvasInlineUIStore').getProductTaggingOverlayProductID())}});f.exports=h}),null);
__d('adsCanvasElementSelector',['AdsCanvasElementStore','adsCreateStoreSelector'],(function a(b,c,d,e,f,g){'use strict';var h=c('adsCreateStoreSelector')([c('AdsCanvasElementStore')],function(i){return c('AdsCanvasElementStore').get(i)});f.exports=h}),null);
__d('adsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlaySelector',['invariant','AdsCanvasPhotoElement','immutable','adsCanvasEditorProductTaggingUIStateSelector','adsCanvasElementSelector','adsCreateStoreSelector','getByPath'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('immutable').List,j=c('adsCreateStoreSelector')([].concat(c('adsCanvasEditorProductTaggingUIStateSelector').getStores(),c('adsCanvasElementSelector').getStores()),function(k){var l=c('adsCanvasElementSelector')(k);if(!l.hasValue())return {isReady:false};var m=l.getValueEnforcing();m instanceof c('AdsCanvasPhotoElement')||h(0);var n=c('adsCanvasEditorProductTaggingUIStateSelector')(k);return {isReady:true,productTags:m.productTags?m.productTags:i(),activeProductID:c('getByPath')(n,['productID'])}});f.exports=j}),null);
__d('AdsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlayContainer.react',['AdsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlay.react','FluxContainer','React','adsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlaySelector'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').PureComponent);i=h&&h.prototype;j.getStores=function(){return c('adsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlaySelector').getStores()};j.calculateState=function(k,l){return c('adsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlaySelector')(l.photoElementID)};j.prototype.render=function(){if(!this.state.isReady)return null;return c('React').createElement(c('AdsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlay.react'),{activeProductID:this.state.activeProductID,height:this.props.height,productTags:this.state.productTags,width:this.props.width})};function j(){h.apply(this,arguments)}f.exports=c('FluxContainer').create(j,{withProps:true})}),null);
__d('AdsCanvasPreviewPhotoElementProductTaggingOverlay.react',['ix','cx','fbt','Image.react','immutable','React','SUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('immutable').Map;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$AdsCanvasPreviewPhotoElementProductTaggingOverlay1=function(t){var u=t.nativeEvent,v=u.offsetX,w=u.offsetY,x=this.refs['tagging-overlay'],y=x.offsetHeight,z=x.offsetWidth;this.props.onSetCoordinates(m({x:v/z,y:w/y}))}.bind(this),this.$AdsCanvasPreviewPhotoElementProductTaggingOverlay2=function(t){t.stopPropagation();this.props.onDone()}.bind(this),this.$AdsCanvasPreviewPhotoElementProductTaggingOverlay3=function(t){t.stopPropagation();this.props.onSetCoordinates(null)}.bind(this),p}n.prototype.render=function(){var o=this.props.hasCoordinates?j._("Click on the photo to update the tag"):j._("Click on the photo to add a tag"),p=this.props.hasCoordinates?c('React').createElement('div',{role:'link',tabIndex:0,onClick:this.$AdsCanvasPreviewPhotoElementProductTaggingOverlay3},c('React').createElement(c('Image.react'),{className:"_1uaf",src:h("319342")}),c('React').createElement(c('SUIText.react'),{className:"_4651",shade:'white',weight:'bold'},j._("Remove Tag"))):null;return c('React').createElement('div',{className:"_464-",ref:'tagging-overlay',role:'link',tabIndex:0,onClick:this.$AdsCanvasPreviewPhotoElementProductTaggingOverlay1},c('React').createElement('div',{className:"_464_"},c('React').createElement('div',{className:"_4650"},c('React').createElement(c('Image.react'),{className:"_1uag",src:h("274453")}),c('React').createElement(c('SUIText.react'),{className:"_4651",shade:'white'},o)),p,c('React').createElement('div',{role:'link',tabIndex:0,onClick:this.$AdsCanvasPreviewPhotoElementProductTaggingOverlay2},c('React').createElement(c('SUIText.react'),{className:"_4651",shade:'white',weight:'bold'},j._("Done")))))};f.exports=n}),null);
__d('adsCanvasEditorProductTaggingTokenizerTokenTagButtonSelector',['invariant','AdsCanvasPhotoElement','adsCanvasElementSelector','adsCreateStoreSelector','nullthrows'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('adsCreateStoreSelector')([].concat(c('adsCanvasElementSelector').getStores()),function(j){var k=j.photoElementID,l=j.productID,m=c('adsCanvasElementSelector')(k);if(!m.hasValue())return {isReady:false};var n=m.getValueEnforcing();n instanceof c('AdsCanvasPhotoElement')||h(0);n.productTags!=null||h(0);var o=c('nullthrows')(n.productTags).find(function(p){return p.productID===l});o!=null||h(0);return {isReady:true,actived:o.coordinates!=null}});f.exports=i}),null);
__d('adsCanvasPreviewPhotoElementProductTaggingSelector',['adsCanvasEditorProductTaggingTokenizerTokenTagButtonSelector','adsCanvasEditorProductTaggingUIStateSelector','adsCreateStoreSelector'],(function a(b,c,d,e,f,g){'use strict';var h=c('adsCreateStoreSelector')([].concat(c('adsCanvasEditorProductTaggingTokenizerTokenTagButtonSelector').getStores(),c('adsCanvasEditorProductTaggingUIStateSelector').getStores()),function(i){var j=c('adsCanvasEditorProductTaggingUIStateSelector')(i);if(!j.shown)return {shown:false};var k=c('adsCanvasEditorProductTaggingTokenizerTokenTagButtonSelector')({photoElementID:i,productID:j.productID});if(!k.isReady)return {shown:false};return {hasCoordinates:k.actived,productID:j.productID,shown:true}});f.exports=h}),null);
__d('AdsCanvasPreviewPhotoElementProductTaggingOverlayContainer.react',['invariant','AdsCanvasInlineBuilderActions','AdsCanvasPreviewPhotoElementProductTaggingOverlay.react','FluxContainer','React','adsCanvasPreviewPhotoElementProductTaggingSelector'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$AdsCanvasPreviewPhotoElementProductTaggingOverlayContainer2=function(q){this.state.productID!=null||h(0);c('AdsCanvasInlineBuilderActions').setProductTaggingCoordinates(this.props.photoElementID,this.state.productID,q)}.bind(this),m}k.getStores=function(){return c('adsCanvasPreviewPhotoElementProductTaggingSelector').getStores()};k.calculateState=function(l,m){return c('adsCanvasPreviewPhotoElementProductTaggingSelector')(m.photoElementID)};k.prototype.render=function(){if(!this.state.shown)return null;return c('React').createElement(c('AdsCanvasPreviewPhotoElementProductTaggingOverlay.react'),{hasCoordinates:this.state.hasCoordinates,onDone:this.$AdsCanvasPreviewPhotoElementProductTaggingOverlayContainer1,onSetCoordinates:this.$AdsCanvasPreviewPhotoElementProductTaggingOverlayContainer2})};k.prototype.$AdsCanvasPreviewPhotoElementProductTaggingOverlayContainer1=function(){c('AdsCanvasInlineBuilderActions').hideProductTaggingOverlay()};f.exports=c('FluxContainer').create(k,{withProps:true})}),null);
__d('AdsCanvasPreviewCarouselSlider.react',['cx','React','ShimButton.react','getByPath','nullthrows'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;m.prototype.render=function(){var p=500,q=c('React').Children.count(this.props.children),r=-this.props.slideWidth*this.props.currentSlide;if(this.props.swipeOffset)r+=this.props.swipeOffset;var s={height:this.props.slideHeight,width:(q+2)*this.props.slideWidth,WebkitTransform:'translate3d('+r+'px, 0px, 0px)',transform:'translate3d('+r+'px, 0px, 0px)',msTransform:'translateX('+r+'px)',WebkitTransition:'-webkit-transform '+p+'ms ease',transition:'transform '+p+'ms ease'};if(!s.height)delete s.height;return c('React').createElement('div',{style:s},c('React').Children.map(this.props.children,function(t,u){return c('React').createElement('div',{key:u,style:{display:'inline-block',width:this.props.slideWidth,height:this.props.slideHeight,position:'relative'}},t)}.bind(this)))};function m(){i.apply(this,arguments)}function n(p){return c('React').createElement('ul',{className:"_se5"},p.children&&p.children.map(function(q,r){return c('React').createElement('li',{key:r},c('React').createElement(c('ShimButton.react'),{className:(p.showIndicator?"_se6":'')+(p.showIndicator&&!p.instagramPreview?' '+"_5_dk":'')+(r===p.currentSlide&&!p.instagramPreview?' '+"_seb":'')+(r!==p.currentSlide&&!p.instagramPreview?' '+"_sed":'')+(r===p.currentSlide&&p.instagramPreview?' '+"_5_dl":'')+(r!==p.currentSlide&&p.instagramPreview?' '+"_5_dm":''),onClick:function s(t){return p.onChangeSlideHandler(r)}}))}))}k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(p){l.constructor.call(this,p);this.$AdsCanvasPreviewCarouselSlider4=function(q){if(this.props.children&&q>=0&&q<this.props.children.length)this.setState({currentSlide:q});}.bind(this);this.$AdsCanvasPreviewCarouselSlider1=function(event){var q=this.$AdsCanvasPreviewCarouselSlider5(event),r=q.x,s=q.y;this.setState({dragging:true,touchObject:{startX:r,startY:s,curX:r,curY:s}})}.bind(this);this.$AdsCanvasPreviewCarouselSlider3=function(event){if(!this.state.dragging||!this.state.touchObject)return;var q=this.$AdsCanvasPreviewCarouselSlider5(event),r=q.x,s=q.y,t=c('nullthrows')(this.state.touchObject);t.curX=r;t.curY=s;this.setState({touchObject:t,swipeOffset:t.curX-t.startX});event.preventDefault()}.bind(this);this.$AdsCanvasPreviewCarouselSlider2=function(event){if(!this.state.dragging||!this.state.touchObject)return;var q=50,r=this.state.currentSlide,s=this.state.touchObject;if(s.curX-s.startX>q){r--}else if(s.curX-s.startX<-q)r++;if(r<0){r=0}else if(this.props.children&&r>=this.props.children.length)r=this.props.children.length-1;this.setState({currentSlide:r,dragging:false,swipeOffset:0,touchObject:null})}.bind(this);this.state={currentSlide:this.props.currentItemIndex,dragging:false,swipeOffset:0,touchObject:null}}o.prototype.componentWillReceiveProps=function(p){this.setState({currentSlide:p.currentItemIndex})};o.prototype.render=function(){var p=!this.props.hideIndicator&&this.state.currentSlide<this.props.carouselLength-1,q=this.props.leftOffsetInMiddle&&this.state.currentSlide!==0,r=q?c('nullthrows')(this.props.leftOffsetInMiddle)+'px':0;return c('React').createElement('div',{style:{paddingLeft:r},onMouseDown:this.$AdsCanvasPreviewCarouselSlider1,onMouseLeave:this.state.dragging?this.$AdsCanvasPreviewCarouselSlider2:null,onMouseMove:this.state.dragging?this.$AdsCanvasPreviewCarouselSlider3:null,onMouseUp:this.$AdsCanvasPreviewCarouselSlider2},c('React').createElement(m,{currentSlide:this.state.currentSlide,slideHeight:this.props.slideHeight,slideWidth:this.props.slideWidth,swipeOffset:this.state.swipeOffset},this.props.children),c('React').createElement(n,{currentSlide:this.state.currentSlide,instagramPreview:this.props.instagramPreview,showIndicator:p,onChangeSlideHandler:this.$AdsCanvasPreviewCarouselSlider4},this.props.children))};o.prototype.$AdsCanvasPreviewCarouselSlider5=function(event){var p=c('getByPath')(event,['touches','0','pageX']);if(p==null)p=event.clientX;var q=c('getByPath')(event,['touches','0','pageY']);if(q==null)q=event.clientY;return {x:p,y:q}};f.exports=o}),null);
__d('AdsCanvasPreviewProductCard.react',['ix','cx','fbt','Image.react','React','SUIBusinessTheme','SUISpinner.react','SUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';function k(l){if(!l.product.hasValue())return c('React').createElement('div',{className:"_e6z"},c('React').createElement('div',{className:"_3dye"},c('React').createElement(c('SUISpinner.react'),{theme:c('SUIBusinessTheme')})));var m=l.product.getValueEnforcing(),n=m.imgSource,o=m.name,p=m.price;return c('React').createElement('div',{className:"_e6z"},c('React').createElement(c('Image.react'),{className:"_e6-",height:'100',src:n,width:'100'}),c('React').createElement('div',{className:"_e6_"},c('React').createElement('div',{className:"_e73"},c('React').createElement(c('SUIText.react'),{className:"_3-94 ellipsis",display:'block',shade:'light',size:'medium'},o),l.hideProductPrices?null:c('React').createElement(c('SUIText.react'),{display:'block',size:'medium',weight:'bold'},p),c('React').createElement('div',{className:"_e74"},c('React').createElement('span',{className:"_e75"},c('React').createElement(c('Image.react'),{className:"_3-8_",src:h("125172")}),c('React').createElement(c('SUIText.react'),{className:"_e76",shade:'light',size:'medium'},j._("Shop")))))))}f.exports=k}),null);
__d('AdsCanvasProductStore',['AdsCanvasProductDataDispatcher','AdsDataActionTypes','AdsDispatcher','FluxLoadObjectStore','LoadObject'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxLoadObjectStore'));i=h&&h.prototype;j.prototype.reduce=function(k,l){var m=l.action;switch(m.type){case c('AdsDataActionTypes').canvasProductLoadSuccess:var n=m.product;return this.__handleOne(k,n.id,n);default:return k;}};j.prototype.__load=function(k){c('AdsCanvasProductDataDispatcher').getProduct(k)};function j(){h.apply(this,arguments)}f.exports=new j(c('AdsDispatcher'))}),null);
__d('adsCanvasProductCardSelector',['AdsCanvasProductStore','adsCreateStoreSelector'],(function a(b,c,d,e,f,g){'use strict';var h=c('adsCreateStoreSelector')([c('AdsCanvasProductStore')],function(i){return c('AdsCanvasProductStore').get(i)});f.exports=h}),null);
__d('AdsCanvasPreviewProductCardContainer.react',['AdsCanvasPreviewProductCard.react','FluxContainer','React','adsCanvasProductCardSelector'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').PureComponent);i=h&&h.prototype;j.getStores=function(){return c('adsCanvasProductCardSelector').getStores()};j.calculateState=function(k,l){var m=c('adsCanvasProductCardSelector')(l.productID);return {product:m}};j.prototype.render=function(){return c('React').createElement(c('AdsCanvasPreviewProductCard.react'),{hideProductPrices:this.props.hideProductPrices,product:this.state.product})};function j(){h.apply(this,arguments)}f.exports=c('FluxContainer').create(j,{withProps:true})}),null);
__d('AdsCanvasPreviewProductCardSlider.react',['cssVar','AdsCanvasPreviewCarouselSlider.react','AdsCanvasPreviewProductCardContainer.react','immutable','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('immutable').List;function j(k){var l=k.currentItemIndex,m=k.hideProductPrices,n=k.productTags;return c('React').createElement('div',{style:{paddingLeft:n.count()===1?'34px':0}},c('React').createElement(c('AdsCanvasPreviewCarouselSlider.react'),{carouselLength:n.count(),currentItemIndex:l==null||l>=n.count()?0:l,hideIndicator:true,leftOffsetInMiddle:24,slideHeight:parseInt("120px",10),slideWidth:350},n.map(function(o,p){return c('React').createElement('div',{key:p,style:{padding:'10px'}},c('React').createElement(c('AdsCanvasPreviewProductCardContainer.react'),{hideProductPrices:m,productID:o.productID}))}).toArray()))}f.exports=j}),null);
__d('RichMediaPreviewConstants',[],(function a(b,c,d,e,f,g){'use strict';f.exports={DEVICE_HEIGHT:720,DEVICE_WIDTH:405,BUTTON_HEIGHT:90,BOTTOM_BUTTON_HEIGHT:62,HEADER_HEIGHT:44,PREVIEW_ELEMENT_ID_PREFIX:'preview_element',PREVIEW_ELEMENTS_ID:'preview_elements',STORE_LOCATOR_HEADER_RATIO:.3,STORE_LOCATOR_MAP_RATIO:.7}}),null);
__d('RichMediaPreviewUtil',['RichMediaElementTypeConstant','RichMediaElementUtil','RichMediaPreviewConstants'],(function a(b,c,d,e,f,g){'use strict';var h=c('RichMediaPreviewConstants').BOTTOM_BUTTON_HEIGHT,i=c('RichMediaPreviewConstants').HEADER_HEIGHT,j=c('RichMediaElementTypeConstant').RichMediaElementTypes,k={getScrollableAreaFullHeight:function l(m,n){var o=false,p=false;if(Array.isArray(n)){o=c('RichMediaElementUtil').getFixToBottomButtonElement(n);p=c('RichMediaElementUtil').hasFixToTopHeaderElement(n)}else if(n.count()>0){p=n.first().getElementType()===j.HEADER;o=n.last().getElementType()===j.FOOTER}return m-(o?h:0)-(p?i:0)},getNewScrollableAreaFullHeight:function l(m,n,o){return m-(o?h:0)-(n?i:0)},formatPadding:function l(m){var n=m?m.paddingTop:'0',o=m?m.paddingBottom:'0';return n+'px 0px '+o+'px'}};f.exports=k}),null);
__d('AdsCanvasPreviewPhotoElement.react',['cssVar','cx','AdsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlayContainer.react','AdsCanvasPreviewPhotoElementProductTaggingOverlayContainer.react','AdsCanvasPreviewProductCardSlider.react','AdsCanvasWebdriverIDs','AdsImageUtils','Image.react','React','RichMediaPreviewUtil'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){var m=this.props.photoElement,n=m.crops;if(n&&n.aspectRatio){var o=m.photo,p=o.src;if(p){return c('AdsImageUtils').renderScaledCroppedImage(p,this.props.width,parseInt(this.props.width/n.aspectRatio,10),o.width,o.height,n.crop)}else return c('React').createElement('div',{className:"_49qc",style:{height:this.props.width,width:this.props.width}},c('React').createElement(c('Image.react'),{src:'/images/ads/rich_media/photo_placeholder.png'}));}if(m.photo){var q=m.photo,r=q.src;if(r){var s=0,t=0;if(m.layout=='fit_to_height'){s=this.props.fullHeight;t=q.width*this.props.fullHeight/q.height}else{t=this.props.width;s=q.height*this.props.width/q.width}var u=t>this.props.width?this.props.width:t,v=m.productTags!=null&&m.productTags.count()>0,w=v?parseInt("120px",10):0,x=(u-t)/2,y={height:s+w,width:u,overflow:'hidden',padding:c('RichMediaPreviewUtil').formatPadding(this.props.photoElement.padding)},z={position:'relative',left:x},aa=v?c('React').createElement(c('AdsCanvasPreviewProductCardSlider.react'),{currentItemIndex:m.currentItemIndex,hideProductPrices:m.hideProductPrices,productTags:m.productTags}):null,ba=v?c('React').createElement(c('AdsCanvasPreviewPhotoElementProductTaggingHotSpotsOverlayContainer.react'),{height:s,photoElementID:this.props.photoElement.id,width:t}):null;return c('React').createElement('div',{'data-index':m.index,'data-testid':c('AdsCanvasWebdriverIDs').PREVIEW_PHOTO_COMPONENT,style:y},c('React').createElement('div',{style:{height:s,width:t,position:'relative'}},c('React').createElement(c('Image.react'),{'data-testid':c('AdsCanvasWebdriverIDs').PREVIEW_PHOTO_IMAGE,height:s,src:r,style:z,width:t}),ba,c('React').createElement(c('AdsCanvasPreviewPhotoElementProductTaggingOverlayContainer.react'),{photoElementID:this.props.photoElement.id})),aa)}}return c('React').createElement('div',null,c('React').createElement('div',{className:"_49qc",style:{height:this.props.width,width:this.props.width}},c('React').createElement(c('Image.react'),{src:'/images/ads/rich_media/photo_placeholder.png'})))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d('RichMediaEditorColorDialog.react',['cx','invariant','colr','color-picker','ContextualLayerAutoFlip','ContextualLayerUpdateOnScroll','Keys','LayerHideOnBlur','React','XUIContextualDialog.react','XUIContextualDialogBody.react','XUIContextualDialogFooter.react','XUIDialogCloseButton.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(o){k.constructor.call(this,o);n.call(this);var p=o.color.substr(1);this.state={inputValue:p,showColorPicker:false}}m.prototype.render=function(){return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_1ky7"),ref:'nub',role:'button',style:babelHelpers['extends']({},this.props.style),tabIndex:0,onClick:this.showDialog},this.$RichMediaEditorColorDialog1(),this.props.children)};m.prototype.$RichMediaEditorColorDialog1=function(){return c('React').createElement(c('XUIContextualDialog.react'),{behaviors:{ContextualLayerAutoFlip:c('ContextualLayerAutoFlip'),ContextualLayerUpdateOnScroll:c('ContextualLayerUpdateOnScroll'),LayerHideOnBlur:c('LayerHideOnBlur')},contextRef:this.$RichMediaEditorColorDialog2,position:'below',shown:this.state.showColorPicker,width:c('XUIContextualDialog.react').WIDTH.NORMAL,onToggle:this.$RichMediaEditorColorDialog3},c('React').createElement(c('XUIContextualDialogBody.react'),null,c('React').createElement('div',{className:"_1ky8"},c('React').createElement(c('color-picker'),{color:this.props.color,onChange:this.$RichMediaEditorColorDialog4})),c('React').createElement('div',{className:"_1ky9"},'#',c('React').createElement('input',{className:"_1kya",maxLength:6,ref:'textInput',style:this.$RichMediaEditorColorDialog5(),value:this.state.inputValue,onChange:this.$RichMediaEditorColorDialog6,onKeyPress:this.$RichMediaEditorColorDialog7,onKeyUp:this.$RichMediaEditorColorDialog8}))),c('React').createElement(c('XUIContextualDialogFooter.react'),null,c('React').createElement(c('XUIDialogCloseButton.react'),{label:'Close',use:'confirm',onClick:this.$RichMediaEditorColorDialog9})))};m.prototype.hideDialog=function(){this.$RichMediaEditorColorDialog3(false)};m.prototype.$RichMediaEditorColorDialog7=function(event){if(event.charCode===c('Keys').ESC||event.charCode>=c('Keys').ZERO&&event.charCode<=c('Keys').NINE||event.charCode>=c('Keys').A&&event.charCode<=c('Keys').F||event.charCode>=c('Keys').NUMPAD_1&&event.charCode<=c('Keys').NUMPAD_6)return;event.preventDefault()};m.prototype.$RichMediaEditorColorDialog5=function(){var o=c('colr').fromHex(this.props.color).toGrayscale()/255,p=o>.5?'#000':'#FFF';return {backgroundColor:this.props.color,color:p}};m.propTypes={className:l.string,color:l.string.isRequired,disabled:l.bool,style:l.object,onChange:l.func.isRequired};var n=function o(){this.showDialog=function(){this.$RichMediaEditorColorDialog3(true)}.bind(this);this.$RichMediaEditorColorDialog2=function(){return this.refs.nub}.bind(this);this.$RichMediaEditorColorDialog8=function(event){if(event.charCode===c('Keys').ESC)this.$RichMediaEditorColorDialog3(false);}.bind(this);this.$RichMediaEditorColorDialog9=function(){this.$RichMediaEditorColorDialog3(false)}.bind(this);this.$RichMediaEditorColorDialog3=function(p){if(p!==this.state.showColorPicker)this.setState({showColorPicker:p});}.bind(this);this.$RichMediaEditorColorDialog6=function(p){var q=p.target;q instanceof HTMLInputElement||i(0);this.setState({inputValue:q.value});var r=void 0;try{r=c('colr').fromHex('#'+q.value).toHex()}catch(s){}if(r)this.props.onChange(r);}.bind(this);this.$RichMediaEditorColorDialog4=function(p){this.setState({inputValue:p.substr(1)});this.props.onChange(p)}.bind(this)};f.exports=m}),null);
__d('RichMediaEditorColorInput.react',['cx','fbt','React','RichMediaEditorColorDialog.react','XUIButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'RichMediaEditorColorInput',propTypes:{color:j.string.isRequired,disabled:j.bool,onChange:j.func.isRequired},render:function l(){return c('React').createElement(c('RichMediaEditorColorDialog.react'),{className:"_1l-d"+(this.props.disabled?' '+"_4k_6":''),color:this.props.color,disabled:this.props.disabled,onChange:this.props.onChange},c('React').createElement(c('XUIButton.react'),{className:"_18dg",disabled:this.props.disabled,label:i._("Change color"),labelIsHidden:true,style:{backgroundColor:this.props.color}}))}});f.exports=k}),null);
__d('RichMediaEditorTextEditor.react',['ix','cx','fbt','AdsCanvasWebdriverIDs','CanvasCreationEvent','CanvasCreationWaterfallTypedLogger','DraftEditor.react','EditorState','Image.react','PopoverMenu.react','React','ReactXUIMenu','colr','RichTextEditorUtil','RichMediaEditorColorInput.react','RichMediaLoggingStoreUtils','RichMediaPreviewUtil','RichMediaRichFormatText','ShimButton.react','Text','XUISelector.react','XUISelectorButton.react','decodeBlocks','encodeBlocks','RichMediaEditorConstants'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa=c('ReactXUIMenu').SelectableItem,ba=c('ReactXUIMenu').SelectableMenu,ca=c('XUISelector.react').Option,da=c('RichMediaEditorConstants').EDITOR_FONT_FAMILIES,ea=c('RichMediaEditorConstants').EDITOR_LINE_HEIGHT,fa=c('RichMediaEditorConstants').EDITOR_PADDING_PREVIEW_SCALE,ga=c('React').PropTypes;k=babelHelpers.inherits(ha,c('React').Component);l=k&&k.prototype;function ha(){var ta,ua;for(var va=arguments.length,wa=Array(va),xa=0;xa<va;xa++)wa[xa]=arguments[xa];return ua=(ta=l.constructor).call.apply(ta,[this].concat(wa)),this.$StyleButton1=function(ya){ya.preventDefault();this.props.onToggle(this.props.style)}.bind(this),ua}ha.prototype.render=function(){var ta=this.props.style;return c('React').createElement(c('ShimButton.react'),{className:"_1fp0"+(ta==='BOLD'?' '+"_v1g":'')+(ta==='ITALIC'?' '+"_v1n":'')+(ta==='UNDERLINE'?' '+"_v1o":'')+(this.props.active?' '+"_v1p":'')+(this.props.disabled?' '+"_4k_6":''),onClick:this.props.disabled?null:this.$StyleButton1},c('React').createElement(c('Text'),null,this.props.label))};var ia=[{label:j._("B"),style:'BOLD'},{label:j._("I"),style:'ITALIC'},{label:j._("U"),style:'UNDERLINE'}];m=babelHelpers.inherits(ja,c('React').Component);n=m&&m.prototype;ja.prototype.render=function(){var ta=this.props.editorState.getCurrentInlineStyle();return c('React').createElement('div',{className:"_v1q"},ia.map(function(ua){return c('React').createElement(ha,{active:ta.has(ua.style),disabled:this.props.disabled,key:ua.style,label:ua.label,style:ua.style,onToggle:this.props.onToggle})}.bind(this)))};function ja(){m.apply(this,arguments)}ja.propTypes={disabled:ga.bool,editorState:ga.object.isRequired,onToggle:ga.func.isRequired};o=babelHelpers.inherits(ka,c('React').Component);p=o&&o.prototype;function ka(){var ta,ua;for(var va=arguments.length,wa=Array(va),xa=0;xa<va;xa++)wa[xa]=arguments[xa];return ua=(ta=p.constructor).call.apply(ta,[this].concat(wa)),this.$TextAlignmentButton1=function(ya){ya.preventDefault();this.props.onToggle(this.props.textAlignment)}.bind(this),ua}ka.prototype.render=function(){return c('React').createElement(c('ShimButton.react'),{className:"_1fp0"+(this.props.active?' '+"_v1p":''),onClick:this.props.disabled?null:this.$TextAlignmentButton1},c('React').createElement('div',{className:"_5p-"+(this.props.textAlignment==='left'?' '+"_1fp1":'')+(this.props.textAlignment=='center'?' '+"_1fp2":'')+(this.props.textAlignment=='right'?' '+"_1fp3":'')}))};ka.propTypes={active:ga.bool.isRequired,disabled:ga.bool,textAlignment:ga.string.isRequired,onToggle:ga.func.isRequired};var la=['left','center','right'];q=babelHelpers.inherits(ma,c('React').Component);r=q&&q.prototype;ma.prototype.render=function(){return c('React').createElement('div',{className:"_v1q"+(this.props.disabled?' '+"_4k_6":'')},la.map(function(ta){return c('React').createElement(ka,{active:this.props.textAlignment===ta,disabled:this.props.disabled,key:ta,textAlignment:ta,onToggle:this.props.onToggle})}.bind(this)))};function ma(){q.apply(this,arguments)}ma.propTypes={disabled:ga.bool,textAlignment:ga.string.isRequired,onToggle:ga.func.isRequired};var na=6,oa=72;s=babelHelpers.inherits(pa,c('React').Component);t=s&&s.prototype;pa.prototype.render=function(){var ta=[];for(var ua=na;ua<=oa;ua++)ta.push(ua);return c('React').createElement(c('XUISelector.react'),{className:"_5p_",disabled:this.props.disabled,maxheight:120,name:'font_size_selector',value:this.props.fontSize,onChange:function(va){return this.$FontSizeInput1(va.value)}.bind(this)},c('React').createElement(c('XUISelectorButton.react'),{className:"_5q0",haschevron:true}),ta.map(function(va){return c('React').createElement(ca,{key:va,value:va},va)}))};pa.prototype.$FontSizeInput1=function(ta){var ua=parseInt(ta,10);if(!isNaN(ua))this.props.onChange(ua);};function pa(){s.apply(this,arguments)}pa.propTypes={disabled:ga.bool,fontSize:ga.number.isRequired,onChange:ga.func.isRequired};u=babelHelpers.inherits(qa,c('React').Component);v=u&&u.prototype;function qa(){var ta,ua;for(var va=arguments.length,wa=Array(va),xa=0;xa<va;xa++)wa[xa]=arguments[xa];return ua=(ta=v.constructor).call.apply(ta,[this].concat(wa)),this.$FontFamilySelector1=function(event){this.props.onChange(event.value)}.bind(this),ua}qa.prototype.render=function(){return c('React').createElement(c('XUISelector.react'),{className:"_1rsy",disabled:this.props.disabled,maxheight:120,maxwidth:174,name:'font_selector',value:this.props.fontFamily,onChange:this.$FontFamilySelector1},c('React').createElement(c('XUISelectorButton.react'),{className:"_5r2",haschevron:true,maxwidth:150}),da.map(function(ta){return c('React').createElement(ca,{key:ta,value:ta},ta)}))};qa.propTypes={disabled:ga.bool,fontFamily:ga.string.isRequired,onChange:ga.func.isRequired};w=babelHelpers.inherits(ra,c('React').Component);x=w&&w.prototype;function ra(){var ta,ua;for(var va=arguments.length,wa=Array(va),xa=0;xa<va;xa++)wa[xa]=arguments[xa];return ua=(ta=x.constructor).call.apply(ta,[this].concat(wa)),this.state={selectedLineHeight:this.props.lineHeight},this.$LineHeightInput1=function(ya,za){var ab=za.item,bb=ab.getValue();this.setState({selectedLineHeight:bb});this.props.onChange(bb);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').EDITOR_LINE_HEIGHT_TOUCH).setEditorLineHeight(bb))}.bind(this),ua}ra.prototype.render=function(){if(this.props.hide)return null;var ta=ea.map(function(va){return c('React').createElement(aa,{key:va,selected:this.state.selectedLineHeight==va,value:va},va)}.bind(this)),ua=c('React').createElement(ba,{className:"_1k92",multiple:false,onChange:this.$LineHeightInput1},ta);return c('React').createElement(c('PopoverMenu.react'),{alignh:'right',className:"_3la2"+(this.props.disabled?' '+"_4k_6":''),disabled:this.props.disabled,menu:ua,name:'line_height'},c('React').createElement(c('XUISelectorButton.react'),{className:"_3la4",image:c('React').createElement(c('Image.react'),{src:h("23616")})}))};ra.defaultProps={disabled:false,hide:false};ra.propTypes={disabled:ga.bool,hide:ga.bool,lineHeight:ga.string.isRequired,onChange:ga.func.isRequired};y=babelHelpers.inherits(sa,c('React').Component);z=y&&y.prototype;function sa(){var ta,ua;for(var va=arguments.length,wa=Array(va),xa=0;xa<va;xa++)wa[xa]=arguments[xa];return ua=(ta=z.constructor).call.apply(ta,[this].concat(wa)),this.$RichMediaEditorTextEditor10=function(){return this.props.disableReturnHandler==true?'handled':'not-handled'}.bind(this),this.$RichMediaEditorTextEditor11=function(ya){if(this.props.preview)return;this.setState({editorState:ya});this.props.onChange(this.props.richFormatText.set('composedText',c('encodeBlocks')(ya.getCurrentContent())))}.bind(this),this.$RichMediaEditorTextEditor4=function(ya){this.$RichMediaEditorTextEditor11(c('RichTextEditorUtil').toggleInlineStyle(this.state.editorState,ya))}.bind(this),this.$RichMediaEditorTextEditor5=function(ya){this.props.onChange(this.props.richFormatText.set('textAlignment',ya))}.bind(this),this.$RichMediaEditorTextEditor3=function(ya){this.props.onChange(this.props.richFormatText.set('textColor',ya))}.bind(this),this.$RichMediaEditorTextEditor2=function(ya){this.props.onChange(this.props.richFormatText.set('fontSize',ya))}.bind(this),this.$RichMediaEditorTextEditor1=function(ya){this.props.onChange(this.props.richFormatText.set('fontFamily',ya))}.bind(this),this.$RichMediaEditorTextEditor6=function(ya){this.props.onChange(this.props.richFormatText.set('lineHeight',ya))}.bind(this),this.state={editorState:this.$RichMediaEditorTextEditor7(this.props.richFormatText)},ua}sa.prototype.render=function(){var ta=null,ua=this.state.editorState;if(!this.props.textPreview&&!this.props.buttonPreview){ta=c('React').createElement('div',{className:"_1fp4"},c('React').createElement(qa,{disabled:this.props.disabled,fontFamily:this.props.richFormatText.fontFamily,onChange:this.$RichMediaEditorTextEditor1}),c('React').createElement(pa,{disabled:this.props.disabled,fontSize:this.props.richFormatText.fontSize,onChange:this.$RichMediaEditorTextEditor2}),c('React').createElement('div',{className:"_5r3"},c('React').createElement(c('RichMediaEditorColorInput.react'),{color:this.props.richFormatText.textColor,disabled:this.props.disabled,onChange:this.$RichMediaEditorTextEditor3})),c('React').createElement(ja,{disabled:this.props.disabled,editorState:ua,onToggle:this.$RichMediaEditorTextEditor4}),this.props.hideTextAlignment?null:c('React').createElement(ma,{disabled:this.props.disabled,textAlignment:this.props.richFormatText.textAlignment,onToggle:this.$RichMediaEditorTextEditor5}),c('React').createElement(ra,{disabled:this.props.disabled,hide:this.props.hideLineHeightSelector,lineHeight:this.props.richFormatText.lineHeight,onChange:this.$RichMediaEditorTextEditor6}))}else ua=this.$RichMediaEditorTextEditor7(this.props.richFormatText);var va=this.props.buttonPreview||this.props.textPreview;return c('React').createElement('div',{className:(!va?"_v1r":'')+(!!this.props.textPreview&&!this.props.fullBleed?' '+"_5mmf":'')+(!!this.props.buttonPreview?' '+"_5mmg":'')+(this.props.oneLine&&!va?' '+"_1fj":'')+(!this.props.oneLine&&!va?' '+"_1fk":'')},ta,c('React').createElement('div',{style:{transition:'background-color 325ms ease',backgroundColor:va?'transparent':this.$RichMediaEditorTextEditor8(this.props.richFormatText.textColor),color:this.props.richFormatText.textColor,fontFamily:this.props.richFormatText.fontFamily,fontSize:this.props.richFormatText.fontSize,lineHeight:this.$RichMediaEditorTextEditor9(this.props.richFormatText.fontSize,this.props.richFormatText.lineHeight),padding:va?c('RichMediaPreviewUtil').formatPadding(this.props.padding):0}},c('React').createElement(c('DraftEditor.react'),{editorState:ua,handleReturn:this.$RichMediaEditorTextEditor10,placeholder:j._("Write something...").toString(),readOnly:this.props.disabled,textAlignment:this.props.richFormatText.textAlignment,webDriverTestID:c('AdsCanvasWebdriverIDs').TEXT_EDITOR,onChange:this.$RichMediaEditorTextEditor11})))};sa.prototype.$RichMediaEditorTextEditor7=function(ta){var ua=c('decodeBlocks')(ta.composedText.blocks,ta.composedText.entityMap);return c('EditorState').createWithContent(ua)};sa.prototype.$RichMediaEditorTextEditor8=function(ta){var ua=c('colr').fromHex(ta).toGrayscale()/255;return ua>.5?'#000':'#FFF'};sa.prototype.$RichMediaEditorTextEditor9=function(ta,ua){var va=parseFloat(ua,10)*fa*100;return va+'%'};sa.propTypes={buttonPreview:ga.bool,disableReturnHandler:ga.bool,disabled:ga.bool,fullBleed:ga.bool,hideLineHeightSelector:ga.bool,hideTextAlignment:ga.bool,oneLine:ga.bool,padding:ga.object,richFormatText:ga.instanceOf(c('RichMediaRichFormatText')).isRequired,textPreview:ga.bool,onChange:ga.func.isRequired};sa.defaultProps={buttonPreview:false,disableReturnHandler:false,hideLineHeightSelector:false,hideTextAlignment:false,oneLine:false,textPreview:false};f.exports=sa}),null);
__d('AdsCanvasPreviewTextElement.react',['AdsCanvasWebdriverIDs','React','RichMediaEditorTextEditor.react','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.props.textElement.backgroundColor?this.props.textElement.backgroundColor:'#FFFFFF';return c('React').createElement('div',{'data-index':this.props.textElement.index,'data-testid':c('AdsCanvasWebdriverIDs').PREVIEW_TEXT_COMPONENT,style:{background:k}},c('React').createElement(c('RichMediaEditorTextEditor.react'),{disabled:true,padding:this.props.textElement.padding,richFormatText:this.props.textElement.richFormatText,textPreview:true,onChange:c('emptyFunction')}))};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('AdsCanvasPreviewBundleElement.react',['fbt','AdsCanvasPreviewPhotoElement.react','AdsCanvasPreviewTextElement.react','React','RichMediaPhotoElement','RichMediaTextElement'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.bundleElement,m=l.get('items'),n=l.get('index');return c('React').createElement('div',null,m.map(function(o,p){return this.$AdsCanvasPreviewBundleElement1(o,p,n)}.bind(this)))};k.prototype.$AdsCanvasPreviewBundleElement1=function(l,m,n){var o=c('RichMediaPhotoElement').createFromBundle(l,m*3+1+n,'element_group_'+m),p=c('RichMediaTextElement').createFromBundle(l.get('itemHeadline')||h._("Add a product name or headline").toString(),l.get('link'),m*3+1+n,'element_group_'+m,'item_headline'),q=c('RichMediaTextElement').createFromBundle(l.get('itemDescription')||h._("Add a product price or description").toString(),l.get('link'),m*3+2+n,'element_group_'+m,'item_description');return c('React').createElement('div',{key:m},c('React').createElement(c('AdsCanvasPreviewPhotoElement.react'),{fullHeight:this.props.fullHeight,photoElement:o,width:this.props.width}),c('React').createElement(c('AdsCanvasPreviewTextElement.react'),{textElement:p}),c('React').createElement(c('AdsCanvasPreviewTextElement.react'),{textElement:q}))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d('AdsCanvasPreviewButtonElement.react',['cx','AdsCanvasWebdriverIDs','React','RichMediaEditorTextEditor.react','RichMediaPreviewUtil','emptyFunction'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.buttonElement.isFilled?{background:this.props.buttonElement.buttonColor}:{border:'solid 2px '+this.props.buttonElement.buttonColor},m=this.props.isBottomButton?{}:{padding:c('RichMediaPreviewUtil').formatPadding(this.props.buttonElement.padding)},n=babelHelpers['extends']({},m,{background:this.props.buttonElement.backgroundColor});return c('React').createElement('div',{'data-testid':c('AdsCanvasWebdriverIDs').PREVIEW_BUTTON_COMPONENT,style:n},c('React').createElement('div',{className:"_6w5",style:l},c('React').createElement(c('RichMediaEditorTextEditor.react'),{buttonPreview:true,disabled:true,richFormatText:this.props.buttonElement.richFormatText,onChange:c('emptyFunction')})))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d('AdsCanvasPreviewCarouselItem.react',['cx','ix','AdsCanvasWebdriverIDs','Image.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){var m=this.props.carouselItem.photo;if(m&&m.src){var n=this.$AdsCanvasPreviewCarouselItem1(m),o=this.props.instagramPreview?i("306030"):i("23610"),p=this.props.carouselItemIndex<this.props.carouselLength-1?c('React').createElement(c('Image.react'),{className:(!this.props.instagramPreview?"_gp2":'')+(this.props.instagramPreview?' '+"_5_jy":''),src:o}):null,q=this.props.carouselItemIndex===this.props.carouselLength-1&&!this.props.instagramPreview?c('React').createElement(c('Image.react'),{className:"_gp3",src:i("23609")}):null,r={overflow:'hidden',height:this.props.layout==='fit_to_width'&&this.props.firstPhotoHeight>0?this.props.firstPhotoHeight:n.height,width:this.props.width};return c('React').createElement('div',{className:"_gp4",style:r},p,q,c('React').createElement(c('Image.react'),{'data-index':this.props.carouselItemIndex,'data-testid':c('AdsCanvasWebdriverIDs').PREVIEW_CAROUSEL_IMAGE,height:n.height,src:m.src,style:{transform:'translateX('+(n.width>this.props.width?'-':'')+n.translateX+'px)'},width:n.width}))}else return c('React').createElement('div',{className:"_gp4",style:{height:this.props.slideHeight,width:this.props.width,background:"url('/images/ads/rich_media/photo_placeholder.png')"+' no-repeat center center'}});};l.prototype.$AdsCanvasPreviewCarouselItem1=function(m){var n=0,o=0,p=0;if(this.props.layout=='fit_to_height'){n=this.props.slideHeight;o=m.width*this.props.slideHeight/m.height}else{var q=m.height*this.props.width/m.width;if(this.props.firstPhotoHeight>0&&q<this.props.firstPhotoHeight){n=this.props.firstPhotoHeight;o=m.width*this.props.firstPhotoHeight/m.height}else{o=this.props.width;n=Math.min(q,this.props.slideHeight)}}if(o!=this.props.width)p=Math.abs((o-this.props.width)/2);return {height:n,translateX:p,width:o}};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d('AdsCanvasPreviewCarouselElement.react',['cx','AdsCanvasCarouselElement','AdsCanvasPreviewCarouselItem.react','AdsCanvasPreviewCarouselSlider.react','AdsCanvasWebdriverIDs','Image.react','React','RichMediaCarouselElement','RichMediaPreviewUtil'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.shouldComponentUpdate=function(l){if(this.props.carouselElement instanceof c('AdsCanvasCarouselElement'))return this.props.carouselElement!==l.carouselElement||this.props.instagramPreview!==l.instagramPreview;return !c('RichMediaCarouselElement').equals(this.props.carouselElement,l.carouselElement)||this.props.instagramPreview!==l.instagramPreview};k.prototype.render=function(){var l,m=this,n=this.props.carouselElement.items,o=Array.isArray(n)?n.length:n.count();if(o>0){var l=function(){var p=m.$AdsCanvasPreviewCarouselElement1(),q=0,r=Array.isArray(n)?n[0]:n.first();if(o>1&&r.photo)q=r.photo.height*m.props.width/r.photo.width;return {v:c('React').createElement('div',{className:"_5p-z",'data-testid':c('AdsCanvasWebdriverIDs').PREVIEW_CAROUSEL_COMPONENT,style:{margin:c('RichMediaPreviewUtil').formatPadding(m.props.carouselElement.padding)}},c('React').createElement(c('AdsCanvasPreviewCarouselSlider.react'),{carouselLength:o,currentItemIndex:m.props.carouselElement.selectedItemIndex,instagramPreview:m.props.instagramPreview,slideHeight:m.props.carouselElement.layout==='fit_to_width'?q:p,slideWidth:m.props.width},n.map(function(s,t){return c('React').createElement(c('AdsCanvasPreviewCarouselItem.react'),{carouselItem:s,carouselItemIndex:t,carouselLength:o,firstPhotoHeight:q,instagramPreview:this.props.instagramPreview,key:this.props.carouselElement.index+'-'+s.index,layout:this.props.carouselElement.layout,slideHeight:p,width:this.props.width})}.bind(m))))}}();if(typeof l==="object")return l.v;}return c('React').createElement('div',null,c('React').createElement('div',{className:"_49qc",style:{height:this.$AdsCanvasPreviewCarouselElement1()}},c('React').createElement(c('Image.react'),{src:'/images/ads/rich_media/photo_placeholder.png'})))};k.prototype.$AdsCanvasPreviewCarouselElement1=function(){var l,m=this,n=this.props.fullHeight;if(this.props.carouselElement.layout==='fit_to_width')(function(){var o=0;m.props.carouselElement.items.forEach(function(p){if(p.photo&&p.photo.src){var q=p.photo.height*this.props.width/p.photo.width;if(q>o)o=q;}}.bind(m));if(o!=0){n=o}else n=m.props.width;})();return n};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d('AdsCanvasPreviewCulturalMomentHeaderElement.react',['cx','AdsCanvasWebdriverIDs','CanvasColorUtils','React','RichMediaCulturalMomentHeaderElement'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){return c('React').createElement('div',{className:"_5o5u",'data-testid':c('AdsCanvasWebdriverIDs').PREVIEW_CM_HEADER_COMPONENT,style:this.$AdsCanvasPreviewCulturalMomentHeaderElement1()},c('React').createElement('span',{className:"_3i1n"},'SHARE'))};l.prototype.$AdsCanvasPreviewCulturalMomentHeaderElement1=function(){var m={};if(this.props.culturalMomentHeaderElement.backgroundColor){var n=c('CanvasColorUtils').convertARGBToColorWithOpacity(this.props.culturalMomentHeaderElement.backgroundColor),o=c('CanvasColorUtils').convertRGBtoCSSColorWithOpacity(n.color,n.opacity/100);m.background=o}else m.background='rgba(255, 255, 255, 1.0)';if(this.props.culturalMomentHeaderElement.isOpaque())m.position='static';return m};function l(){i.apply(this,arguments)}l.propTypes={culturalMomentHeaderElement:k.instanceOf(c('RichMediaCulturalMomentHeaderElement')).isRequired};f.exports=l}),null);
__d('AdsCanvasPreviewCulturalMomentPopularMediaElement.react',['cx','AdsCanvasWebdriverIDs','Image.react','React','ReactDOM','RichMediaCultureMomentPopularMediaElement','idx'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'AdsCanvasPreviewCulturalMomentPopularMediaElement',PropTypes:{popularMediaElement:i.instanceOf(c('RichMediaCultureMomentPopularMediaElement')).isRequired},getInitialState:function k(){return {width:0}},componentDidMount:function k(){this._computeWidth()},componentDidUpdate:function k(){this._computeWidth()},_computeWidth:function k(){var l=c('ReactDOM').findDOMNode(this);if(!l)return;setTimeout(function(){var m=l.offsetWidth;if(m!==this.state.width)this.setState({width:m});}.bind(this))},_renderPreviewPhotos:function k(l,m){var n=this.state.width;if(n===0)return c('React').createElement('div',null);var o=l.length,p=o-1,q=4,r=Math.floor((n-q*p)/o),s=l.map(function(t,u){var v=u===o-1,w={width:r+'px',height:r+'px',marginRight:v?'0px':q+'px',"float":v?'right':'left',objectFit:'cover'};if(m!=null){var x=m[u];return c('React').createElement('a',{href:x,rel:'theater',target:'_blank'},c('React').createElement(c('Image.react'),{key:u,src:t.uri,style:w}))}return c('React').createElement(c('Image.react'),{key:u,src:t.uri,style:w})});return c('React').createElement('div',{className:"clearfix"},s)},render:function k(){var l,m,n,o,p,q=(l=this.props)!=null?(l=l.popularMediaElement)!=null?l.previewPhotos:l:l,r=(m=this.props)!=null?(m=m.popularMediaElement)!=null?m.permalinks:m:m;if(q==null||q.length<5||r==null||r.length<5)return c('React').createElement('div',null);var s=(n=this.props)!=null?(n=n.popularMediaElement)!=null?n.title:n:n,t=(o=this.props)!=null?(o=o.popularMediaElement)!=null?o.actionTitle:o:o,u=(p=this.props)!=null?(p=p.popularMediaElement)!=null?p.uriForSeeAll:p:p;return c('React').createElement('div',{className:"_17y_",'data-testid':c('AdsCanvasWebdriverIDs').PREVIEW_CM_POPULAR_MEDIA_COMPONENT},c('React').createElement('div',{className:"_1q7_"},s),this._renderPreviewPhotos(q.slice(0,2),r.slice(0,2)),c('React').createElement('div',{className:"_1q80"}),this._renderPreviewPhotos(q.slice(2,5),r.slice(2,5)),c('React').createElement('div',{className:"_1q81"},c('React').createElement('a',{className:"_1q82",href:u},c('React').createElement('div',null,t))))}});f.exports=j}),null);
__d('AdsCanvasPreviewHeaderElement.react',['cx','AdsCanvasWebdriverIDs','CanvasColorUtils','Image.react','React','RichMediaRichFormatText'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){var l=324,m=44;if(this.props.headerElement.photo){var n=this.props.headerElement.photo,o=Math.min(m/n.height,l/n.width);return c('React').createElement('div',{className:"_5o5u",'data-testid':c('AdsCanvasWebdriverIDs').PREVIEW_HEADER_COMPONENT,style:this.$AdsCanvasPreviewHeaderElement1()},c('React').createElement(c('Image.react'),{className:"_5o5y",'data-testid':c('AdsCanvasWebdriverIDs').PREVIEW_HEADER_IMAGE,height:n.height*o,src:n.src,width:n.width*o}))}else if(this.props.headerElement.richFormatText&&this.props.headerElement.richFormatText.composedText){var p=c('RichMediaRichFormatText').getPlainTextFromComposedText(this.props.headerElement.richFormatText.composedText);return c('React').createElement('div',{className:"_5o5u",'data-testid':c('AdsCanvasWebdriverIDs').PREVIEW_HEADER_COMPONENT},c('React').createElement('div',{className:"_5o5y"},c('React').createElement('span',{className:"_5o5z"},p)))}return c('React').createElement('div',{className:"_5o5u",'data-testid':c('AdsCanvasWebdriverIDs').PREVIEW_HEADER_COMPONENT,style:this.$AdsCanvasPreviewHeaderElement1()})};k.prototype.$AdsCanvasPreviewHeaderElement1=function(){var l={};if(this.props.headerElement.backgroundColor){var m=c('CanvasColorUtils').convertARGBToColorWithOpacity(this.props.headerElement.backgroundColor),n=c('CanvasColorUtils').convertRGBtoCSSColorWithOpacity(m.color,m.opacity/100);l.background=n}else l.background='rgba(255, 255, 255, 1.0)';if(this.props.headerElement.isOpaque())l.position='static';return l};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d('AdsCanvasPreviewLocalImageElement.react',['cx','ix','React','AdsCanvasWebdriverIDs','Image.react','RichMediaLocalImageElement'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'AdsCanvasPreviewLocalImageElement',PropTypes:{localImageElement:j.instanceOf(c('RichMediaLocalImageElement')).isRequired},render:function l(){return c('React').createElement('div',{className:"_n_e",'data-testid':c('AdsCanvasWebdriverIDs').PREVIEW_LOCAL_IMAGE_COMPONENT},c('React').createElement(c('Image.react'),{src:i("76966")}))}});f.exports=k}),null);
__d('StoreLocator.react',['ix','cx','fbt','GeoCoordinates','Image.react','leaflet','LeafletMap.react','LeafletMarker.react','LeafletTileLayer.react','LeafletView','React','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.cardWidth=function(){return this.props.width*.9}.bind(this),o}m.prototype.render=function(){return c('React').createElement('div',{className:"_203m"},c('React').createElement('div',{style:{width:this.props.width,height:this.props.height}},this.renderMap(),this.renderCards()))};m.prototype.renderMap=function(){var n=new (c('GeoCoordinates'))(0,0);if(this.props.locations.length>0)n=new (c('GeoCoordinates'))(this.centralLocation().location.latitude,this.centralLocation().location.longitude);var o=new (c('LeafletView'))({center:n,zoom:10}),p={dragging:false,touchZoom:false,scrollWheelZoom:false,doubleClickZoom:false,boxZoom:false,tap:false,zoomControl:false},q='https://fbexternal-a.akamaihd.net/map_tile.php'+'?x={x}&y={y}&z={z}&language=en_US&v=3&size=256';return c('React').createElement(c('LeafletMap.react'),{defaultView:o,options:p,style:{width:this.props.width,height:this.props.height}},c('React').createElement(c('LeafletTileLayer.react'),{urlTemplate:q}),this.props.locations.map(function(r){return this.pinFor(r)}.bind(this)))};m.prototype.centralLocation=function(){return this.props.locations[0]};m.prototype.pinFor=function(n){return c('React').createElement(c('LeafletMarker.react'),{coordinates:new (c('GeoCoordinates'))(n.location.latitude,n.location.longitude),key:'pin-'+n.id,options:{icon:n===this.centralLocation()?this.expandedPinWithImage(n.picture.data.url):this.smallPin(),zIndexOffset:n==this.centralLocation()?100:0}})};m.prototype.smallPin=function(){return c('leaflet').divIcon({className:"_2035",iconSize:[14,14],iconAnchor:[7,7]})};m.prototype.expandedPinWithImage=function(n){var o='<div class="'+"_2036"+'">\n      <img src="'+n+'" /></div>\n      <div class="'+"_2037"+'"></div>';return c('leaflet').divIcon({className:"_2038",iconSize:[52,52],iconAnchor:[26,52],html:o})};m.prototype.renderCards=function(){return c('React').createElement('div',{className:"_2039",style:{paddingLeft:(this.props.width-this.cardWidth())/2,paddingBottom:(this.props.width-this.cardWidth())/2}},c('React').createElement('div',{className:"_203a",style:{width:this.cardWidth()}},this.$StoreLocator1(this.centralLocation()),this.$StoreLocator2(this.centralLocation())))};m.prototype.$StoreLocator1=function(n){var o=this.cardWidth()-12-32-12*2-24-12;return c('React').createElement('div',{className:"_203b"},c('React').createElement(c('Image.react'),{className:"_203c",src:n.picture.data.url}),c('React').createElement('div',{className:"_203d ellipsis",style:{width:o}},c('React').createElement('span',{className:"_203f"},n.location.street),c('React').createElement('br',null),c('React').createElement('span',{className:"_203g"},j._("0.2km away"))),c('React').createElement(c('Image.react'),{className:"_203h",src:h("127615")}))};m.prototype.$StoreLocator2=function(n){var o=c('React').createElement('span',null,j._("0.2km away")),p=this.cardWidth()-12-32-12*2;return c('React').createElement('div',{className:"_203l"},c('React').createElement(c('Image.react'),{className:"_203c",src:h("126514")}),c('React').createElement('div',{className:"_203d",style:{width:p}},c('React').createElement('span',{className:"_203f"},o),c('React').createElement('br',null),c('React').createElement('span',{className:"_203g"},j._("Get additional info"))))};f.exports=m}),null);
__d('AdsCanvasPreviewStoreLocatorElement.react',['cx','fbt','CanvasColorUtils','React','RichMediaPreviewConstants','StoreLocator.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('RichMediaPreviewConstants').HEADER_HEIGHT,m=c('RichMediaPreviewConstants').STORE_LOCATOR_HEADER_RATIO,n=c('RichMediaPreviewConstants').STORE_LOCATOR_MAP_RATIO;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;o.prototype.render=function(){return c('React').createElement('div',{style:{height:this.props.height,width:this.props.width}},this.$AdsCanvasPreviewStoreLocatorElement1(),this.$AdsCanvasPreviewStoreLocatorElement2())};o.prototype.$AdsCanvasPreviewStoreLocatorElement1=function(){var p=this.props.height*m;return c('React').createElement('div',{className:"_1sr0",style:{background:'url('+this.props.coverPhotoURL+') no-repeat center',color:c('CanvasColorUtils').colorContrastingWith(this.props.storeLocatorElement.headerBackgroundColor()),height:p,width:this.props.width}},c('React').createElement('div',{className:"_1sr1",style:{backgroundColor:this.props.storeLocatorElement.headerBackgroundColor(),height:p,width:this.props.width}}),c('React').createElement('div',{className:"_1sr2",style:{paddingTop:l,fontFamily:this.props.storeLocatorElement.typeface}},c('React').createElement('p',{className:"_1sr3 ellipsis"},i._("0.2km away")),c('React').createElement('p',{className:"_1sr4 ellipsis"},this.props.pages[0].name),c('React').createElement('p',{className:"_1sr5"},this.props.pages[0].location.street)))};o.prototype.$AdsCanvasPreviewStoreLocatorElement2=function(){var p=this.props.height*n;return c('React').createElement(c('StoreLocator.react'),{height:p,locations:this.props.pages,width:this.props.width})};function o(){j.apply(this,arguments)}f.exports=o}),null);
__d('AdsCanvasStoreLocatorUtils',[],(function a(b,c,d,e,f,g){'use strict';var h={getPagesWithLocations:function i(j){return j.filter(function(k){return k.location&&k.location.latitude&&k.location.longitude&&k.location.street})}};f.exports=h}),null);
__d('AdsCanvasPageCanvasLocationStore',['AdsCanvasPageDataDispatcher','AdsDataActionTypes','AdsDispatcher','FluxLoadObjectStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxLoadObjectStore'));i=h&&h.prototype;j.prototype.reduce=function(k,l){var m=l.action;switch(m.type){case c('AdsDataActionTypes').richMediaEditorLoadPageLocationsSuccess:var n=m.page;return this.__handleOne(k,n.id,n);default:return k;}};j.prototype.__load=function(k){c('AdsCanvasPageDataDispatcher').getPageWithLocations(k)};function j(){h.apply(this,arguments)}f.exports=new j(c('AdsDispatcher'))}),null);
__d('adsCanvasPageSelector',['AdsCanvasPageCanvasLocationStore','adsCreateStoreSelector'],(function a(b,c,d,e,f,g){'use strict';var h=c('adsCreateStoreSelector')([c('AdsCanvasPageCanvasLocationStore')],function(i){return c('AdsCanvasPageCanvasLocationStore').get(i)});f.exports=h}),null);
__d('adsCanvasPreviewStoreLocatorSelector',['AdsCanvasStoreLocatorUtils','adsCanvasPageSelector','adsCreateSelector'],(function a(b,c,d,e,f,g){'use strict';var h=c('adsCreateSelector')([c('adsCanvasPageSelector')],function(i){if(!i.hasValue())return {isReady:false};var j=i.getValueEnforcing(),k=[];if(j.location)k.push(j);if(j.locations&&j.locations.data.length>0)j.locations.data.map(function(n){return k.push(n)});var l=c('AdsCanvasStoreLocatorUtils').getPagesWithLocations(k),m=j&&j.cover?j.cover.source:'';return {coverPhotoURL:m,isReady:true,pages:l}});f.exports=h}),null);
__d('AdsCanvasPreviewStoreLocatorElementContainer.react',['cx','AdsCanvasPreviewStoreLocatorElement.react','AdsSpinner.react','FluxContainer','React','RichMediaPreviewConstants','adsCanvasPreviewStoreLocatorSelector'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('RichMediaPreviewConstants').DEVICE_HEIGHT,l=c('RichMediaPreviewConstants').DEVICE_WIDTH,m=c('RichMediaPreviewConstants').STORE_LOCATOR_HEADER_RATIO,n=k*m;i=babelHelpers.inherits(o,c('React').Component);j=i&&i.prototype;o.getStores=function(){return c('adsCanvasPreviewStoreLocatorSelector').getStores()};o.calculateState=function(p,q){return c('adsCanvasPreviewStoreLocatorSelector')(q.storeLocatorElement.locationSourceID)};o.prototype.render=function(){if(this.props.storeLocatorElement.hidden)return null;if(!this.state.isReady)return c('React').createElement('div',{className:"_34e4",style:{height:n,width:l}},c('React').createElement(c('AdsSpinner.react'),{size:'large'}));return c('React').createElement(c('AdsCanvasPreviewStoreLocatorElement.react'),{coverPhotoURL:this.state.coverPhotoURL,height:this.props.height,pages:this.state.pages,storeLocatorElement:this.props.storeLocatorElement,width:this.props.width})};function o(){i.apply(this,arguments)}f.exports=c('FluxContainer').create(o,{withProps:true})}),null);
__d('AdsCanvasPreviewSwipeToOpen.react',['cx','fbt','ix','Image.react','React','colr'],(function a(b,c,d,e,f,g,h,i,j){'use strict';function k(l){if(!l.hidden)return null;var m=l.documentTheme.substr(2),n=c('colr').fromHex(m).toGrayscale()/255,o=n>.5?'#91949c':'#FFF',p=n>.5?j("23599"):j("23600");return c('React').createElement('div',{className:"_2n2b",style:{color:o,background:'#'+m}},c('React').createElement('div',null,i._("Swipe to load website")),c('React').createElement('div',null,c('React').createElement(c('Image.react'),{src:p})))}f.exports=k}),null);
__d('adsCanvasLastElementSelector',['AdsCanvasElementStore','adsCanvasCurrentDocumentSelector','adsCreateStoreSelector'],(function a(b,c,d,e,f,g){'use strict';var h=c('adsCreateStoreSelector')([].concat(c('adsCanvasCurrentDocumentSelector').getStores(),[c('AdsCanvasElementStore')]),function(){var i=c('adsCanvasCurrentDocumentSelector')();if(!i.hasValue())return null;var j=i.getValueEnforcing(),k=j.get('elements').last();return k?c('AdsCanvasElementStore').get(k.id):null});f.exports=h}),null);
__d('adsCanvasSwipeToOpenEligibleSelector',['adsCanvasLastElementSelector','adsCreateSelector'],(function a(b,c,d,e,f,g){'use strict';var h=c('adsCreateSelector')([c('adsCanvasLastElementSelector')],function(i){if(!i||!i.hasValue())return false;var j=i.getValueEnforcing();return j.isSwipeToOpenEligible()});f.exports=h}),null);
__d('adsCanvasPreviewSwipeToOpenSelector',['RichMediaEditorStore','adsCanvasCurrentDocumentSelector','adsCanvasSwipeToOpenEligibleSelector','adsCreateSelector','adsCreateStoreSelector'],(function a(b,c,d,e,f,g){'use strict';var h=c('adsCreateStoreSelector')([c('RichMediaEditorStore')],function(){return c('RichMediaEditorStore').getSwipeToOpenEnabled()}),i=c('adsCreateSelector')([c('adsCanvasCurrentDocumentSelector'),c('adsCanvasSwipeToOpenEligibleSelector'),h],function(j,k,l){if(!j.hasValue())return {isReady:false};var m=j.getValueEnforcing();return {documentTheme:m.get('backgroundColor'),hidden:k&&l,isReady:true}});f.exports=i}),null);
__d('AdsCanvasPreviewSwipeToOpenContainer.react',['AdsCanvasPreviewSwipeToOpen.react','FluxContainer','React','RichMediaEditorStore','SUIBusinessTheme','SUISpinner.react','adsCanvasPreviewSwipeToOpenSelector','adsGKCheck'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').PureComponent);i=h&&h.prototype;j.getStores=function(){return [].concat(c('adsCanvasPreviewSwipeToOpenSelector').getStores(),[c('RichMediaEditorStore')])};j.calculateState=function(){if(c('adsGKCheck')('ads_canvas_editor_store_refactoring'))return c('adsCanvasPreviewSwipeToOpenSelector')();return {documentTheme:c('RichMediaEditorStore').getDocumentTheme(),isReady:true,hidden:c('RichMediaEditorStore').getSwipeToOpenEnabled()&&c('RichMediaEditorStore').shouldEnableSwipeToOpenCheckbox()}};j.prototype.render=function(){if(!this.state.isReady)return c('React').createElement(c('SUISpinner.react'),{theme:c('SUIBusinessTheme')});return c('React').createElement(c('AdsCanvasPreviewSwipeToOpen.react'),{documentTheme:this.state.documentTheme,hidden:this.state.hidden})};function j(){h.apply(this,arguments)}f.exports=c('FluxContainer').create(j)}),null);
__d('AdsCanvasPreviewTitleAndDateElement.react',['cx','React','AdsCanvasWebdriverIDs','DateTime','DateStrings','RichMediaTitleAndDateElement','Timezone'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'AdsCanvasPreviewTitleAndDateElement',PropTypes:{titleAndDateElement:i.instanceOf(c('RichMediaTitleAndDateElement')).isRequired,leftPadding:i.string},render:function k(){var l=c('DateTime').now(c('Timezone').PST8PDT).getUnixTimestamp()/1000,m=this.props.titleAndDateElement.startTime,n=this.props.titleAndDateElement.endTime,o;if(l<m){o=new (c('DateTime'))(m,c('Timezone').PST8PDT).toDate()}else if(l>n){o=new (c('DateTime'))(n,c('Timezone').PST8PDT).toDate()}else o=new (c('DateTime'))(l,c('Timezone').PST8PDT).toDate();var p={marginLeft:this.props.leftPadding},q=c('DateStrings').getMonthNameShort(o.getMonth()+1).toString().toUpperCase();return c('React').createElement('div',null,c('React').createElement('div',{className:"_1wx9",'data-testid':c('AdsCanvasWebdriverIDs').PREVIEW_TITLE_AND_DATE_COMPONENT,style:p},c('React').createElement('div',{className:"_1wxf",'data-testid':c('AdsCanvasWebdriverIDs').PREVIEW_TITLE_AND_DATE_TITLE,value:this.props.titleAndDateElement.title},this.props.titleAndDateElement.title),c('React').createElement('div',{className:"_1wxg"},c('React').createElement('div',{className:"_1wxi",'data-testid':c('AdsCanvasWebdriverIDs').PREVIEW_TITLE_AND_DATE_DATE,value:o.getDate()},o.getDate()),c('React').createElement('div',{className:"_1wxj",'data-testid':c('AdsCanvasWebdriverIDs').PREVIEW_TITLE_AND_DATE_MONTH,value:q},q))),c('React').createElement('div',{className:"_1wxk"},' '))}});f.exports=j}),null);
__d('AdsCanvasPreviewVideoElement.react',['cx','ix','AdsCanvasWebdriverIDs','AdsVideoPlayer.react','BackgroundImage.react','Image.react','React','RichMediaPreviewUtil'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){var m=this.props.videoElement;if(m.video){var n=m.video,o=n.preferredThumbnail,p=0,q=0;if(m.layout=='fit_to_height'){q=this.props.fullHeight;p=Math.round(n.width*this.props.fullHeight/n.height)}else{p=this.props.width;q=Math.round(n.height*this.props.width/n.width)}var r=(this.props.width-p)/2,s={height:q,width:p,overflow:'hidden',position:'relative',left:r,padding:c('RichMediaPreviewUtil').formatPadding(this.props.videoElement.padding)};return c('React').createElement('div',{'data-index':m.index,'data-testid':c('AdsCanvasWebdriverIDs').PREVIEW_VIDEO_COMPONENT,style:s},c('React').createElement(c('AdsVideoPlayer.react'),{autoPlay:true,hideCloseButton:true,loop:true,muted:true,playerHeight:q,playerWidth:p,ref:'videoPlayer',showControls:false,videoID:n.id},c('React').createElement(c('BackgroundImage.react'),{backgroundSize:'contain','data-testid':c('AdsCanvasWebdriverIDs').PREVIEW_VIDEO_THUMBNAIL,height:q,src:o?o.uri:null,width:p})))}return c('React').createElement('div',null,c('React').createElement('div',{className:"_49qc",style:{height:this.props.width,width:this.props.width}},c('React').createElement(c('Image.react'),{src:i("23647")})))};l.prototype.$AdsCanvasPreviewVideoElement1=function(m){var n=m?m.paddingTop:'0',o=m?m.paddingBottom:'0';return n+'px 0px '+o+'px'};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("CulturalMomentAnnotationFaviconOptions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BLUE_FAVICON:"blue_favicon",WHITE_FAVICON:"white_favicon",NONE:"none"})}),null);
__d('RichMediaCulturalMomentFaviconOverlay.react',['ix','CulturalMomentAnnotationFaviconOptions','Image.react','React','RichMediaPhotoElement','RichMediaVideoElement'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.getCulturalMomentFaviconImagePath(this.props.element.culturalMomentAnnotationImage),n=8+(this.props.element.padding&&!isNaN(parseInt(this.props.element.padding.paddingTop,10))?parseInt(this.props.element.padding.paddingTop,10):0);if(this.props.element.culturalMomentAnnotationImage&&m){var o={position:'absolute',top:n+'px',left:'8px',zIndex:100};return c('React').createElement('div',{style:{position:'relative'}},c('React').createElement(c('Image.react'),{height:24,src:m,style:o,width:24}),this.props.children)}else return this.props.children;};l.prototype.getCulturalMomentFaviconImagePath=function(m){switch(m){case c('CulturalMomentAnnotationFaviconOptions').BLUE_FAVICON:return h("74627");case c('CulturalMomentAnnotationFaviconOptions').WHITE_FAVICON:return h("74628");default:return null;}};function l(){i.apply(this,arguments)}l.propTypes={element:k.oneOfType([k.instanceOf(c('RichMediaPhotoElement')),k.instanceOf(c('RichMediaVideoElement'))]).isRequired};f.exports=l}),null);
__d('RichMediaPreviewButton.react',['cx','ix','Image.react','InstantShoppingDocumentElementType','React','RichMediaElementTypeConstant','RichMediaElementUtil','colr'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('RichMediaElementTypeConstant').RichMediaElementTypes;function k(n){var o=n.documentElements,p=void 0;if(n.instagramPreview){p=i("306034")}else p=m(n)>.5?i("23595"):i("23594");var q=c('React').createElement('div',{className:(!n.instagramPreview?"_2vyb":'')+(n.instagramPreview?' '+"_5_kv":'')},c('React').createElement(c('Image.react'),{src:p}));if(Array.isArray(o)&&o.some(function(r){return r.type===c('InstantShoppingDocumentElementType').VIDEO})||o.some(function(r){return r.elementType===j.VIDEO}))return q;return null}function l(n){var o=void 0;if(n.instagramPreview){o=i("306031")}else o=m(n)>.5?i("23597"):i("23596");return c('React').createElement('div',{className:(!n.instagramPreview?"_51ll":'')+(n.instagramPreview?' '+"_5_kw":'')},c('React').createElement(c('Image.react'),{src:o}))}function m(n){var o=n.documentElements,p=null;if(Array.isArray(o)){p=c('RichMediaElementUtil').getHeaderElement(o)}else if(o.count()>0)p=o.first().getElementType()===j.HEADER?o.first():null;var q=p?p.backgroundColor:n.documentTheme.substr(2),r=p?1-c('colr').fromHex(q).toGrayscale()/255:c('colr').fromHex(q).toGrayscale()/255;return r}f.exports={AudioButton:k,BackButton:l}}),null);
__d('RichMediaProductSetElementPreview.react',['React','ReactDOM','RichMediaPreviewUtil','SUIBusinessTheme','SUISpinner.react','UIPagelet','areEqual'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.shouldComponentUpdate=function(k){return !c('areEqual')(this.props.productSetElement.setID,k.productSetElement.setID)||!c('areEqual')(this.props.productSetElement.limit,k.productSetElement.limit)||!c('areEqual')(this.props.productSetElement.padding,k.productSetElement.padding)||!c('areEqual')(this.props.productSetElement.retailerItemIDs,k.productSetElement.retailerItemIDs)||!c('areEqual')(this.props.productSetElement.itemHeadlineTemplate,k.productSetElement.itemHeadlineTemplate)||!c('areEqual')(this.props.productSetElement.itemDescriptionTemplate,k.productSetElement.itemDescriptionTemplate)};j.prototype.componentDidMount=function(){this.$RichMediaProductSetElementPreview1()};j.prototype.componentDidUpdate=function(){this.$RichMediaProductSetElementPreview1()};j.prototype.render=function(){return c('React').createElement('div',{style:{marginTop:'-10px',padding:c('RichMediaPreviewUtil').formatPadding(this.props.productSetElement.padding)}},c('React').createElement('span',{ref:'productSetPreview'},c('React').createElement(c('SUISpinner.react'),{size:'large',theme:c('SUIBusinessTheme')})))};j.prototype.$RichMediaProductSetElementPreview1=function(){c('UIPagelet').loadFromEndpoint('RichMediaProductSetPreviewPageletController',c('ReactDOM').findDOMNode(this.refs.productSetPreview),{limit:this.props.productSetElement.limit,productCatalogID:this.props.productSetElement.catalogID,productSetID:this.props.productSetElement.setID,retailerItemIDs:this.props.productSetElement.retailerItemIDs,itemHeadlineTemplate:this.props.productSetElement.itemHeadlineTemplate,itemDescriptionTemplate:this.props.productSetElement.itemDescriptionTemplate,width:this.props.width})};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('RichMediaScrubbableGIFElementPreview.react',['cx','ix','AdsVideoPlayer.react','BackgroundImage.react','Image.react','React','RichMediaPreviewUtil','RichMediaScrubbableGIFElement','RichMediaPreviewConstants'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('RichMediaPreviewConstants').DEVICE_WIDTH,l=c('React').createClass({displayName:'RichMediaScrubbableGIFElementPreview',PropTypes:{fullHeight:j.number.isRequired,scrubabableGIFElement:j.instanceOf(c('RichMediaScrubbableGIFElement')).isRequired},render:function m(){var n=this.props.scrubabableGIFElement;if(n.video){var o=n.video,p=o.preferredThumbnail,q=0,r=0;q=k;r=Math.round(o.height*k/o.width);var s=(k-q)/2,t={height:r,width:q,overflow:'hidden',position:'relative',left:s,padding:c('RichMediaPreviewUtil').formatPadding(this.props.scrubabableGIFElement.padding)};return c('React').createElement('div',{style:t},c('React').createElement(c('AdsVideoPlayer.react'),{autoPlay:false,disableVideoPlay:true,disabled:true,forceHD:true,hideCloseButton:true,iconImage:i("23622"),iconText:'Better Previewed on Device.',isFullPreview:true,playerHeight:r,playerWidth:q,ref:'videoPlayer',showControls:false,videoID:o.id},c('React').createElement(c('BackgroundImage.react'),{backgroundSize:'contain',height:r,src:p?p.uri:null,width:q})))}return c('React').createElement('div',null,c('React').createElement('div',{className:"_49qc",style:{height:this.props.fullHeight}},c('React').createElement(c('Image.react'),{src:i("23623")})))},_calcPadding:function m(n){var o=n?n.paddingTop:'0',p=n?n.paddingBottom:'0';return o+'px 0px '+p+'px'}});f.exports=l}),null);
__d('RichMediaPreviewCanvas.react',['cx','AdsCanvasDailyDialogueSVGElementPreview.react','AdsCanvasPreviewBundleElement.react','AdsCanvasPreviewButtonElement.react','AdsCanvasPreviewCarouselElement.react','AdsCanvasPreviewCulturalMomentHeaderElement.react','AdsCanvasPreviewCulturalMomentPopularMediaElement.react','AdsCanvasPreviewHeaderElement.react','AdsCanvasPreviewLocalImageElement.react','AdsCanvasPreviewPhotoElement.react','AdsCanvasPreviewStoreLocatorElementContainer.react','AdsCanvasPreviewSwipeToOpenContainer.react','AdsCanvasPreviewTextElement.react','AdsCanvasPreviewTitleAndDateElement.react','AdsCanvasPreviewVideoElement.react','AdsCanvasWebdriverIDs','InstantShoppingDocumentElementType','React','RichMediaCulturalMomentFaviconOverlay.react','RichMediaElementTypeConstant','RichMediaElementUtil','RichMediaPreviewButton.react','RichMediaPreviewUtil','RichMediaProductSetElementPreview.react','RichMediaScrubbableGIFElementPreview.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('RichMediaElementTypeConstant').RichMediaElementTypes,l=c('RichMediaPreviewButton.react').AudioButton,m=c('RichMediaPreviewButton.react').BackButton,n='preview_elements',o='preview_element';i=babelHelpers.inherits(p,c('React').Component);j=i&&i.prototype;function p(q){j.constructor.call(this,q)}p.prototype.render=function(){var q=c('RichMediaPreviewUtil').getScrollableAreaFullHeight(this.props.height,this.props.documentElements),r={background:'#'+this.props.documentTheme.substr(2),height:this.props.height,width:this.props.width},s={height:q+'px'};return c('React').createElement('div',{className:"_48ci",'data-testid':c('AdsCanvasWebdriverIDs').ADS_CANVAS_BUILDER_PREVIEW,style:r},this.$RichMediaPreviewCanvas1(),c('React').createElement(l,{documentElements:this.props.documentElements,documentTheme:this.props.documentTheme,instagramPreview:this.props.instagramPreview}),this.$RichMediaPreviewCanvas2(),c('React').createElement('div',{className:"_26os",id:n,ref:'previewCanvas',style:s},this.props.documentElements.map(function(t,u){return this.$RichMediaPreviewCanvas3(t,u,q)}.bind(this)),this.$RichMediaPreviewCanvas4()),this.$RichMediaPreviewCanvas5(),c('React').createElement('div',{className:this.props.instagramPreview?"_2zhl":''}))};p.prototype.$RichMediaPreviewCanvas5=function(){var q=this.props.documentElements,r=null;if(Array.isArray(q)){r=c('RichMediaElementUtil').getFixToBottomButtonElement(q)}else if(q.count()>0)r=q.last().getElementType()===k.FOOTER?q.last():null;if(r)return c('React').createElement('div',{className:"_26om",ref:'bottomButton'},this.$RichMediaPreviewCanvas6(r,true));return null};p.prototype.$RichMediaPreviewCanvas4=function(){if(!this.props.showSwipeToOpenPreview)return null;return c('React').createElement(c('AdsCanvasPreviewSwipeToOpenContainer.react'),null)};p.prototype.$RichMediaPreviewCanvas1=function(){if(this.props.shouldHideBackButton)return null;return c('React').createElement(m,{documentElements:this.props.documentElements,documentTheme:this.props.documentTheme,instagramPreview:this.props.instagramPreview})};p.prototype.$RichMediaPreviewCanvas2=function(){var q=this.props.documentElements,r=null;if(Array.isArray(q)){r=c('RichMediaElementUtil').getHeaderElement(q)}else if(q.count()>0)r=q.first().getElementType()===k.HEADER?q.first():null;if(!r)return null;if(r.isCulturalMomentHeader)return c('React').createElement(c('AdsCanvasPreviewCulturalMomentHeaderElement.react'),{culturalMomentHeaderElement:r,key:r.index});return this.$RichMediaPreviewCanvas7(r)};p.prototype.$RichMediaPreviewCanvas3=function(q,r,s){var t=null;switch(q.type){case c('InstantShoppingDocumentElementType').BUNDLE:t=this.$RichMediaPreviewCanvas8(q,s);break;case c('InstantShoppingDocumentElementType').BUTTON:if(!q.isFixedToBottom)t=this.$RichMediaPreviewCanvas6(q,false);break;case c('InstantShoppingDocumentElementType').SCRUBBABLE_GIF:t=this.$RichMediaPreviewCanvas9(q,s);break;case c('InstantShoppingDocumentElementType').SLIDESHOW:if(this.props.instagramPreview)q=q.set('layout','fit_to_width');t=this.$RichMediaPreviewCanvas10(q,s);break;case c('InstantShoppingDocumentElementType').HEADER:break;case c('InstantShoppingDocumentElementType').PHOTO:if(this.props.instagramPreview)q=q.set('layout','fit_to_width');t=this.$RichMediaPreviewCanvas11(q,s);break;case c('InstantShoppingDocumentElementType').VIDEO:if(this.props.instagramPreview)q=q.set('layout','fit_to_width');t=this.$RichMediaPreviewCanvas12(q,s);break;case c('InstantShoppingDocumentElementType').RICH_TEXT:t=this.$RichMediaPreviewCanvas13(q);break;case c('InstantShoppingDocumentElementType').ELEMENT_GROUP:t=this.$RichMediaPreviewCanvas14(q);break;case c('InstantShoppingDocumentElementType').STORE_LOCATOR:t=this.$RichMediaPreviewCanvas15(q);break;case c('InstantShoppingDocumentElementType').LOCAL_IMAGE:t=this.$RichMediaPreviewCanvas16(q);break;case c('InstantShoppingDocumentElementType').CULTURAL_MOMENT_POPULAR_MEDIA:t=this.$RichMediaPreviewCanvas17(q);break;case c('InstantShoppingDocumentElementType').DAILY_DIALOGUE_FB_TIPS:t=this.$RichMediaPreviewCanvas18(q);break;case c('InstantShoppingDocumentElementType').TITLE_AND_DATE:t=this.$RichMediaPreviewCanvas19(q);break;}return c('React').createElement('div',{id:o+r,key:'element_'+r},t)};p.prototype.$RichMediaPreviewCanvas8=function(q,r){return c('React').createElement(c('AdsCanvasPreviewBundleElement.react'),{bundleElement:q,fullHeight:r,width:this.props.width})};p.prototype.$RichMediaPreviewCanvas6=function(q,r){return c('React').createElement(c('AdsCanvasPreviewButtonElement.react'),{buttonElement:q,isBottomButton:r,key:q.index})};p.prototype.$RichMediaPreviewCanvas14=function(q){if(this.props.retailerItemIDs)q=q.set('retailerItemIDs',this.props.retailerItemIDs);return c('React').createElement(c('RichMediaProductSetElementPreview.react'),{productSetElement:q,width:this.props.width})};p.prototype.$RichMediaPreviewCanvas10=function(q,r){return c('React').createElement(c('AdsCanvasPreviewCarouselElement.react'),{carouselElement:q,fullHeight:r,instagramPreview:!!this.props.instagramPreview,key:q.index,width:this.props.width})};p.prototype.$RichMediaPreviewCanvas7=function(q){return c('React').createElement(c('AdsCanvasPreviewHeaderElement.react'),{headerElement:q,key:q.index})};p.prototype.$RichMediaPreviewCanvas11=function(q,r){var s=c('React').createElement(c('AdsCanvasPreviewPhotoElement.react'),{fullHeight:r,key:q.index,photoElement:q,width:this.props.width});return q.culturalMomentAnnotationImage&&q.photo?c('React').createElement(c('RichMediaCulturalMomentFaviconOverlay.react'),{element:q},s):s};p.prototype.$RichMediaPreviewCanvas16=function(q){return c('React').createElement(c('AdsCanvasPreviewLocalImageElement.react'),{key:q.index,localImageElement:q})};p.prototype.$RichMediaPreviewCanvas17=function(q){return c('React').createElement(c('AdsCanvasPreviewCulturalMomentPopularMediaElement.react'),{key:q.index,popularMediaElement:q})};p.prototype.$RichMediaPreviewCanvas18=function(q){return c('React').createElement(c('AdsCanvasDailyDialogueSVGElementPreview.react'),{SVGElement:q,key:q.index})};p.prototype.$RichMediaPreviewCanvas19=function(q){return c('React').createElement(c('AdsCanvasPreviewTitleAndDateElement.react'),{key:q.index,titleAndDateElement:q})};p.prototype.$RichMediaPreviewCanvas9=function(q,r){return c('React').createElement(c('RichMediaScrubbableGIFElementPreview.react'),{fullHeight:r,key:q.index,scrubabableGIFElement:q})};p.prototype.$RichMediaPreviewCanvas12=function(q,r){var s=c('React').createElement(c('AdsCanvasPreviewVideoElement.react'),{fullHeight:r,key:q.index,videoElement:q,width:this.props.width});return q.culturalMomentAnnotationImage&&q.video?c('React').createElement(c('RichMediaCulturalMomentFaviconOverlay.react'),{element:q},s):s};p.prototype.$RichMediaPreviewCanvas13=function(q){return c('React').createElement(c('AdsCanvasPreviewTextElement.react'),{key:q.index,textElement:q})};p.prototype.$RichMediaPreviewCanvas15=function(q){return c('React').createElement(c('AdsCanvasPreviewStoreLocatorElementContainer.react'),{height:this.props.height,key:q.index,storeLocatorElement:q,width:this.props.width})};f.exports=p}),null);
__d('AdsCanvasDocumentSelector',['AdsCanvasDocumentStore','adsCreateStoreSelector'],(function a(b,c,d,e,f,g){'use strict';var h=c('adsCreateStoreSelector')([c('AdsCanvasDocumentStore')],function(i){return c('AdsCanvasDocumentStore').get(i)});f.exports=h}),null);
__d('AdsCanvasDocumentWithElementsSelector',['AdsCanvasDocumentSelector','AdsCanvasDocumentStore','AdsCanvasElementStore','immutable','adsCreateSelector','adsCreateStoreSelector'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').List,i=c('adsCreateStoreSelector')([c('AdsCanvasDocumentStore'),c('AdsCanvasElementStore')],function(k){var l=c('AdsCanvasDocumentStore').get(k).getValue();return l?c('AdsCanvasElementStore').getElementList(l.getElementIDs()):h([])}),j=c('adsCreateSelector')([c('AdsCanvasDocumentSelector'),i],function(k,l){var m=k.hasValue()&&l.every(function(n){return n.hasValue()});return {canvasDocument:k,canvasElements:l,isCanvasLoaded:m}});f.exports=j}),null);
__d('adsCanvasPreviewCanvasSelector',['AdsCanvasDocumentWithElementsSelector','RichMediaEditorStore','adsCreateSelector','adsCreateStoreSelector'],(function a(b,c,d,e,f,g){'use strict';var h=c('adsCreateStoreSelector')([c('RichMediaEditorStore')],function(){return c('RichMediaEditorStore').getPreviewType()}),i=c('adsCreateSelector')([c('AdsCanvasDocumentWithElementsSelector'),h],function(j,k){if(!j.isCanvasLoaded)return {hasError:false,isReady:false};var l=j.canvasDocument.getValueEnforcing(),m=j.canvasElements.map(function(n){return n.getValueEnforcing()});return {backgroundColor:l.getBackgroundColor(),elements:m,hasError:false,isReady:true,previewType:k}});f.exports=i}),null);
__d('AdsCanvasPreviewCanvasContainer.react',['ix','cx','fbt','AdsCanvasDocumentActions','AdsCanvasEditorEnums','BUIAdoptionButton.react','FluxContainer','Image.react','immutable','InstantShoppingSequenceEventsTypedLogger','React','RichMediaPreviewCanvas.react','RichMediaPreviewConstants','SUIBusinessTheme','SUISpinner.react','adsCanvasPreviewCanvasSelector','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('AdsCanvasEditorEnums').PreviewEnum,n=c('immutable').List,o=c('RichMediaPreviewConstants').DEVICE_HEIGHT,p=c('RichMediaPreviewConstants').DEVICE_WIDTH;k=babelHelpers.inherits(q,c('React').PureComponent);l=k&&k.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.refreshCanvas=function(){c('AdsCanvasDocumentActions').refreshCanvas(this.props.canvasID,this.state.elementIDs?this.state.elementIDs:n([]))}.bind(this),s}q.getStores=function(){return c('adsCanvasPreviewCanvasSelector').getStores()};q.calculateState=function(r,s){return c('adsCanvasPreviewCanvasSelector')(s.canvasID)};q.prototype.canvasErrorLogEvent=function(){new (c('InstantShoppingSequenceEventsTypedLogger'))().setCanvasID(this.props.canvasID).setEventName('document_error').setPlacement('fb_desktop').log()};q.prototype.$AdsCanvasPreviewCanvasContainer1=function(){this.canvasErrorLogEvent();return c('React').createElement('div',{className:"_2kqb",style:{height:this.props.height||o,width:this.props.width||p}},c('React').createElement('div',{className:"_2ag1"},c('React').createElement(c('BUIAdoptionButton.react'),{height:'tall',icon:c('React').createElement(c('Image.react'),{src:h("142718")}),label:'Refresh',labelIsHidden:true,onClick:this.refreshCanvas}),c('React').createElement('div',{className:"_2ag3"},j._("There was a problem loading this Canvas preview. Please refresh the page and try again."))))};q.prototype.$AdsCanvasPreviewCanvasContainer2=function(){return c('React').createElement('div',{className:"_2kqb",style:{height:this.props.height||o,width:this.props.width||p}},c('React').createElement(c('SUISpinner.react'),{theme:c('SUIBusinessTheme')}))};q.prototype.render=function(){if(!this.state.isReady)return this.state.hasError?this.$AdsCanvasPreviewCanvasContainer1():this.$AdsCanvasPreviewCanvasContainer2();return c('React').createElement(c('RichMediaPreviewCanvas.react'),{documentElements:this.state.elements,documentTheme:this.state.backgroundColor,height:this.props.height,instagramPreview:this.state.previewType===m.INSTAGRAM,retailerItemIDs:this.props.retailerItemIDs,shouldHideBackButton:this.props.shouldHideBackButton,showSwipeToOpenPreview:this.state.previewType!==m.INSTAGRAM||this.props.showInstagramSwipeToOpenPreview,width:this.props.width})};q.defaultProps={height:o,width:p};f.exports=c('FluxContainer').create(q,{withProps:true})}),null);
__d('adsCanvasCurrentDocumentElementsSelector',['AdsCanvasElementStore','immutable','LoadObject','adsCanvasCurrentDocumentSelector','adsCreateStoreSelector'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').List,i=c('adsCreateStoreSelector')([].concat(c('adsCanvasCurrentDocumentSelector').getStores(),[c('AdsCanvasElementStore')]),function(){var j=c('adsCanvasCurrentDocumentSelector')();if(!j.hasValue())return h([c('LoadObject').loading()]);var k=j.getValueEnforcing();return k.get('elements').map(function(l){return c('AdsCanvasElementStore').get(l.id)})});f.exports=i}),null);
__d('adsCanvasEditingDisabledSelector',['adsCanvasCurrentDocumentSelector','adsCreateSelector'],(function a(b,c,d,e,f,g){'use strict';var h=c('adsCreateSelector')([c('adsCanvasCurrentDocumentSelector')],function(i){var j=i.getValue();return j?j.get('isPublished'):false});f.exports=h}),null);
__d('adsCanvasHasFooterElementSelector',['RichMediaElementTypeConstant','adsCanvasCurrentDocumentSelector','adsCreateSelector'],(function a(b,c,d,e,f,g){'use strict';var h=c('RichMediaElementTypeConstant').RichMediaElementTypes,i=c('adsCreateSelector')([c('adsCanvasCurrentDocumentSelector')],function(j){var k=j.getValue();return k&&k.getElements().last()?k.getElements().last().elementType===h.FOOTER:false});f.exports=i}),null);
__d('richMediaEditorPhotoUploaderSelector',['AdsAccountStore','AdsCanvasCreativeQEStoreUtils','AdsCanvasInlineUIStore','adsCreateStoreSelector'],(function a(b,c,d,e,f,g){'use strict';var h=c('adsCreateStoreSelector')([c('AdsAccountStore'),c('AdsCanvasInlineUIStore')],function(){var i=c('AdsCanvasInlineUIStore').getTemplateID(),j=c('AdsAccountStore').getSelectedAccount();if(!j)return {accountID:'',isPhotoLibraryEnabled:false,templateID:i};var k=j.account_id,l=c('AdsCanvasCreativeQEStoreUtils').isInlineAssetUploaderEnabled(k);return {accountID:k,isPhotoLibraryEnabled:l,templateID:i}});f.exports=h}),null);
__d('richMediaEditorVideoUploaderSelector',['AdsAccountStore','AdsCanvasCreativeQEStoreUtils','AdsCanvasInlineUIStore','adsCreateStoreSelector'],(function a(b,c,d,e,f,g){'use strict';var h=c('adsCreateStoreSelector')([c('AdsAccountStore'),c('AdsCanvasInlineUIStore')],function(){var i=c('AdsCanvasInlineUIStore').getTemplateID(),j=c('AdsAccountStore').getSelectedAccount();if(!j)return {accountID:'',isVideoLibraryEnabled:false,templateID:i};var k=j.account_id,l=c('AdsCanvasCreativeQEStoreUtils').isInlineAssetUploaderEnabled(k);return {accountID:k,isVideoLibraryEnabled:l,templateID:i}});f.exports=h}),null);
__d("CanvasLoadSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LOAD_EXISTING_DOC:"load_existing",LOAD_DUPLICATE_DOC:"load_duplicate",LOAD_NEW_DEFAULT_DOC:"load_new",LOAD_NEW_USER:"load_new_user"})}),null);
__d('RichMediaEditorLoggerStore',['AdsCanvasConstants','AdsCanvasEditorFunnelLogging','AdsCanvasEditorFunnelLoggingConstants','AdsDataActionTypes','AdsDispatcher','CanvasCreationEvent','CanvasCreationWaterfallTypedLogger','CanvasLoadSource','FluxStore','FunnelLogger','RichMediaEditorStore','RichMediaElementUtil','RichMediaLoggingStoreUtils','SimpleNUXMessage','SimpleNUXMessageTypes'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('AdsCanvasConstants').DEFAULT_PAGE_CANVAS_COUNT,k=c('AdsCanvasConstants').DEFAULT_PAGE_PUBLISHED_CANVAS_COUNT,l=c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME,m=c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_EVENT,n=c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_TAGS;h=babelHelpers.inherits(o,c('FluxStore'));i=h&&h.prototype;function o(p){i.constructor.call(this,c('AdsDispatcher'));this.$RichMediaEditorLoggerStore1=!c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').AD_CANVAS_EDITOR_TOOLBAR_NUX)}o.prototype.__onDispatch=function(p){var q=p.action;switch(q.type){case c('AdsDataActionTypes').richMediaEditorMoveElementUp:c('FunnelLogger').appendAction(l,m.SWITCH_ELEMENT);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').REORDER_COMPONENT).setReorderComponentDistance(-1*q.distance));break;case c('AdsDataActionTypes').richMediaEditorMoveElementDown:c('FunnelLogger').appendAction(l,m.SWITCH_ELEMENT);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').REORDER_COMPONENT).setReorderComponentDistance(q.distance));break;case c('AdsDataActionTypes').canvasDocumentReorderElements:c('FunnelLogger').appendAction(l,m.SWITCH_ELEMENT);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').REORDER_COMPONENT).setReorderComponentDistance(Math.abs(q.source-q.target)));break;case c('AdsDataActionTypes').richMediaEditorDeleteElement:case c('AdsDataActionTypes').canvasElementDelete:c('FunnelLogger').appendAction(l,m.REMOVE_ELEMENT);break;case c('AdsDataActionTypes').richMediaEditorCreateDefaultDocument:if(this.$RichMediaEditorLoggerStore1)c('FunnelLogger').addFunnelTag(l,n.FIRST_TIME_USER);c('FunnelLogger').addFunnelTag(l,c('CanvasLoadSource').LOAD_NEW_DEFAULT_DOC);c('FunnelLogger').addFunnelTag(l,n.WELCOMESCREEN_SHOWN);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setCanvasLoadType(c('CanvasLoadSource').LOAD_NEW_DEFAULT_DOC).setEventName(c('CanvasCreationEvent').LOAD));break;case c('AdsDataActionTypes').canvasInit:if(this.$RichMediaEditorLoggerStore1)c('FunnelLogger').addFunnelTag(l,n.FIRST_TIME_USER);if(q.canvasID){c('FunnelLogger').addFunnelTag(l,c('CanvasLoadSource').LOAD_EXISTING_DOC);c('FunnelLogger').addFunnelTag(l,q.canvasID);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setCanvasLoadType(c('CanvasLoadSource').LOAD_EXISTING_DOC).setEventName(c('CanvasCreationEvent').LOAD))}else{c('FunnelLogger').addFunnelTag(l,c('CanvasLoadSource').LOAD_NEW_DEFAULT_DOC);c('FunnelLogger').addFunnelTag(l,n.WELCOMESCREEN_SHOWN);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setCanvasLoadType(c('CanvasLoadSource').LOAD_NEW_DEFAULT_DOC).setEventName(c('CanvasCreationEvent').LOAD))}break;case c('AdsDataActionTypes').canvasDocumentInitDuplicate:c('FunnelLogger').appendAction(l,m.INIT_DUPLICATE);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').INIT_DUPLICATE).setErrorCode(q.error?q.error.code:0));break;case c('AdsDataActionTypes').canvasDocumentInitPublish:c('FunnelLogger').appendAction(l,m.TOOLBAR_PUBLISH_CLICKED);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').INIT_PUBLISH).setErrorCode(q.error?q.error.code:0));break;case c('AdsDataActionTypes').canvasDocumentInitSave:c('FunnelLogger').appendAction(l,m.INIT_SAVE);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').INIT_SAVE).setErrorCode(q.error?q.error.code:0));break;case c('AdsDataActionTypes').canvasDocumentCreateSuccess:c('FunnelLogger').appendAction(l,m.CREATE_SUCCESS);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').CREATE_SUCCESS).setErrorCode(q.error?q.error.code:0));break;case c('AdsDataActionTypes').canvasDocumentDuplicateSuccess:c('FunnelLogger').appendAction(l,m.DUPLICATE_SUCCESS);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').DUPLICATE_SUCCESS).setErrorCode(q.error?q.error.code:0).setDuplicateParentCanvasID(q.parentCanvasID));break;case c('AdsDataActionTypes').canvasDocumentLoadSuccess:c('FunnelLogger').appendAction(l,m.LOAD_SUCCESS);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').LOAD_SUCCESS).setErrorCode(q.error?q.error.code:0));break;case c('AdsDataActionTypes').canvasDocumentSaveSuccess:c('FunnelLogger').appendAction(l,m.SAVE_SUCCESS);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').SAVE_SUCCESS).setErrorCode(q.error?q.error.code:0));break;case c('AdsDataActionTypes').canvasDocumentCreateError:c('FunnelLogger').appendAction(l,m.CREATE_FAILURE);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').CREATE_FAILURE).setErrorCode(q.error?q.error.code:0).setErrorMessage(q.error?q.error.message:'').setFbtraceID(q.error?q.error.fbtrace_id:''));break;case c('AdsDataActionTypes').canvasDocumentDuplicateError:c('FunnelLogger').appendAction(l,m.DUPLICATE_FAILURE);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').DUPLICATE_FAILURE).setCanvasID(q.canvasID).setErrorCode(q.error?q.error.code:0).setErrorMessage(q.error?q.error.message:'').setFbtraceID(q.error?q.error.fbtrace_id:''));break;case c('AdsDataActionTypes').canvasDocumentLoadError:c('FunnelLogger').appendAction(l,m.LOAD_FAILURE);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').LOAD_FAILURE).setCanvasID(q.canvasID).setErrorCode(q.error?q.error.code:0).setErrorMessage(q.error?q.error.message:'').setFbtraceID(q.error?q.error.fbtrace_id:''));break;case c('AdsDataActionTypes').richMediaEditorSetSaveFailed:case c('AdsDataActionTypes').canvasDocumentSaveError:c('FunnelLogger').appendAction(l,m.SAVE_FAILURE);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').SAVE_FAILURE).setErrorCode(q.error?q.error.code:0).setErrorMessage(q.error?q.error.message:'').setFbtraceID(q.error?q.error.fbtrace_id:''));break;case c('AdsDataActionTypes').richMediaEditorSetValidationFailed:c('FunnelLogger').appendAction(l,m.VALIDATION_ERROR);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').VALIDATION_ERROR).setIncompleteElements(q.elementValidation.errorMsg));break;case c('AdsDataActionTypes').richMediaEditorSetDocumentName:case c('AdsDataActionTypes').canvasDocumentSetTitle:c('FunnelLogger').appendActionIfNew(l,m.CHANGE_CANVAS_TITLE);break;case c('AdsDataActionTypes').richMediaEditorSaveIncompleteElements:c('FunnelLogger').appendAction(l,m.SAVE_INCOMPLETE_ELEMENTS);c('FunnelLogger').addFunnelTag(l,m.SAVE_INCOMPLETE_ELEMENTS);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').SAVE_INCOMPLETE_ELEMENTS).setIncompleteElements(q.elementValidation.errorMsg));break;case c('AdsDataActionTypes').richMediaEditorLoadDocument:if(this.$RichMediaEditorLoggerStore1)c('FunnelLogger').addFunnelTag(l,n.FIRST_TIME_USER);c('FunnelLogger').addFunnelTag(l,c('CanvasLoadSource').LOAD_EXISTING_DOC);if(q.documentID)c('FunnelLogger').addFunnelTag(l,q.documentID);var r=c('RichMediaEditorStore').getDocumentElements(),s=c('RichMediaElementUtil').validateElements(r);if(!s.isValid)c('FunnelLogger').addFunnelTag(l,n.LOAD_EXISTING_DOC_WITH_VALIDATION_ERRORS);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setCanvasLoadType(c('CanvasLoadSource').LOAD_EXISTING_DOC).setEventName(c('CanvasCreationEvent').LOAD).setIncompleteElements(!s.isValid?s.errorMsg.toString():null));break;case c('AdsDataActionTypes').richMediaEditorLoadPageDataSuccess:if(q.logger!=null)q.logger.setPageCanvasCount(q.pageCanvasCount).setPagePublishedCanvasCount(q.pagePublishedCanvasCount).log();if(q.funnelLogger!=null){if(q.pageCanvasCount<=j)q.funnelLogger.addFunnelTag(l,n.PAGE_HAS_NEVER_CREATED);if(q.pagePublishedCanvasCount<=k)q.funnelLogger.addFunnelTag(l,n.PAGE_HAS_NEVER_PUBLISHED);}this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorLoadPageDataError:if(q.logger!=null)q.logger.log();this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorAddElementsSelected:c('FunnelLogger').appendAction(l,m.ADD_ELEMENT);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventDetails(JSON.stringify(Object.keys(q.elementsSelected))).setEventName(c('CanvasCreationEvent').ADD_ELEMENT));break;case c('AdsDataActionTypes').canvasDocumentAddNewElements:c('FunnelLogger').appendAction(l,m.ADD_ELEMENT);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventDetails(JSON.stringify(q.elements.toJSON())).setEventName(c('CanvasCreationEvent').ADD_ELEMENT));break;case c('AdsDataActionTypes').richMediaEditorCanvasTemplateSelected:var t=m.TEMPLATE_SELECT_LAYOUT.concat('_',q.selectedTemplate);c('FunnelLogger').appendAction(l,t);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventDetails(q.selectedTemplate).setEventName(c('CanvasCreationEvent').TEMPLATE_SELECTED));break;case c('AdsDataActionTypes').richMediaEditorLoadCanvasTemplate:if(q.selectedTemplate){var u=m.TEMPLATE_PREVIEW_LAYOUT.concat('_',q.selectedTemplate);c('FunnelLogger').appendAction(l,u);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventDetails(q.selectedTemplate).setEventName(c('CanvasCreationEvent').LOAD_TEMPLATE))}break;case c('AdsDataActionTypes').richMediaEditorBackToMenu:if(q.confirmed)c('FunnelLogger').appendAction(l,m.BACK_TO_MENU);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventDetails(c('RichMediaEditorStore').getSelectedTemplate()).setEventName(c('CanvasCreationEvent').BACK_TO_MENU));break;case c('AdsDataActionTypes').richMediaEditorSetSwipeToOpenEnabled:c('FunnelLogger').appendAction(l,m.SWIPE_TO_OPEN_TOGGLED);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventDetails(String(q.value)).setEventName(c('CanvasCreationEvent').SWIPE_TO_OPEN_TOGGLED));break;case c('AdsDataActionTypes').richMediaEditorToolbarPublishClick:c('FunnelLogger').appendAction(l,m.TOOLBAR_PUBLISH_CLICKED);c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').TOOLBAR_PUBLISH_CLICKED).setIncompleteElements(q.elementValidation&&!q.elementValidation.isValid?q.elementValidation.errorMsg:null));break;case c('AdsDataActionTypes').richMediaEditorSetDocumentUrlDialogShown:if(q.dialogShown)c('FunnelLogger').appendAction(l,m.GET_URL);break;case c('AdsDataActionTypes').richMediaEditorSetSendingPreview:if(q.sendingPreview)c('FunnelLogger').appendAction(l,m.PREVIEW_SELF);break;case c('AdsDataActionTypes').richMediaEditorSetPreviewFailed:c('FunnelLogger').appendAction(l,m.PREVIEW_FAIL);break;case c('AdsDataActionTypes').canvasMediaLibrarySetUrl:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').WEBPARSING_SET_URL,q.url);this.$RichMediaEditorLoggerStore3(m.WEBPARSING_SET_URL);break;case c('AdsDataActionTypes').canvasMediaLibrarySetDialogShown:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').WEBPARSING_TOGGLE_PANNEL,q.dialogShown);this.$RichMediaEditorLoggerStore3(m.WEBPARSING_TOGGLE_PANNEL);break;case c('AdsDataActionTypes').canvasMediaLibrarySetSelectedImages:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').WEBPARSING_IMAGE_SELECT,q.selectedImages);this.$RichMediaEditorLoggerStore3(m.WEBPARSING_IMAGE_SELECT);break;case c('AdsDataActionTypes').canvasAssetParsingMediaFetching:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').WEBPARSING_LOADING_MEDIA,q.url);this.$RichMediaEditorLoggerStore3(m.WEBPARSING_LOADING_MEDIA);break;case c('AdsDataActionTypes').canvasAssetParsingMediaLoaded:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').WEBPARSING_LOADING_SUCCESS,q.result);this.$RichMediaEditorLoggerStore3(m.WEBPARSING_LOADING_SUCCESS);break;case c('AdsDataActionTypes').canvasAssetParsingMediaLoadError:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').WEBPARSING_LOADING_FAIL,q.error);this.$RichMediaEditorLoggerStore3(m.WEBPARSING_LOADING_FAIL);break;case c('AdsDataActionTypes').richMediaEditorCreateDocumentFromMedia:var v=Array.from(q.images.values());this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').WEBPARSING_CONTINUE_BUILDER,v);this.$RichMediaEditorLoggerStore3(m.WEBPARSING_CONTINUE_BUILDER);break;case c('AdsDataActionTypes').canvasInlineBuilderBuilderNuxTourComplete:c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').CANVAS_INLINE_BUILDER_NUX_TOUR_COMPLETE).setEventDetails(String(q.templateID)).setNuxTourStep(q.nuxStep));break;case c('AdsDataActionTypes').canvasInlineBuilderBuilderNuxTourXout:c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').CANVAS_INLINE_BUILDER_NUX_TOUR_XOUT).setEventDetails(String(q.templateID)).setNuxTourStep(q.nuxStep));break;case c('AdsDataActionTypes').canvasInlineBuilderShowInlineModal:if(q.showInlineModal){this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').SHOW_INLINE_MODAL);this.$RichMediaEditorLoggerStore4(['inline_builder'])}else{this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').EXIT_INLINE_MODAL);this.$RichMediaEditorLoggerStore5()}break;case c('AdsDataActionTypes').canvasInlineBuilderPreviewCanvas:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').PREVIEW_SUCCESS);this.$RichMediaEditorLoggerStore3(m.PREVIEW_SELF);break;case c('AdsDataActionTypes').uEditorAdgroupSetCanvasDocument:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').SAVE_FROM_INLINE_BUILDER);this.$RichMediaEditorLoggerStore5();break;case c('AdsDataActionTypes').canvasPhotoUploaderImageUploadError:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').PHOTO_UPLOAD_ERROR);this.$RichMediaEditorLoggerStore3(m.PHOTO_UPLOAD_ERROR);break;case c('AdsDataActionTypes').canvasPhotoUploaderImageUploadSuccess:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').PHOTO_UPLOAD_SUCCESS);this.$RichMediaEditorLoggerStore3(m.PHOTO_UPLOAD_SUCCESS);break;case c('AdsDataActionTypes').canvasPhotoUploaderImageUploadTimeout:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').EDITOR_PHOTO_UPLOAD_TIMEOUT);this.$RichMediaEditorLoggerStore3(m.EDITOR_PHOTO_UPLOAD_TIMEOUT);break;case c('AdsDataActionTypes').canvasPhotoUploaderLibraryCancel:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').PHOTO_LIBRARY_UPLOADER_CANCEL);this.$RichMediaEditorLoggerStore3(m.PHOTO_LIBRARY_UPLOADER_CANCEL);break;case c('AdsDataActionTypes').canvasPhotoUploaderLibraryImageUpload:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').PHOTO_LIBRARY_UPLOADER_IMAGE_UPLOAD);this.$RichMediaEditorLoggerStore3(m.PHOTO_LIBRARY_UPLOADER_IMAGE_UPLOAD);break;case c('AdsDataActionTypes').canvasPhotoUploaderLibraryOpen:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').PHOTO_LIBRARY_UPLOADER_OPEN);this.$RichMediaEditorLoggerStore3(m.PHOTO_LIBRARY_UPLOADER_OPEN);break;case c('AdsDataActionTypes').canvasPhotoUploaderManualImageUpload:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').PHOTO_MANUAL_UPLOADER_IMAGE_UPLOAD);this.$RichMediaEditorLoggerStore3(m.PHOTO_MANUAL_UPLOADER_IMAGE_UPLOAD);break;case c('AdsDataActionTypes').canvasPhotoUploaderManualOpen:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').PHOTO_MANUAL_UPLOADER_OPEN);this.$RichMediaEditorLoggerStore3(m.PHOTO_MANUAL_UPLOADER_OPEN);break;case c('AdsDataActionTypes').canvasVideoUploaderLibraryOpen:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').VIDEO_LIBRARY_UPLOADER_OPEN);this.$RichMediaEditorLoggerStore3(m.VIDEO_LIBRARY_UPLOADER_OPEN);break;case c('AdsDataActionTypes').canvasVideoUploaderLibraryVideoClick:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').VIDEO_LIBRARY_UPLOADER_VIDEO_CLICK);this.$RichMediaEditorLoggerStore3(m.VIDEO_LIBRARY_UPLOADER_VIDEO_CLICK);break;case c('AdsDataActionTypes').canvasVideoUploaderLibraryVideoImport:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').VIDEO_LIBRARY_UPLOADER_VIDEO_IMPORT);this.$RichMediaEditorLoggerStore3(m.VIDEO_LIBRARY_UPLOADER_VIDEO_IMPORT);break;case c('AdsDataActionTypes').canvasVideoUploaderLibraryVideoUpload:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').VIDEO_LIBRARY_UPLOADER_VIDEO_UPLOAD);this.$RichMediaEditorLoggerStore3(m.VIDEO_LIBRARY_UPLOADER_VIDEO_UPLOAD);break;case c('AdsDataActionTypes').canvasVideoUploaderLibraryVideoSelectExisting:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').VIDEO_LIBRARY_UPLOADER_VIDEO_SELECT_EXISTING);this.$RichMediaEditorLoggerStore3(m.VIDEO_LIBRARY_UPLOADER_VIDEO_SELECT_EXISTING);break;case c('AdsDataActionTypes').canvasVideoUploaderLibraryCancel:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').VIDEO_LIBRARY_UPLOADER_CANCEL);this.$RichMediaEditorLoggerStore3(m.VIDEO_LIBRARY_UPLOADER_CANCEL);break;case c('AdsDataActionTypes').canvasVideoUploaderManualOpen:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').VIDEO_MANUAL_UPLOADER_OPEN);this.$RichMediaEditorLoggerStore3(m.VIDEO_MANUAL_UPLOADER_OPEN);break;case c('AdsDataActionTypes').canvasVideoUploaderManualVideoUpload:this.$RichMediaEditorLoggerStore2(c('CanvasCreationEvent').VIDEO_MANUAL_UPLOADER_VIDEO_UPLOAD);this.$RichMediaEditorLoggerStore3(m.VIDEO_MANUAL_UPLOADER_VIDEO_UPLOAD);break;}};o.prototype.$RichMediaEditorLoggerStore2=function(p,q){c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(p).setEventDetails(JSON.stringify(q)))};o.prototype.$RichMediaEditorLoggerStore3=function(p){c('FunnelLogger').appendAction(l,p)};o.prototype.$RichMediaEditorLoggerStore4=function(p){c('AdsCanvasEditorFunnelLogging').startFunnel();p.map(function(q){if(q)c('FunnelLogger').addFunnelTag(l,q);})};o.prototype.$RichMediaEditorLoggerStore5=function(){c('AdsCanvasEditorFunnelLogging').endFunnel()};f.exports=new o(c('AdsDispatcher'))}),null);
__d("AdsCanvasCapabilities",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAN_ADD_CULTURAL_MOMENT_COMPONENTS:"CAN_ADD_CULTURAL_MOMENT_COMPONENTS",CAN_ADD_OFFER:"CAN_ADD_OFFER",CAN_ADD_PRODUCT_SET:"CAN_ADD_PRODUCT_SET",CAN_ADD_STORE_LOCATOR:"CAN_ADD_STORE_LOCATOR",CAN_SAVE_INCOMPLETE_ELEMENTS:"CAN_SAVE_INCOMPLETE_ELEMENTS",CAN_USE_LIGHT_WEIGHT_EDITING:"CAN_USE_LIGHT_WEIGHT_EDITING",CAN_USE_LINKED_CANVAS:"CAN_USE_LINKED_CANVAS",CAN_USE_WEBISTE_PARSING:"CAN_USE_WEBISTE_PARSING",CAN_USE_PREVIEW_TAB:"CAN_USE_PREVIEW_TAB",CAN_USE_PRODUCT_LIST:"CAN_USE_PRODUCT_LIST",CAN_CREATE_INSTAGRAM_CANVAS:"CAN_CREATE_INSTAGRAM_CANVAS",IS_TEMPLATE_MANAGER:"IS_TEMPLATE_MANAGER"})}),null);
__d('AdsCanvasCapabilityConfig',['AdsCanvasCapabilities','immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k=c('immutable').Record,l=(j={},j[c('AdsCanvasCapabilities').CAN_ADD_CULTURAL_MOMENT_COMPONENTS]=false,j[c('AdsCanvasCapabilities').CAN_ADD_OFFER]=false,j[c('AdsCanvasCapabilities').CAN_ADD_PRODUCT_SET]=false,j[c('AdsCanvasCapabilities').CAN_ADD_STORE_LOCATOR]=false,j[c('AdsCanvasCapabilities').CAN_SAVE_INCOMPLETE_ELEMENTS]=false,j[c('AdsCanvasCapabilities').CAN_USE_LIGHT_WEIGHT_EDITING]=false,j[c('AdsCanvasCapabilities').CAN_USE_LINKED_CANVAS]=false,j[c('AdsCanvasCapabilities').CAN_USE_WEBISTE_PARSING]=false,j[c('AdsCanvasCapabilities').CAN_USE_PREVIEW_TAB]=false,j[c('AdsCanvasCapabilities').CAN_USE_PRODUCT_LIST]=false,j[c('AdsCanvasCapabilities').CAN_CREATE_INSTAGRAM_CANVAS]=false,j[c('AdsCanvasCapabilities').IS_TEMPLATE_MANAGER]=false,j);h=babelHelpers.inherits(m,k(l));i=h&&h.prototype;m.prototype.hasCapability=function(n){return this.get(n)};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d('AdsCanvasEditorElementValidationErrorIcon.react',['ix','cx','AdsCanvasEditorEnums','Image.react','React','Tooltip','fbglyph'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('AdsCanvasEditorEnums').ErrorTypeEnum;function k(l){if(l.validationInfo.isValid)return null;var m=l.validationInfo.errorMsg,n=void 0;if(l.errorType===j.ERROR){n=h("117758")}else if(l.errorType===j.WARNING){n=h("125768")}else if(l.supportInstagramCanvasEnabled)n=h("132176");if(!n)return null;return c('React').createElement(c('Image.react'),babelHelpers['extends']({className:"_3ixc",src:n},c('Tooltip').propsFor(m)))}f.exports=k}),null);
__d('AdsCanvasEditorElementValidationErrorIconContainer.react',['AdsCanvasCurrentCanvasIDStore','AdsCanvasDocumentStore','AdsCanvasEditorElementValidationErrorIcon.react','AdsCanvasEditorEnums','AdsCanvasElementStore','AdsFluxContainer','React','RichMediaEditorStore','RichMediaElementUtil','SUIBusinessTheme','SUISpinner.react','adsGKCheck'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('AdsCanvasEditorEnums').ErrorTypeEnum;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(l){i.constructor.call(this,l)}k.getStores=function(){return [c('AdsCanvasCurrentCanvasIDStore'),c('AdsCanvasDocumentStore'),c('AdsCanvasElementStore'),c('RichMediaEditorStore')]};k.calculateState=function(l,m){var n=c('RichMediaEditorStore').getErrorType(),o=c('RichMediaEditorStore').getSupportInstagramEnabled(),p=void 0,q=void 0;if(c('adsGKCheck')('ads_canvas_editor_store_refactoring')){var r=c('AdsCanvasCurrentCanvasIDStore').getStateEnforcing(),s=c('AdsCanvasDocumentStore').get(r);if(!s.hasValue())return {isReady:false};var t=s.getValueEnforcing(),u=t.getElements().map(function(w){return c('AdsCanvasElementStore').get(w.id)});if(u.some(function(w){return !w.hasValue()}))return {isReady:false};q=u.map(function(w){return w.getValueEnforcing()});p=c('AdsCanvasElementStore').get(m.elementID).getValueEnforcing()}else{q=c('RichMediaEditorStore').getDocumentElements();p=c('RichMediaEditorStore').getDocumentElement(m.elementID)}var v={errorMsg:'',isValid:true};if(n===j.ERROR||n===j.WARNING)v=c('RichMediaElementUtil').validateElement(p,q,m.templatePlugin);if(v.isValid&&o)v=c('RichMediaElementUtil').validateElementComponentLevelErrorForInstagram(p);return {errorType:n,isReady:true,supportInstagramCanvasEnabled:o,validationInfo:v}};k.prototype.render=function(){if(!this.state.isReady)return c('React').createElement(c('SUISpinner.react'),{theme:c('SUIBusinessTheme')});return c('React').createElement(c('AdsCanvasEditorElementValidationErrorIcon.react'),{errorType:this.state.errorType,supportInstagramCanvasEnabled:this.state.supportInstagramCanvasEnabled,validationInfo:this.state.validationInfo})};f.exports=c('AdsFluxContainer').create(k,{withProps:true})}),null);
__d('RichMediaPreviewMobileSite.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m)}l.prototype.render=function(){return c('React').createElement('div',{className:"_3bta",style:{height:this.props.height,width:this.props.width}},c('React').createElement('iframe',{frameBorder:'0',height:this.props.height,src:this.props.websiteURL,width:this.props.width}))};l.propTypes={websiteURL:k.string.isRequired};f.exports=l}),null);
__d('AdsCanvasPreview.react',['cx','fbt','ix','AdsCanvasEditorEnums','AdsCanvasPreviewCanvasContainer.react','AdsCanvasWebdriverIDs','Animation','BUIAdoptionXUIText.react','Ease','Image.react','React','RichMediaElementTypeConstant','RichMediaElementUtil','RichMediaPreviewButton.react','RichMediaPreviewCanvas.react','RichMediaPreviewConstants','RichMediaPreviewMobileSite.react','SUITabGroup.react','adsGKCheck','ge'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('RichMediaPreviewButton.react').BackButton,n=c('RichMediaPreviewConstants').BOTTOM_BUTTON_HEIGHT,o='preview_element',p='preview_elements',q=c('AdsCanvasEditorEnums').PreviewEnum,r=c('RichMediaElementTypeConstant').RichMediaElementTypes;k=babelHelpers.inherits(s,c('React').Component);l=k&&k.prototype;s.prototype.componentDidUpdate=function(t){if(this.props.currentEditingElementIndex!==t.currentEditingElementIndex)this.$AdsCanvasPreview1();};s.prototype.render=function(){return c('React').createElement('div',null,this.$AdsCanvasPreview2(),this.$AdsCanvasPreview3())};s.prototype.$AdsCanvasPreview2=function(){if(this.props.previewTabs.length===0)return null;return c('React').createElement(c('SUITabGroup.react'),{className:"_2pwd",tabs:this.props.previewTabs,value:this.props.previewType,onChange:this.props.onPreviewTabChange})};s.prototype.$AdsCanvasPreview3=function(){switch(this.props.previewType){case q.MOBILE_SITE:return this.$AdsCanvasPreview4();case q.INSTAGRAM:return this.$AdsCanvasPreview5();default:return this.$AdsCanvasPreview6();}};s.prototype.$AdsCanvasPreview6=function(){var t=Array.isArray(this.props.documentElements)?this.props.documentElements.length:this.props.documentElements.count();if(t===0&&this.props.isDefaultDocument&&!this.props.showWelcomePane)return this.$AdsCanvasPreview7();if(c('adsGKCheck')('ads_canvas_editor_store_refactoring'))return c('React').createElement('div',{className:"_3bta",style:{height:this.props.height,width:this.props.width}},c('React').createElement(c('AdsCanvasPreviewCanvasContainer.react'),{canvasID:this.props.documentID,height:this.props.height,showInstagramSwipeToOpenPreview:this.props.showInstagramSwipeToOpenPreview,width:this.props.width}));return c('React').createElement('div',{className:"_3bta",style:{height:this.props.height,width:this.props.width}},c('React').createElement(c('RichMediaPreviewCanvas.react'),{documentElements:this.props.documentElements,documentTheme:this.props.documentTheme,height:this.props.height,instagramPreview:this.props.previewType===q.INSTAGRAM,showSwipeToOpenPreview:this.props.previewType!==q.INSTAGRAM||this.props.showInstagramSwipeToOpenPreview,width:this.props.width}))};s.prototype.$AdsCanvasPreview5=function(){if(!c('RichMediaElementUtil').validateElementsForInstagramPreview(this.props.documentElements))return this.$AdsCanvasPreview8();return this.$AdsCanvasPreview6()};s.prototype.$AdsCanvasPreview4=function(){return c('React').createElement(c('RichMediaPreviewMobileSite.react'),{height:this.props.height,websiteURL:'https://simbasleep.com/',width:this.props.width})};s.prototype.$AdsCanvasPreview8=function(){return c('React').createElement('div',{className:"_3bta _48ci",'data-testid':c('AdsCanvasWebdriverIDs').ADS_CANVAS_BUILDER_PREVIEW,style:{background:'#FFFFFF',height:this.props.height,width:this.props.width}})};s.prototype.$AdsCanvasPreview7=function(){var t={background:'#'+this.props.documentTheme.substr(2),height:this.props.height,width:this.props.width};return c('React').createElement('div',{className:"_3bta _48ci",'data-testid':c('AdsCanvasWebdriverIDs').ADS_CANVAS_BUILDER_PREVIEW,style:t},c('React').createElement(m,{documentElements:this.props.documentElements,documentTheme:this.props.documentTheme}),c('React').createElement('div',null,c('React').createElement(c('Image.react'),{src:j("27594"),width:this.props.width}),c('React').createElement('div',{className:"_16ef"},c('React').createElement(c('BUIAdoptionXUIText.react'),{shade:'medium',size:'large',textAlign:'center',weight:'bold'},i._("Welcome to Canvas"))),c('React').createElement('br',null),c('React').createElement('div',{className:"_16eg"},c('React').createElement(c('BUIAdoptionXUIText.react'),{shade:'light',size:'small',textAlign:'center'},i._("Use the Add Component button to get started.")))))};s.prototype.$AdsCanvasPreview1=function(){var t=this.props.currentEditingElementIndex,u=Array.isArray(this.props.documentElements)?this.props.documentElements.length:this.props.documentElements.count();if(t<0||t>=u)return;var v=Array.isArray(this.props.documentElements)?this.props.documentElements[t]:this.props.documentElements.get(t);if(!v.expanded)return;if(v.uploadStatus&&v.uploadStatus.isUploading)return;var w=false;if(Array.isArray(this.props.documentElements)){w=!!c('RichMediaElementUtil').getFixToBottomButtonElement(this.props.documentElements)}else if(this.props.documentElements.last().getElementType()===r.FOOTER)w=true;var x=w?this.props.height-n:this.props.height,y=c('ge')(o+t),z=c('ge')(p);if(!y||!z)return;new (c('Animation'))(z).to('scrollTop',y.offsetTop-x/2+y.scrollHeight/2).ease(c('Ease').makePowerIn(3)).duration(300).go()};function s(){k.apply(this,arguments)}f.exports=s}),null);
__d('AdsCanvasBuilderUtils',['Promise','AdsCanvasButtonElement','AdsCanvasCarouselElement','AdsCanvasElementDataLoader','AdsCanvasFooterElement','AdsCanvasHeaderElement','AdsCanvasPhotoElement','AdsCanvasProductSetElement','AdsCanvasStoreLocatorElement','AdsCanvasTextElement','AdsCanvasVideoElement','React','RichMediaEditorActions','RichMediaElementTypeConstant','SUITheme'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('RichMediaElementTypeConstant').RichMediaElementTypes;function j(){return {accessToken:h.string.isRequired,businessID:h.string,canvasCapabilityConfig:h.object.isRequired,createPostEnabled:h.bool.isRequired,pageID:h.string.isRequired,theme:h.instanceOf(c('SUITheme')).isRequired,onCreatePost:h.func,onDoneSuccess:h.func,onSaveCanvasSuccess:h.func}}function k(m){if(!m.body_elements)return;c('Promise').all(m.body_elements.map(l)).done(function(n){var o='['+n.join()+']';c('RichMediaEditorActions').loadDocument(m.name,m.background_color,m.id,m.canvas_link,o,m.elements,m.is_published,m.style_list,m.tags)})}function l(m){switch(m.element_type){case i.BUTTON:return c('AdsCanvasElementDataLoader').getButtonElement(m.id).then(function(o){return JSON.stringify(c('AdsCanvasButtonElement').fromAPI(o))});case i.CAROUSEL:return c('AdsCanvasElementDataLoader').getCarouselElement(m.id).then(function(o){return JSON.stringify(c('AdsCanvasCarouselElement').fromAPI(o))});case i.ELEMENT_GROUP:return c('AdsCanvasElementDataLoader').getProductSetElement(m.id).then(function(o){return JSON.stringify(c('AdsCanvasProductSetElement').fromAPI(o))});case i.FOOTER:return c('AdsCanvasElementDataLoader').getFooterElement(m.id).then(function(o){return JSON.stringify(c('AdsCanvasFooterElement').fromAPI(o))});case i.HEADER:return c('AdsCanvasElementDataLoader').getHeaderElement(m.id).then(function(o){return JSON.stringify(c('AdsCanvasHeaderElement').fromAPI(o))});case i.PHOTO:return c('AdsCanvasElementDataLoader').getPhotoElement(m.id).then(function(o){return JSON.stringify(c('AdsCanvasPhotoElement').fromAPI(o))});case i.RICH_TEXT:return c('AdsCanvasElementDataLoader').getTextElement(m.id).then(function(o){return JSON.stringify(c('AdsCanvasTextElement').fromAPI(o))});case i.STORE_LOCATOR:return c('AdsCanvasElementDataLoader').getStoreLocatorElement(m.id).then(function(o){return JSON.stringify(c('AdsCanvasStoreLocatorElement').fromAPI(o))});case i.VIDEO:return c('AdsCanvasElementDataLoader').getVideoElement(m.id).then(function(o){return JSON.stringify(c('AdsCanvasVideoElement').fromAPI(o))});default:var n=new (c('Promise'))(function(o,p){return o()});return n.then(function(o){return '{}'});}}f.exports={getContextTypes:j,loadNewCanvasAPI:k}}),null);
__d('AdsCanvasPreviewContainer.react',['cx','AdsAccountCapabilities','AdsAccountStore','AdsAccountUtils','AdsCanvasBuilderUtils','AdsCanvasCapabilities','AdsCanvasCurrentCanvasIDStore','AdsCanvasDocumentStore','AdsCanvasEditorEnums','AdsCanvasElementStore','AdsCanvasPreview.react','AdsCanvasWebdriverIDs','FluxContainer','React','RichMediaEditorActions','RichMediaEditorStore','SUIBusinessTheme','SUISpinner.react','adsGKCheck'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsCanvasEditorEnums').PreviewEnum;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.getStores=function(){return [c('AdsAccountStore'),c('AdsCanvasCurrentCanvasIDStore'),c('AdsCanvasDocumentStore'),c('AdsCanvasElementStore'),c('RichMediaEditorStore')]};l.calculateState=function(m,n,o){var p=o.canvasCapabilityConfig.hasCapability(c('AdsCanvasCapabilities').CAN_USE_PREVIEW_TAB),q=o.canvasCapabilityConfig.hasCapability(c('AdsCanvasCapabilities').CAN_USE_WEBISTE_PARSING),r=c('RichMediaEditorStore').getSupportInstagramEnabled(),s=c('AdsAccountStore').getSelectedAccount(),t=c('AdsAccountUtils').hasCapability(s,c('AdsAccountCapabilities').CAN_CREATE_INSTAGRAM_CANVAS)||c('AdsAccountUtils').hasCapability(s,c('AdsAccountCapabilities').CAN_CREATE_INSTAGRAM_FEED_CANVAS),u=[];if(r)u.push({label:'Instagram',value:k.INSTAGRAM});if(q&&p)u.push({label:'Mobile Site',value:k.MOBILE_SITE});if(u.length!==0)u.unshift({label:'Facebook',value:k.FACEBOOK});if(c('adsGKCheck')('ads_canvas_editor_store_refactoring')){var v=c('AdsCanvasCurrentCanvasIDStore').getStateEnforcing(),w=c('AdsCanvasDocumentStore').get(v);if(!w.hasValue())return {isReady:false};var x=w.getValueEnforcing(),y=x.getElements().map(function(aa){return c('AdsCanvasElementStore').get(aa.id)});if(y.some(function(aa){return !aa.hasValue()}))return {isReady:false};var z=y.map(function(aa){return aa.getValueEnforcing()});return {currentEditingElementIndex:c('RichMediaEditorStore').getCurrentEditingElementIndex(),documentElements:z,documentID:x.getID(),documentTheme:x.getBackgroundColor(),isDefaultDocument:c('RichMediaEditorStore').isDefaultDocument(),isReady:true,previewTabs:u,previewType:c('RichMediaEditorStore').getPreviewType(),selectedTemplate:c('RichMediaEditorStore').getSelectedTemplate(),showInstagramSwipeToOpenPreview:t,showTemplatePreview:c('RichMediaEditorStore').getShowTemplates(),showWelcomePane:c('RichMediaEditorStore').isWelcomePaneShown()}}return {currentEditingElementIndex:c('RichMediaEditorStore').getCurrentEditingElementIndex(),documentElements:c('RichMediaEditorStore').getDocumentElements(),documentID:c('RichMediaEditorStore').getDocumentID(),documentTheme:c('RichMediaEditorStore').getDocumentTheme(),isDefaultDocument:c('RichMediaEditorStore').isDefaultDocument(),isReady:true,previewTabs:u,previewType:c('RichMediaEditorStore').getPreviewType(),selectedTemplate:c('RichMediaEditorStore').getSelectedTemplate(),showInstagramSwipeToOpenPreview:t,showTemplatePreview:c('RichMediaEditorStore').getShowTemplates(),showWelcomePane:c('RichMediaEditorStore').isWelcomePaneShown()}};l.prototype.render=function(){if(!this.state.isReady)return c('React').createElement('div',{className:"_3bta _48ci _6093",'data-testid':c('AdsCanvasWebdriverIDs').ADS_CANVAS_BUILDER_PREVIEW,style:{background:'#FFFFFF',height:this.props.height,width:this.props.width}},c('React').createElement(c('SUISpinner.react'),{theme:c('SUIBusinessTheme')}));return c('React').createElement(c('AdsCanvasPreview.react'),{currentEditingElementIndex:this.state.currentEditingElementIndex,documentElements:this.state.documentElements,documentID:this.state.documentID,documentTheme:this.state.documentTheme,height:this.props.height,isDefaultDocument:this.state.isDefaultDocument,previewTabs:this.state.previewTabs,previewType:this.state.previewType,selectedTemplate:this.state.selectedTemplate,showInstagramSwipeToOpenPreview:this.state.showInstagramSwipeToOpenPreview,showTemplatePreview:this.state.showTemplatePreview,showWelcomePane:this.state.showWelcomePane,width:this.props.width,onPreviewTabChange:this.$RichMediaPreviewContainer1})};l.prototype.$RichMediaPreviewContainer1=function(m){c('RichMediaEditorActions').setPreviewType(m)};function l(){i.apply(this,arguments)}l.contextTypes=c('AdsCanvasBuilderUtils').getContextTypes();f.exports=c('FluxContainer').create(l,{withProps:true,withContext:true})}),null);
__d('RichMediaEditorPhotoLibraryUploader.react',['fbt','AdsCanvasBuilderUtils','AdsImageDialogContainer.react','AdsMediaPanelTabs','BUIAdoptionButton.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.previewPhoto?h._("Replace Photo"):h._("Upload Photo"),m=null;if(this.props.showDialog){var n=[c('AdsMediaPanelTabs').UPLOAD,c('AdsMediaPanelTabs').LIBRARY];m=c('React').createElement(c('AdsImageDialogContainer.react'),{accountID:this.props.accountID,maxSelectedImages:1,pageID:this.context.pageID,tabKeys:n,useInstagramImageCreative:false,onCancel:this.props.onCancelPhotoLibraryUploader,onSelect:this.props.onSelectPhotoLibraryImage})}return c('React').createElement('div',null,m,c('React').createElement(c('BUIAdoptionButton.react'),{disabled:this.props.disabled,href:'#',label:l,onClick:this.props.onClickOpenPhotoLibrary}))};function k(){i.apply(this,arguments)}k.contextTypes=c('AdsCanvasBuilderUtils').getContextTypes();f.exports=k}),null);
__d('RichMediaEditorPhotoSizeWarning.react',['fbt','BUIAdoptionXUINoticeSmall.react','CanvasCreationEvent','CanvasCreationWaterfallTypedLogger','React','RichMediaLoggingStoreUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=3,j=8,k=function l(m){if(m.previewPhoto.width==0||m.previewPhoto.height==0)return null;if(m.layout=='fit_to_height'&&m.previewPhoto.width/m.previewPhoto.height<i)return null;if((m.layout=='fit_to_width'||m.layout=='expandable')&&m.previewPhoto.height/m.previewPhoto.width<j)return null;c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').EDITOR_PHOTO_ASPECT_RATIO_WARNING).setEditorPhotoWidth(m.previewPhoto.width).setEditorPhotoHeight(m.previewPhoto.height));var n=h._("This image's height is more than 8 times larger than its width. Your image has been scaled to fit your Canvas, which may affect quality. For best results, use images with a smaller aspect ratio."),o=h._("This image's width is more than 3 times larger than its height. Your image has been scaled to fit your Canvas, which may affect quality. For best results, use images with a smaller aspect ratio.");return c('React').createElement(c('BUIAdoptionXUINoticeSmall.react'),{style:{marginBottom:'20px',marginRight:'12px'},type:'information'},m.previewPhoto.width>m.previewPhoto.height?o:n)};f.exports=k}),null);
__d('RichMediaEditorPhotoUploader.react',['ix','cx','fbt','AdsCanvasBuilderUtils','AdsCanvasEditorFeature','AdsCanvasMediaLibraryActions','AdsCanvasPhotoElement','AdsCanvasPhotoUploaderActions','AdsCanvasWebdriverIDs','AdsImageLegacy','AdsXUIProgressBar.react','BUIAdoptionButton.react','BUIAdoptionXUINoticeSmall.react','CanvasPhotoValidation','FileInput.react','Image.react','React','RichMediaEditorImageLinkUploadRequest','RichMediaEditorPhotoLibraryUploader.react','RichMediaEditorPhotoSizeWarning.react','RichMediaEditorUploadRequest','RichMediaPhotoElement','SUIButton.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=72,n=324,o=60;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(q){l.constructor.call(this,q);this.$RichMediaEditorPhotoUploader1=null;this.$RichMediaEditorPhotoUploader16=function(){c('AdsCanvasPhotoUploaderActions').handleLibraryUploaderOpen(this.props.templateID);this.setState({libraryDialogShown:true})}.bind(this);this.$RichMediaEditorPhotoUploader15=function(){c('AdsCanvasPhotoUploaderActions').handleLibraryUploaderCancel(this.props.templateID);this.setState({libraryDialogShown:false});return}.bind(this);this.$RichMediaEditorPhotoUploader17=function(r){var s=r.map(function(u){return new (c('AdsImageLegacy'))(u)});if(s.length==0)return;c('AdsCanvasPhotoUploaderActions').handleLibraryUploaderImageUpload(this.props.templateID);var t={imageLink:s[0].getUrl(),pageID:this.context.pageID,onSuccess:this.$RichMediaEditorPhotoUploader18,onError:this.$RichMediaEditorPhotoUploader5};this.$RichMediaEditorPhotoUploader2=new (c('RichMediaEditorImageLinkUploadRequest'))(t);this.$RichMediaEditorPhotoUploader2.send();this.props.onUploadStatusChanged({isUploading:true,percentage:100,error:false});this.setState({libraryDialogShown:false})}.bind(this);this.$RichMediaEditorPhotoUploader14=function(){c('AdsCanvasPhotoUploaderActions').handleManualUploaderOpen(this.props.templateID)}.bind(this);this.$RichMediaEditorPhotoUploader13=function(event){if(event.target.files.length<=0){return}else if(!c('CanvasPhotoValidation').isValidFormat(event.target.files[0].type)){this.$RichMediaEditorPhotoUploader5({});return}c('AdsCanvasPhotoUploaderActions').handleManualUploaderImageUpload();var r={fileInput:event.target,files:event.target.files,pageID:this.context.pageID,onProgress:this.$RichMediaEditorPhotoUploader19,onSuccess:this.$RichMediaEditorPhotoUploader18,onError:this.$RichMediaEditorPhotoUploader5};this.$RichMediaEditorPhotoUploader3=new (c('RichMediaEditorUploadRequest'))(r);this.$RichMediaEditorPhotoUploader3.send();event.target.value=null;this.props.onUploadStatusChanged({isUploading:true,percentage:0,error:false});this.$RichMediaEditorPhotoUploader6()}.bind(this);this.$RichMediaEditorPhotoUploader4=function(r){this.$RichMediaEditorPhotoUploader18(r);var s=r.response.payload.photo;c('AdsCanvasMediaLibraryActions').setUploadPhoto(s)}.bind(this);this.$RichMediaEditorPhotoUploader18=function(r){c('AdsCanvasPhotoUploaderActions').handleImageUploadSuccess(this.props.templateID);this.$RichMediaEditorPhotoUploader20();this.props.onUploadStatusChanged({isUploading:false,error:false});this.props.onPhotoUploaded(r.response.payload.photo)}.bind(this);this.$RichMediaEditorPhotoUploader5=function(r){c('AdsCanvasPhotoUploaderActions').handleImageUploadError(this.props.templateID);this.$RichMediaEditorPhotoUploader20();this.props.onUploadStatusChanged({isUploading:false,percentage:0,error:true})}.bind(this);this.$RichMediaEditorPhotoUploader19=function(r){if(!this.$RichMediaEditorPhotoUploader3)return;this.props.onUploadStatusChanged({isUploading:true,percentage:r,error:false})}.bind(this);this.state={libraryDialogShown:false}}p.prototype.componentWillUnmount=function(){if(this.$RichMediaEditorPhotoUploader3)this.$RichMediaEditorPhotoUploader3.abort();if(this.$RichMediaEditorPhotoUploader2)this.$RichMediaEditorPhotoUploader2.abort();};p.prototype.componentWillMount=function(){var q=this.props.photoElement;if(q&&q.photo&&q.photo.src&&!q.photo.id){var r={imageLink:q.photo.src,pageID:this.context.pageID,onSuccess:this.$RichMediaEditorPhotoUploader4,onError:this.$RichMediaEditorPhotoUploader5};this.$RichMediaEditorPhotoUploader2=new (c('RichMediaEditorImageLinkUploadRequest'))(r);this.$RichMediaEditorPhotoUploader2.send();this.props.onUploadStatusChanged({isUploading:true,percentage:100,error:false});this.$RichMediaEditorPhotoUploader6()}};p.prototype.render=function(){var q=this.props.uploadStatus&&this.props.uploadStatus.error&&c('AdsCanvasEditorFeature').photo_upload_timeout?c('React').createElement(c('BUIAdoptionXUINoticeSmall.react'),{style:{marginBottom:'20px',marginRight:'12px'},type:'information'},j._("Sorry, we couldn't upload your photo. Please try again later.")):null;return c('React').createElement('div',{className:"_3-91 _3-98"},this.$RichMediaEditorPhotoUploader7(),q,c('React').createElement('div',{className:"_e2_"},this.$RichMediaEditorPhotoUploader8(),this.$RichMediaEditorPhotoUploader9(),this.$RichMediaEditorPhotoUploader10()))};p.prototype.$RichMediaEditorPhotoUploader10=function(){if(!this.props.shouldShowRemovePhotoButton||!this.props.onRemovePhoto)return null;return c('React').createElement('div',{className:"_1_yy"},c('React').createElement(c('SUIButton.react'),{disabled:this.props.disableRemovePhotoButton,icon:this.props.disableRemovePhotoButton===true?c('React').createElement(c('Image.react'),{src:h("126888")}):c('React').createElement(c('Image.react'),{src:h("123684")}),label:j._("Delete"),labelIsHidden:true,onClick:this.props.onRemovePhoto}))};p.prototype.$RichMediaEditorPhotoUploader7=function(){if(!this.props.layout||!this.props.previewPhoto)return c('React').createElement('div',null);return c('React').createElement(c('RichMediaEditorPhotoSizeWarning.react'),{layout:this.props.layout,previewPhoto:this.props.previewPhoto})};p.prototype.$RichMediaEditorPhotoUploader8=function(){if(this.props.previewPhoto){var q=this.props.previewPhoto.height,r=this.props.previewPhoto.width,s=this.props.previewHeight?this.props.previewHeight:m,t=s/q;if(t*r>n)t=n/r;return c('React').createElement('div',{className:"_e30"},c('React').createElement(c('Image.react'),{className:"_1-89",'data-testid':c('AdsCanvasWebdriverIDs').PHOTO_UPLOADER_PREVIEW,height:q*t,src:this.props.previewPhoto.src,width:r*t}))}return c('React').createElement('div',{className:"_e31"},c('React').createElement(c('Image.react'),{className:"_e32",'data-testid':c('AdsCanvasWebdriverIDs').PHOTO_UPLOADER_PREVIEW,src:'/images/ads/rich_media/photo_placeholder.png'}))};p.prototype.$RichMediaEditorPhotoUploader9=function(){var q=this.props.uploadStatus,r=this.props.imageHelpText?c('React').createElement('div',{className:"_4ous"},this.props.imageHelpText):null;if(q&&q.isUploading){return c('React').createElement('div',{className:"_2f38"},c('React').createElement(c('AdsXUIProgressBar.react'),{className:"_2f39",'data-testid':c('AdsCanvasWebdriverIDs').PHOTO_UPLOADER_PROGRESS_BAR,max:100,min:0,striped:true,value:q.percentage}),c('React').createElement('div',{className:"_e35"},'UPLOADING'))}else{var s=this.$RichMediaEditorPhotoUploader11()||this.$RichMediaEditorPhotoUploader12();return c('React').createElement('div',{className:"_2f38"},r,s)}};p.prototype.$RichMediaEditorPhotoUploader12=function(){var q=this.props.previewPhoto?j._("Replace Photo"):j._("Upload Photo");return c('React').createElement(c('FileInput.react'),{accept:'image/*','data-testid':c('AdsCanvasWebdriverIDs').PHOTO_UPLOADER_UPLOAD_BUTTON,disabled:this.props.disabled,name:'file',onChange:this.$RichMediaEditorPhotoUploader13,onClick:this.$RichMediaEditorPhotoUploader14},c('React').createElement(c('BUIAdoptionButton.react'),{disabled:this.props.disabled,href:'#',label:q}))};p.prototype.$RichMediaEditorPhotoUploader11=function(){if(!this.props.accountID||!this.props.enablePhotoLibrary)return null;return c('React').createElement(c('RichMediaEditorPhotoLibraryUploader.react'),{accountID:this.props.accountID,disabled:this.props.disabled,previewPhoto:this.props.previewPhoto,showDialog:this.state.libraryDialogShown,onCancelPhotoLibraryUploader:this.$RichMediaEditorPhotoUploader15,onClickOpenPhotoLibrary:this.$RichMediaEditorPhotoUploader16,onSelectPhotoLibraryImage:this.$RichMediaEditorPhotoUploader17})};p.prototype.$RichMediaEditorPhotoUploader6=function(){if(!c('AdsCanvasEditorFeature').photo_upload_timeout)return;if(this.$RichMediaEditorPhotoUploader1!=null)this.$RichMediaEditorPhotoUploader20();this.$RichMediaEditorPhotoUploader1=setTimeout(function(){this.$RichMediaEditorPhotoUploader21()}.bind(this),o*1000)};p.prototype.$RichMediaEditorPhotoUploader20=function(){if(!c('AdsCanvasEditorFeature').photo_upload_timeout)return;clearTimeout(this.$RichMediaEditorPhotoUploader1)};p.prototype.$RichMediaEditorPhotoUploader21=function(){this.$RichMediaEditorPhotoUploader20();this.props.onUploadStatusChanged({isUploading:false,percentage:0,error:true});c('AdsCanvasPhotoUploaderActions').handleImageUploadTimeout(this.props.templateID)};p.contextTypes=c('AdsCanvasBuilderUtils').getContextTypes();f.exports=p}),null);
__d('RichMediaEditorPhotoUploaderContainer.react',['AdsCanvasPhotoElement','FluxContainer','React','RichMediaEditorPhotoUploader.react','richMediaEditorPhotoUploaderSelector'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').PureComponent);i=h&&h.prototype;j.getStores=function(){return c('richMediaEditorPhotoUploaderSelector').getStores()};j.calculateState=function(k,l){return c('richMediaEditorPhotoUploaderSelector')()};j.prototype.render=function(){return c('React').createElement(c('RichMediaEditorPhotoUploader.react'),{accountID:this.state.accountID,disableRemovePhotoButton:this.props.disableRemovePhotoButton,disabled:this.props.disabled,enablePhotoLibrary:this.state.isPhotoLibraryEnabled,imageHelpText:this.props.imageHelpText,layout:this.props.layout,photoElement:this.props.photoElement,previewHeight:this.props.previewHeight,previewPhoto:this.props.previewPhoto,shouldShowRemovePhotoButton:this.props.shouldShowRemovePhotoButton,templateID:this.state.templateID,uploadStatus:this.props.uploadStatus,onPhotoUploaded:this.props.onPhotoUploaded,onRemovePhoto:this.props.onRemovePhoto,onUploadStatusChanged:this.props.onUploadStatusChanged})};function j(){h.apply(this,arguments)}f.exports=c('FluxContainer').create(j,{withProps:true})}),null);
__d('RichMediaEditorVideoLibraryUploaderContainer.react',['fbt','AdsPageSelectorStore','AdsVideoActions','AdsVideoListStore','AdsVideoPicker.react','AdsVideoStore','BUIAdoptionButton.react','Event','FluxContainer','LayerFadeOnHide','React','getByPath'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$RichMediaEditorVideoLibraryUploaderContainer1=function(){if(this.state.libraryDialogShown){this.props.onLibraryClose();this.setState({libraryDialogShown:false})}c('AdsVideoActions').cancelUpload()}.bind(this),this.$RichMediaEditorVideoLibraryUploaderContainer4=function(){if(!this.state.libraryDialogShown){this.props.onLibraryOpen();this.setState({libraryDialogShown:true})}c('AdsVideoActions').openSelector}.bind(this),this.$RichMediaEditorVideoLibraryUploaderContainer3=function(q,r){this.props.onLibraryVideoImport();c('AdsVideoActions').startImport(q,r,this.props.accountID)}.bind(this),this.$RichMediaEditorVideoLibraryUploaderContainer2=function(q){var r=c('AdsVideoStore').get(q),s=c('getByPath')(r,['preferredThumbnail','uri']),t=c('getByPath')(r,['preferredThumbnail','width']),u=c('getByPath')(r,['preferredThumbnail','height']),v={width:t,height:u,uri:s,is_preferred:true},w={id:q,width:t,height:u,preferredThumbnail:v};this.props.onLibraryVideoSelectExisting(w)}.bind(this),this.$RichMediaEditorVideoLibraryUploaderContainer5=function(event){var q=event.target;if(q.value){this.props.onLibraryVideoUpload();c('AdsVideoActions').startUpload(q,this.props.accountID)}}.bind(this),m}k.getStores=function(){return [c('AdsPageSelectorStore'),c('AdsVideoListStore'),c('AdsVideoStore')]};k.calculateState=function(l,m){var n=c('AdsVideoListStore').getForAdAccountAndPage(m.accountID,c('AdsPageSelectorStore').getSelectedPageID()),o=Array.from(c('AdsVideoStore').getAll(n.list).values());return {uploadInfo:c('AdsVideoStore').getUploadInfo()||{},videoList:o,libraryDialogShown:false}};k.prototype.render=function(){if(!this.props.accountID)return null;var l=this.props.previewVideo?h._("Replace video"):h._("Upload video");return c('React').createElement(c('AdsVideoPicker.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},errorMessage:this.state.uploadInfo.errorMessage,initialSelectedVideoID:this.state.uploadInfo.initialSelectedVideoID,uploadProgress:this.state.uploadInfo.progress,uploadStatus:this.state.uploadInfo.status,uploadTitle:this.state.uploadInfo.title,videoList:this.state.videoList,onClose:this.$RichMediaEditorVideoLibraryUploaderContainer1,onDialogConfirm:this.$RichMediaEditorVideoLibraryUploaderContainer2,onDismissError:c('AdsVideoActions').cancelUpload,onImportConfirm:this.$RichMediaEditorVideoLibraryUploaderContainer3,onOpen:this.$RichMediaEditorVideoLibraryUploaderContainer4,onUploadCancel:c('AdsVideoActions').cancelUpload,onVideoClickedByUser:this.props.onLibraryVideoClick,onVideoFileChange:this.$RichMediaEditorVideoLibraryUploaderContainer5},c('React').createElement(c('BUIAdoptionButton.react'),{disabled:this.props.disabled,href:'#',label:l}))};f.exports=c('FluxContainer').create(k,{withProps:true})}),null);
__d('RichMediaEditorVideoUploader.react',['cx','fbt','ix','AdsCanvasAPISetup','AdsCanvasBuilderUtils','AdsCanvasVideoUploaderActions','AdsCanvasWebdriverIDs','AdsVideoPlayer.react','AdsXUIProgressBar.react','BackgroundImage.react','BUIAdoptionXUINoticeSmall.react','CanvasVideoUploader','ErrorDialog','FileInput.react','Image.react','React','RichMediaEditorVideoLibraryUploaderContainer.react','SUIButton.react','VideoUploadFile','VideoUploadMetadataParser'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=l.constructor).call.apply(n,[this].concat(q)),this.$RichMediaEditorVideoUploader6=function(){c('AdsCanvasVideoUploaderActions').handleLibraryUploaderCancel(this.props.templateID)}.bind(this),this.$RichMediaEditorVideoUploader7=function(){c('AdsCanvasVideoUploaderActions').handleLibraryUploaderOpen(this.props.templateID)}.bind(this),this.$RichMediaEditorVideoUploader8=function(){c('AdsCanvasVideoUploaderActions').handleLibraryUploaderVideoClick(this.props.templateID)}.bind(this),this.$RichMediaEditorVideoUploader9=function(){c('AdsCanvasVideoUploaderActions').handleLibraryUploaderVideoImport(this.props.templateID)}.bind(this),this.$RichMediaEditorVideoUploader10=function(s){c('AdsCanvasVideoUploaderActions').handleLibraryUploaderVideoSelectExisting(this.props.templateID);this.$RichMediaEditorVideoUploader12(s);this.$RichMediaEditorVideoUploader13(s)}.bind(this),this.$RichMediaEditorVideoUploader11=function(){c('AdsCanvasVideoUploaderActions').handleLibraryUploaderVideoUpload(this.props.templateID)}.bind(this),this.$RichMediaEditorVideoUploader14=function(){c('AdsCanvasVideoUploaderActions').handleManualUploaderOpen(this.props.templateID)}.bind(this),this.$RichMediaEditorVideoUploader15=function(event){if(event.target.files.length<=0)return;c('AdsCanvasVideoUploaderActions').handleManualUploaderVideoUpload(this.props.templateID);c('AdsCanvasAPISetup').setupGraph();var s=event.target,t=c('VideoUploadFile').fromFileInput(s);this.$RichMediaEditorVideoUploader1=new (c('CanvasVideoUploader'))(this.context.pageID);this.$RichMediaEditorVideoUploader1.addListener('upload-progressed',this.$RichMediaEditorVideoUploader16);this.$RichMediaEditorVideoUploader1.addListener('upload-done',this.$RichMediaEditorVideoUploader12);this.$RichMediaEditorVideoUploader1.addListener('upload-fail',this.$RichMediaEditorVideoUploader17);this.$RichMediaEditorVideoUploader1.addListener('encoding-success',this.$RichMediaEditorVideoUploader13);this.$RichMediaEditorVideoUploader1.addListener('encoding-fail',this.$RichMediaEditorVideoUploader18);if(this.props.maxLength&&this.props.minLength){this.validateAndUpload(t)}else this.$RichMediaEditorVideoUploader1.upload(t);event.target.value=null;this.props.onUploadStatusChanged({isUploading:true,isEncoding:false,percentage:0})}.bind(this),this.$RichMediaEditorVideoUploader12=function(s){this.props.onUploadStatusChanged({isUploading:false,isEncoding:true,percentage:100,error:false})}.bind(this),this.$RichMediaEditorVideoUploader17=function(s){this.props.onUploadStatusChanged({isUploading:false,isEncoding:false,error:true})}.bind(this),this.$RichMediaEditorVideoUploader18=function(s){this.props.onUploadStatusChanged({isUploading:false,isEncoding:false,error:true})}.bind(this),this.$RichMediaEditorVideoUploader16=function(s){this.props.onUploadStatusChanged({isUploading:true,percentage:s.percentage,error:false})}.bind(this),this.$RichMediaEditorVideoUploader13=function(s){this.props.onUploadStatusChanged({isUploading:false,isEncoding:false,error:false});this.props.onVideoUploaded(s)}.bind(this),o}m.prototype.componentWillUnmount=function(){if(this.$RichMediaEditorVideoUploader1)this.$RichMediaEditorVideoUploader1.abort();};m.prototype.render=function(){var n=this.props.uploadStatus&&this.props.uploadStatus.error?c('React').createElement(c('BUIAdoptionXUINoticeSmall.react'),{style:{marginBottom:'20px',marginRight:'12px'},type:'information'},i._("Sorry, we couldn't upload your video. Please try again.")):null;return c('React').createElement('div',null,n,c('React').createElement('div',{className:"_1km8"},this.$RichMediaEditorVideoUploader2(),this.$RichMediaEditorVideoUploader3()))};m.prototype.$RichMediaEditorVideoUploader2=function(){if(this.props.previewVideo){var n=this.props.previewVideo,o=n.preferredThumbnail,p=this.props.previewHeight/n.height;return c('React').createElement('div',{className:"_1km9"},c('React').createElement(c('AdsVideoPlayer.react'),{disableVideoPlay:this.props.disableVideoPlay,hideCloseButton:this.props.hideCloseButton,iconImage:this.props.iconImage,iconText:this.props.iconText,playerHeight:Math.round(n.height*p),playerWidth:Math.round(n.width*p),ref:'videoPlayer',videoID:n.id},c('React').createElement(c('BackgroundImage.react'),{backgroundSize:'contain','data-testid':c('AdsCanvasWebdriverIDs').VIDEO_COMPONENT_THUMBNAIL,height:n.height*p,src:o?o.uri:null,width:n.width*p})))}return c('React').createElement('div',{className:"_1kma"},c('React').createElement(c('Image.react'),{className:"_1kmb",'data-testid':c('AdsCanvasWebdriverIDs').VIDEO_COMPONENT_THUMBNAIL,src:this.props.iconImage?this.props.iconImage:j("23647")}))};m.prototype.$RichMediaEditorVideoUploader3=function(){var n=this.props.uploadStatus;if(n&&(n.isUploading||n.isEncoding)){var o=n.isUploading?i._("Uploading"):i._("Encoding");return c('React').createElement('div',{className:"_1kmc"},c('React').createElement(c('AdsXUIProgressBar.react'),{className:"_5_sq",'data-testid':c('AdsCanvasWebdriverIDs').VIDEO_COMPONENT_PROGRESS_BAR,max:100,min:0,striped:true,value:n.percentage}),c('React').createElement('div',{className:"_1kme"},o))}else{var p=this.$RichMediaEditorVideoUploader4()||this.$RichMediaEditorVideoUploader5();return c('React').createElement('div',{className:"_1kmc"},c('React').createElement('div',{className:"_55o0"},this.props.videoHelpText),p)}};m.prototype.$RichMediaEditorVideoUploader4=function(){if(!this.props.accountID||!this.props.enableVideoLibrary)return null;return c('React').createElement(c('RichMediaEditorVideoLibraryUploaderContainer.react'),{accountID:this.props.accountID,disabled:this.props.disabled,previewVideo:this.props.previewVideo,onLibraryClose:this.$RichMediaEditorVideoUploader6,onLibraryOpen:this.$RichMediaEditorVideoUploader7,onLibraryVideoClick:this.$RichMediaEditorVideoUploader8,onLibraryVideoImport:this.$RichMediaEditorVideoUploader9,onLibraryVideoSelectExisting:this.$RichMediaEditorVideoUploader10,onLibraryVideoUpload:this.$RichMediaEditorVideoUploader11})};m.prototype.$RichMediaEditorVideoUploader5=function(){var n=this.props.previewVideo?i._("Replace video"):i._("Upload video");return c('React').createElement(c('FileInput.react'),{accept:'video/*,video/mp4','data-testid':c('AdsCanvasWebdriverIDs').VIDEO_COMPONENT_UPLOAD_BUTTON,disabled:this.props.disabled,name:'uploadVideo',ref:'fileInputVideo',onChange:this.$RichMediaEditorVideoUploader15,onClick:this.$RichMediaEditorVideoUploader14},c('React').createElement(c('SUIButton.react'),{disabled:this.props.disabled,href:'#',label:n}))};m.prototype.validateAndUpload=function(n){var o=new (c('VideoUploadMetadataParser'))(n,function(p){if(p.format.duration>this.props.maxLength){c('ErrorDialog').show(i._("Video Duration Too Long"),i._("The duration of the video you tried to upload is too long. The maximum duration for a video is {max-length} seconds. Please upload a shorter video.",[i.param('max-length',this.props.maxLength)]));return}else if(p.format.duration<this.props.minLength){c('ErrorDialog').show(i._("Video Duration Too short"),i._("The duration of the video you tried to upload is too short. The minimum duration for a video is {min-length} seconds. Please upload a longer video.",[i.param('min-length',this.props.minLength)]));return}else this.$RichMediaEditorVideoUploader1.upload(n);}.bind(this));o.parse()};m.contextTypes=c('AdsCanvasBuilderUtils').getContextTypes();f.exports=m}),null);
__d('RichMediaEditorVideoUploaderContainer.react',['FluxContainer','React','RichMediaEditorVideoUploader.react','richMediaEditorVideoUploaderSelector'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').PureComponent);i=h&&h.prototype;j.getStores=function(){return c('richMediaEditorVideoUploaderSelector').getStores()};j.calculateState=function(){return c('richMediaEditorVideoUploaderSelector')()};j.prototype.render=function(){return c('React').createElement(c('RichMediaEditorVideoUploader.react'),{accountID:this.state.accountID,disabled:this.props.disabled,enableVideoLibrary:this.state.isVideoLibraryEnabled,hideCloseButton:this.props.hideCloseButton,iconImage:this.props.iconImage,previewHeight:this.props.previewHeight,previewVideo:this.props.previewVideo,templateID:this.state.templateID,uploadStatus:this.props.uploadStatus,videoHelpText:this.props.videoHelpText,onUploadStatusChanged:this.props.onUploadStatusChanged,onVideoUploaded:this.props.onVideoUploaded})};function j(){h.apply(this,arguments)}f.exports=c('FluxContainer').create(j,{withProps:true})}),null);
__d('AdsDraggableIndexedTabBarItem.react',['AdsTestIDs','DraggableTokenMixin.react','React','ReactComponentWithPureRenderMixin'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'AdsDraggableIndexedTabBarItem',mixins:[c('DraggableTokenMixin.react'),c('ReactComponentWithPureRenderMixin')],propTypes:{onClick:h.func.isRequired},render:function j(){return this.renderDraggableToken(c('React').createElement('div',{className:this.props.className,'data-index':this.props.index,'data-testid':c('AdsTestIDs').ADS_DRAGGABLE_INDEXED_TAB_BAR_ITEM,role:'presentation',onClick:this.props.onClick},c('React').createElement('div',null,this.props.children)))}});f.exports=i}),null);
__d('AdsDraggableIndexedTabBar.react',['ix','cx','fbt','AdsDraggableIndexedTabBarItem.react','Image.react','React','ReactDOM','XUIButton.react','debounce','fbglyph','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n=true;k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={draggingIndex:null,dragTargetIndex:null,shouldCalculateVisibleTabs:true,startTabKey:0,visibleTabsCount:0},this.componentWillReceiveProps=function(u){this.setState({shouldCalculateVisibleTabs:true,startTabKey:u.startTabKey||this.state.startTabKey})}.bind(this),this.componentDidUpdate=function(){if(this.state.shouldCalculateVisibleTabs)this.$AdsDraggableIndexedTabBar1();}.bind(this),this.$AdsDraggableIndexedTabBar2=function(event){event.preventDefault();var u=event.nativeEvent.dataTransfer;if(u)u.dropEffect='move';this.$AdsDraggableIndexedTabBar3({},this.props.itemCount-1,n)}.bind(this),this.$AdsDraggableIndexedTabBar4=function(event){this.$AdsDraggableIndexedTabBar5(null,this.props.itemCount)}.bind(this),this.$AdsDraggableIndexedTabBar6=function(u,v){if(this.props.disabled||this.props.isAutoCarousel)return;this.setState({draggingIndex:v});this.props.onItemSelected(v);var w=c('debounce')(function(){return this.setState({dragTargetIndex:v})}.bind(this));w()}.bind(this),this.$AdsDraggableIndexedTabBar7=function(u,v){if(this.props.disabled||this.props.isAutoCarousel)return;this.setState({draggingIndex:null,dragTargetIndex:null})}.bind(this),this.$AdsDraggableIndexedTabBar3=function(u,v,w){if(!this.props.disabled&&this.state.draggingIndex!==null&&this.state.dragTargetIndex!==v&&!this.props.isAutoCarousel)this.setState({dragTargetIndex:v});}.bind(this),this.$AdsDraggableIndexedTabBar5=function(u,v){if(!this.props.disabled&&this.state.draggingIndex!==null&&this.state.draggingIndex!==v&&!this.props.isAutoCarousel)this.$AdsDraggableIndexedTabBar8(this.state.draggingIndex,v);this.setState({draggingIndex:null,dragTargetIndex:null})}.bind(this),this.$AdsDraggableIndexedTabBar9=function(){this.setState({startTabKey:this.state.startTabKey-1,shouldCalculateVisibleTabs:true})}.bind(this),this.$AdsDraggableIndexedTabBar10=function(){this.setState({startTabKey:this.state.startTabKey+1,shouldCalculateVisibleTabs:true});this.$AdsDraggableIndexedTabBar1()}.bind(this),this.$AdsDraggableIndexedTabBar1=function(){var u=this.$AdsDraggableIndexedTabBar11(),v=u.length,w=[];if(!this.$AdsDraggableIndexedTabBar13)this.$AdsDraggableIndexedTabBar13=c('ReactDOM').findDOMNode(this);if(this.$AdsDraggableIndexedTabBar13){for(var x=0;x<v;x++){var y=c('ReactDOM').findDOMNode(this.refs[x]);if(y)w.push(y.offsetWidth);}var z=this.$AdsDraggableIndexedTabBar13.offsetWidth,aa=0,ba=0;for(x=0;x<w.length;x++){var ca=w[x];if(ba+ca>z)break;aa++;ba+=ca}var da=aa;if(this.state.visibleTabsCount!==da)this.setState({startTabKey:0});this.setState({visibleTabsCount:aa,shouldCalculateVisibleTabs:false})}}.bind(this),this.$AdsDraggableIndexedTabBar14=function(){var u=this.state.visibleTabsCount,v=this.$AdsDraggableIndexedTabBar11(),w=this.state.startTabKey,x=v.slice(w,w+u),y=v.slice(w+u);return {visibleTabs:x,extraTabs:y}}.bind(this),this.render=function(){var u=c('joinClasses')("_5ozg",this.props.className),v=this.$AdsDraggableIndexedTabBar11(),w=void 0,x=void 0;if(this.state.shouldCalculateVisibleTabs){x=v}else{var y=this.$AdsDraggableIndexedTabBar14();x=y.visibleTabs;w=y.extraTabs}if(this.state.startTabKey>0){var z=c('React').createElement(c('XUIButton.react'),{className:"_1jlk"+(' '+"_1jll"),image:c('React').createElement(c('Image.react'),{className:"_1jlm",src:h("112988")}),key:'_leftButton',label:j._("Left Arrow"),labelIsHidden:true,onClick:this.$AdsDraggableIndexedTabBar9,ref:'leftButton'});x.unshift(z)}if(w&&w.length){var aa=c('React').createElement(c('XUIButton.react'),{className:"_1jlk"+(' '+"_1jln"),image:c('React').createElement(c('Image.react'),{className:"_1jlm",src:h("112998")}),key:'_rightButton',label:j._("Right Arrow"),labelIsHidden:true,onClick:this.$AdsDraggableIndexedTabBar10,ref:'rightButton'});x.push(aa)}return c('React').createElement('div',{className:u,onDragOver:this.$AdsDraggableIndexedTabBar2,onDrop:this.$AdsDraggableIndexedTabBar4},x)}.bind(this),this.$AdsDraggableIndexedTabBar15=function(u){if(this.props.disabled)return;this.props.onItemSelected(u)}.bind(this),q}o.prototype.$AdsDraggableIndexedTabBar11=function(){var p=[];for(var q=0;q<this.props.itemCount;q++){var r=this.$AdsDraggableIndexedTabBar12(q);if(r)p.push(r);}return p};o.prototype.$AdsDraggableIndexedTabBar12=function(p){var q=p,r=this.props.hasStaticCard&&q>=2||!this.props.hasStaticCard&&q>=1;if(this.props.isAutoCarousel&&r)return null;if(this.state.draggingIndex!=null&&this.state.dragTargetIndex===p)p=this.state.draggingIndex;if(this.state.draggingIndex===p&&this.state.dragTargetIndex!=null)p=this.state.dragTargetIndex;var s=q===this.props.selectedItem,t=q===this.props.placeDataPosition,u=this.props.isAutoCarousel&&(this.props.hasStaticCard&&q===1||!this.props.hasStaticCard&&q===0),v=p+1;if(u){v=s?c('React').createElement(c('Image.react'),{className:"_4sjl",src:h("138215")}):c('React').createElement(c('Image.react'),{className:"_4sjm",src:h("141419")})}else if(this.props.images.length>p&&this.props.images[p])v=this.props.images[p];if(t)v=s?c('React').createElement(c('Image.react'),{className:"_4sjl",src:h("139410")}):c('React').createElement(c('Image.react'),{className:"_4sjm",src:h("142614")});var w=this.state.draggingIndex!=null,x=p>0,y=this.state.dragTargetIndex===q,z="_53th"+(x?' '+"_53tj":'')+(s&&!w?' '+"_53tk":'')+(!t&&!u&&v!==p+1?' '+"_x5b":'')+(y&&w?' '+"_45v0":''),aa=this.state.draggingIndex==null;return c('React').createElement(c('AdsDraggableIndexedTabBarItem.react'),{className:"_45hc",entry:{},index:q,isDragDropEnabled:true,key:q,ref:q,selected:p==this.props.selectedItem,onClick:function(){return this.$AdsDraggableIndexedTabBar15(p)}.bind(this),onTokenDragEnd:this.$AdsDraggableIndexedTabBar7,onTokenDragOver:this.$AdsDraggableIndexedTabBar3,onTokenDragStart:this.$AdsDraggableIndexedTabBar6,onTokenDrop:this.$AdsDraggableIndexedTabBar5},c('React').createElement('div',{className:z},v),c('React').createElement('div',{className:aa?"_1_d-":''}),c('React').createElement('div',{className:aa?"_1_d_":''}))};o.prototype.$AdsDraggableIndexedTabBar8=function(p,q){if(this.props.isAutoCarousel||this.props.disabled||p==null||q==null)return;if(q<this.props.itemCount&&q>=0)this.props.onItemReorder(p,q);};o.propTypes={disabled:m.bool,hasStaticCard:m.bool,images:m.arrayOf(m.object).isRequired,isAutoCarousel:m.bool,itemCount:m.number.isRequired,placeDataPosition:m.number,selectedItem:m.number.isRequired,onItemReorder:m.func.isRequired,onItemSelected:m.func.isRequired};o.defaultProps={disabled:false,isAutoCarousel:false,images:[]};f.exports=o}),null);
__d('AdsNumberInput.react',['cx','fbt','AdsTextInput.react','React','intlNumUtils','joinClasses','mergeDeep'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={focused:false,formatError:false},this.$AdsNumberInput1=function(){this.setState({focused:false,formatError:false})}.bind(this),this.$AdsNumberInput2=function(s){var t=this.$AdsNumberInput5(s);if(t>=0)s=s.substring(0,t);this.props.onChange(c('intlNumUtils').parseNumber(s))}.bind(this),this.$AdsNumberInput3=function(){this.setState({focused:true})}.bind(this),this.$AdsNumberInput4=function(s){var t=this.$AdsNumberInput5(s),u=t>=0;this.setState({formatError:u})}.bind(this),this.$AdsNumberInput5=function(s){return s.search(/[^0-9\,\.\ ]/)},o}m.prototype.render=function(){var n=this.props.errors||{};if(this.state.formatError)n=c('mergeDeep')(n,{NON_NUMERIC_INPUT:i._("This input can only contain numbers")});var o=this.props.value;if(o!=null)o=c('intlNumUtils').formatNumber(o);if(o&&!this.state.focused){var p=this.props.prefix||'',q=this.props.suffix||'';o=p+o+q}var r="_x62";return c('React').createElement(c('AdsTextInput.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,r),errors:n,value:o,onBlur:this.$AdsNumberInput1,onChange:this.$AdsNumberInput2,onFocus:this.$AdsNumberInput3,onImmediateChange:this.$AdsNumberInput4}))};m.propTypes={errors:l.object,prefix:l.string,suffix:l.string,value:l.number,onChange:l.func.isRequired};f.exports=m}),null);
__d('AdsProductSetFilterInputType',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({NUMERIC_TEXT_INPUT:null,STAR_RATING_INPUT:null,TOKENIZED_TEXT_INPUT:null,MIXED_INPUT:null});f.exports=h}),null);
__d('AdsProductSetFilterOperatorConfig',['fbt','AdsGenericFilterOperator','AdsGenericFilterOperatorConfig'],(function a(b,c,d,e,f,g,h){'use strict';var i=babelHelpers['extends']({},c('AdsGenericFilterOperatorConfig'),{IS_ANY_OF_THESE:{shortText:h._("="),text:h._("is any of these"),operator:c('AdsGenericFilterOperator').EQUAL},LESS_THAN:{shortText:h._("\u003C"),text:h._("is less than"),operator:c('AdsGenericFilterOperator').LESS_THAN}});f.exports=i}),null);
__d("DestinationFilterFieldsExternal",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COUNTRY:"country",CURRENCY:"currency",CUSTOM_LABEL_0:"custom_label_0",CUSTOM_LABEL_1:"custom_label_1",CUSTOM_LABEL_2:"custom_label_2",PRICE:"price",PRICE_CHANGE:"price_change"})}),null);
__d('AdsDestinationSetFilterFieldConfig',['fbt','AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilterOperator','AdsProductSetFilterInputType','AdsProductSetFilterOperatorConfig','DestinationFilterFieldsExternal'],(function a(b,c,d,e,f,g,h){'use strict';var i={};i[c('DestinationFilterFieldsExternal').COUNTRY]={text:h._("Country"),placeholder:h._("Add country"),field:new (c('AdsGenericFilterField'))(c('DestinationFilterFieldsExternal').COUNTRY,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL,c('AdsProductSetFilterOperatorConfig').CONTAIN,c('AdsProductSetFilterOperatorConfig').NOT_CONTAIN],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Country must be a string"),isDefaultFilter:true};i[c('DestinationFilterFieldsExternal').PRICE]={text:h._("Price"),field:new (c('AdsGenericFilterField'))(c('DestinationFilterFieldsExternal').PRICE,c('AdsGenericFilterFieldType').CURRENCY),inputType:c('AdsProductSetFilterInputType').NUMERIC_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').GREATER_THAN,c('AdsProductSetFilterOperatorConfig').LESS_THAN],defaultOperator:c('AdsGenericFilterOperator').GREATER_THAN,invalidMessage:h._("Price must be an integer indicating the number of cents")};f.exports=i}),null);
__d("FlightFilterFieldsExternal",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CURRENCY:"currency",DESCRIPTION:"description",DESTINATION_AIRPORT:"destination_airport",ORIGIN_AIRPORT:"origin_airport",PRICE:"price"})}),null);
__d('AdsFlightSetFilterFieldConfig',['fbt','AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilterOperator','AdsProductSetFilterInputType','AdsProductSetFilterOperatorConfig','FlightFilterFieldsExternal'],(function a(b,c,d,e,f,g,h){'use strict';var i={};i[c('FlightFilterFieldsExternal').PRICE]={text:h._("Price"),field:new (c('AdsGenericFilterField'))(c('FlightFilterFieldsExternal').PRICE,c('AdsGenericFilterFieldType').CURRENCY),inputType:c('AdsProductSetFilterInputType').NUMERIC_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').GREATER_THAN,c('AdsProductSetFilterOperatorConfig').LESS_THAN],defaultOperator:c('AdsGenericFilterOperator').GREATER_THAN,invalidMessage:h._("Price must be an integer indicating the number of cents")};i[c('FlightFilterFieldsExternal').ORIGIN_AIRPORT]={text:h._("Origin Airport"),placeholder:h._("Add origin airport"),field:new (c('AdsGenericFilterField'))(c('FlightFilterFieldsExternal').ORIGIN_AIRPORT,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Origin airport must be a string")};i[c('FlightFilterFieldsExternal').DESTINATION_AIRPORT]={text:h._("Destination Airport"),placeholder:h._("Add destination airport"),field:new (c('AdsGenericFilterField'))(c('FlightFilterFieldsExternal').DESTINATION_AIRPORT,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Destination airport must be a string"),isDefaultFilter:true};i[c('FlightFilterFieldsExternal').DESCRIPTION]={text:h._("Description"),placeholder:h._("Add description"),field:new (c('AdsGenericFilterField'))(c('FlightFilterFieldsExternal').DESCRIPTION,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL,c('AdsProductSetFilterOperatorConfig').CONTAIN,c('AdsProductSetFilterOperatorConfig').NOT_CONTAIN,c('AdsProductSetFilterOperatorConfig').STARTS_WITH],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Description must be a string")};f.exports=i}),null);
__d("HomeListingFilterFieldsExternal",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({AVAILABILITY:"availability",CITY:"city",COUNTRY:"country",CURRENCY:"currency",NAME:"name",LISTING_TYPE:"listing_type",NUM_BATHS:"num_baths",NUM_BEDS:"num_beds",NUM_UNITS:"num_units",POSTAL_CODE:"postal_code",PRICE:"price",PROPERTY_TYPE:"property_type",REGION:"region"})}),null);
__d('AdsHomeListingSetFilterFieldConfig',['fbt','AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilterOperator','AdsProductSetFilterInputType','AdsProductSetFilterOperatorConfig','HomeListingFilterFieldsExternal'],(function a(b,c,d,e,f,g,h){'use strict';var i={};i[c('HomeListingFilterFieldsExternal').CITY]={text:h._("City"),placeholder:h._("Add city"),field:new (c('AdsGenericFilterField'))(c('HomeListingFilterFieldsExternal').CITY,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("City must be a string")};i[c('HomeListingFilterFieldsExternal').COUNTRY]={text:h._("Country"),placeholder:h._("Add country"),field:new (c('AdsGenericFilterField'))(c('HomeListingFilterFieldsExternal').COUNTRY,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Country must be a string")};i[c('HomeListingFilterFieldsExternal').PRICE]={text:h._("Price"),field:new (c('AdsGenericFilterField'))(c('HomeListingFilterFieldsExternal').PRICE,c('AdsGenericFilterFieldType').CURRENCY),inputType:c('AdsProductSetFilterInputType').NUMERIC_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').GREATER_THAN,c('AdsProductSetFilterOperatorConfig').LESS_THAN],defaultOperator:c('AdsGenericFilterOperator').GREATER_THAN,invalidMessage:h._("Price must be an integer indicating the number of cents")};f.exports=i}),null);
__d("HotelFilterFieldsExternal",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BASE_PRICE_AMOUNT:"base_price_amount",BRAND:"brand",CITY:"city",COUNTRY:"country",CURRENCY:"currency",FEED_ID:"feed_id",HOTEL_ID:"hotel_id",MARGIN_LEVEL:"margin_level",NAME:"name",POSTAL_CODE:"postal_code",SALE_PRICE_AMOUNT:"sale_price_amount",STAR_RATING:"star_rating",STAR_RATING_FLOAT:"star_rating_float"})}),null);
__d('AdsHotelSetFilterFieldConfig',['fbt','AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilterOperator','AdsProductSetFilterInputType','AdsProductSetFilterOperatorConfig','HotelFilterFieldsExternal'],(function a(b,c,d,e,f,g,h){'use strict';var i={};i[c('HotelFilterFieldsExternal').BASE_PRICE_AMOUNT]={text:h._("Base Price"),field:new (c('AdsGenericFilterField'))(c('HotelFilterFieldsExternal').BASE_PRICE_AMOUNT,c('AdsGenericFilterFieldType').CURRENCY),inputType:c('AdsProductSetFilterInputType').NUMERIC_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').GREATER_THAN,c('AdsProductSetFilterOperatorConfig').LESS_THAN],defaultOperator:c('AdsGenericFilterOperator').GREATER_THAN,invalidMessage:h._("Price must be an integer indicating the number of cents")};i[c('HotelFilterFieldsExternal').BRAND]={text:h._("Brand"),placeholder:h._("Add brand"),field:new (c('AdsGenericFilterField'))(c('HotelFilterFieldsExternal').BRAND,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL,c('AdsProductSetFilterOperatorConfig').CONTAIN,c('AdsProductSetFilterOperatorConfig').NOT_CONTAIN,c('AdsProductSetFilterOperatorConfig').STARTS_WITH],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Brand must be a string")};i[c('HotelFilterFieldsExternal').CITY]={text:h._("City"),placeholder:h._("Add city"),field:new (c('AdsGenericFilterField'))(c('HotelFilterFieldsExternal').CITY,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL,c('AdsProductSetFilterOperatorConfig').CONTAIN,c('AdsProductSetFilterOperatorConfig').NOT_CONTAIN,c('AdsProductSetFilterOperatorConfig').STARTS_WITH],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("City must be a string")};i[c('HotelFilterFieldsExternal').COUNTRY]={text:h._("Country"),placeholder:h._("Add country"),field:new (c('AdsGenericFilterField'))(c('HotelFilterFieldsExternal').COUNTRY,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL,c('AdsProductSetFilterOperatorConfig').CONTAIN,c('AdsProductSetFilterOperatorConfig').NOT_CONTAIN,c('AdsProductSetFilterOperatorConfig').STARTS_WITH],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Country must be a string")};i[c('HotelFilterFieldsExternal').HOTEL_ID]={text:h._("Hotel ID"),placeholder:h._("Add hotel id"),field:new (c('AdsGenericFilterField'))(c('HotelFilterFieldsExternal').HOTEL_ID,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').EQUAL,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL,c('AdsProductSetFilterOperatorConfig').CONTAIN,c('AdsProductSetFilterOperatorConfig').NOT_CONTAIN,c('AdsProductSetFilterOperatorConfig').STARTS_WITH],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Hotel ID must be a string")};i[c('HotelFilterFieldsExternal').STAR_RATING]={text:h._("Star Rating"),field:new (c('AdsGenericFilterField'))(c('HotelFilterFieldsExternal').STAR_RATING,c('AdsGenericFilterFieldType').NUMBER),inputType:c('AdsProductSetFilterInputType').STAR_RATING_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').EQUAL,c('AdsProductSetFilterOperatorConfig').GREATER_THAN,c('AdsProductSetFilterOperatorConfig').LESS_THAN],defaultOperator:c('AdsGenericFilterOperator').GREATER_THAN,defaultValue:[3],values:[1,2,3,4,5]};f.exports=i}),null);
__d('AdsDynamicPreviewUtils',['AdsChildAttachmentsUtils','AdsDynamicPreviewItemTypes','AdsObjectStorySpecUtils','ApiAdCreativeFields','ApiAdCreativeStorySpecFields','ApiObjectStorySpecLinkFields','CatalogVertical','GraphEdgeName','getByPath'],(function a(b,c,d,e,f,g){'use strict';var h={getGraphAPIEdge:k,getPlaceID:m,getProductItemIDs:l},i=4,j=5;function k(n){switch(n){case c('CatalogVertical').FLIGHTS:return c('GraphEdgeName').FLIGHTS;case c('CatalogVertical').HOME_LISTINGS:return c('GraphEdgeName').HOME_LISTINGS;case c('CatalogVertical').HOTELS:return c('GraphEdgeName').HOTELS;case c('CatalogVertical').DESTINATIONS:return c('GraphEdgeName').DESTINATIONS;case c('CatalogVertical').VEHICLES:return c('GraphEdgeName').VEHICLES;case c('CatalogVertical').COMMERCE:default:return c('GraphEdgeName').PRODUCTS;}}function l(n,o,p,q){if(p!==c('AdsDynamicPreviewItemTypes').PRODUCT)return null;var r=n.length;if(r===0||!c('AdsObjectStorySpecUtils').isCreativeUsingObjectStorySpec(q))return null;var s=void 0,t=c('getByPath')(q,[c('ApiAdCreativeFields').OBJECT_STORY_SPEC,c('ApiAdCreativeStorySpecFields').TEMPLATE_DATA,c('ApiObjectStorySpecLinkFields').FORCE_SINGLE_LINK]);s=t?null:j;var u=c('getByPath')(q,[c('ApiAdCreativeFields').OBJECT_STORY_SPEC,c('ApiAdCreativeStorySpecFields').TEMPLATE_DATA,c('ApiObjectStorySpecLinkFields').CHILD_ATTACHMENTS]);if(c('AdsChildAttachmentsUtils').isStaticAndDynamicCarouselChildAttachments(u))s=i;if(s){var v=[];for(var w=0;w<s;w++){var x=(o+w)%r;v.push(n[x])}return v}else return [n[o]];}function m(n,o,p){if(p!==c('AdsDynamicPreviewItemTypes').LOCATION)return null;return n[o]}f.exports=h}),null);
__d("AdsWCAOperators",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({AND:"and",OR:"or",CONTAINS:"contains",EQ:"eq",GT:"gt",GTE:"gte",I_CONTAINS:"i_contains",I_IS_ANY:"i_is_any",I_IS_NOT_ANY:"i_is_not_any",I_NOT_CONTAINS:"i_not_contains",I_STARTS_WITH:"i_starts_with",IS_ANY:"is_any",IS_NOT_ANY:"is_not_any",LT:"lt",LTE:"lte",NEQ:"neq",NOT_CONTAINS:"not_contains",STARTS_WITH:"starts_with"})}),null);
__d("ProductItemFilterFieldsExternal",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({AGE_GROUP:"age_group",AVAILABILITY:"availability",BRAND:"brand",CATEGORY:"category",COLOR:"color",CONDITION:"condition",CURRENCY:"currency",CUSTOM_LABEL_0:"custom_label_0",CUSTOM_LABEL_1:"custom_label_1",CUSTOM_LABEL_2:"custom_label_2",CUSTOM_LABEL_3:"custom_label_3",CUSTOM_LABEL_4:"custom_label_4",GENDER:"gender",MATERIAL:"material",NAME:"name",PATTERN:"pattern",PRICE_AMOUNT:"price_amount",PRODUCT_EXPIRATION_TIME:"product_expiration_time",PRODUCT_FEED_ID:"product_feed_id",PRODUCT_ITEM_ID:"product_item_id",PRODUCT_GROUP_ID:"product_group_id",PRODUCT_TYPE:"product_type",RETAILER_ID:"retailer_id",RETAILER_PRODUCT_GROUP_ID:"retailer_product_group_id",REVIEW_STATUS:"review_status",SALE_PRICE_AMOUNT:"sale_price_amount",SIZE:"size"})}),null);
__d('AdsProductItemPropertySearchSource',['AbstractSearchSource','AdsDynamicPreviewUtils','AdsGraphAPI','AdsWCAOperators','CatalogVertical','DestinationFilterFieldsExternal','DestinationGraphApiFields','HomeListingFilterFieldsExternal','HomeListingGraphApiFields','HotelFilterFieldsExternal','HotelGraphApiFields','Map','ProductItemFilterFieldsExternal','ProductItemGraphApiFields','ProductsConfig','SearchableEntry','SearchSourceQueryStatus','TokenizeUtil','idx'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=new (c('Map'))();function k(m,n){var o=m.getOrder(),p=n.getOrder();if(o===p)return m.getTitle()>n.getTitle()?1:-1;return o>p?1:-1}h=babelHelpers.inherits(l,c('AbstractSearchSource'));i=h&&h.prototype;l.getInstance=function(m,n,o,p,q){var r=l.getInstanceID(m,n,o,p,q);if(!j.has(r))j.set(r,new l(m,n,o,p,q));return j.get(r)};l.getInstanceID=function(m,n,o,p,q){var r=m+'_'+n+'_'+p;if(o)r+='_includeQueryString';if(q)r+='_'+q;return r};function l(m,n,o,p,q){i.constructor.call(this);this.$AdsProductItemPropertySearchSource2=new (c('Map'))();this.productCatalogID=m;this.property=n;this.includeQueryString=o;this.vertical=p;this.wcaOperator=q;this.$AdsProductItemPropertySearchSource1=new (c('Map'))()}l.prototype.bootstrapImpl=function(m){this.search('',m)};l.prototype.searchImpl=function(m,n,o){var p,q=this;if(this.$AdsProductItemPropertySearchSource1.has(m)){n(this.$AdsProductItemPropertySearchSource1.get(m),m,c('SearchSourceQueryStatus').COMPLETE);return}n([],m,c('SearchSourceQueryStatus').ACTIVE);var r=this.$AdsProductItemPropertySearchSource2.get(m)||[];r.push(n);this.$AdsProductItemPropertySearchSource2.set(m,r);if(r.length>1)return;var s=function(v){var w=[];if(this.includeQueryString){var x={};x.id=m;x[this.property]=m;v.push(x)}var y={};for(var z=0;z<v.length;z++){var aa=this.$AdsProductItemPropertySearchSource3(v[z]);if(!aa||y[aa])continue;var ba=new (c('SearchableEntry'))({uniqueID:aa,title:aa,order:this.$AdsProductItemPropertySearchSource4(m,aa),auxiliaryData:v[z]});w.push(ba);y[aa]=true}w.sort(k);var ca=this.$AdsProductItemPropertySearchSource2.get(m)||[];this.$AdsProductItemPropertySearchSource2.set(m,[]);ca.forEach(function(da){return da(w,m,c('SearchSourceQueryStatus').COMPLETE)});this.$AdsProductItemPropertySearchSource1.set(m,w)}.bind(this),t=this.$AdsProductItemPropertySearchSource5(m),u=this.$AdsProductItemPropertySearchSource6();if(u.length===1&&u[0]===this.property){(function(){var v=u[0];c('AdsGraphAPI').get(f.id).object('product_catalog_id',q.productCatalogID).edge('facets').get({filter:t,facets:{facet:{type:'terms',field:v}}}).done(function(w){var x,y=(((x=w)!=null?(x=x.data)!=null?(x=x[0])!=null?(x=x.facets)!=null?(x=x[0])!=null?x.value:x:x:x:x:x)||[]).map(function(z){var aa;return aa={id:z.key},aa[v]=z.key,aa});s(y)},function(w){this.$AdsProductItemPropertySearchSource2.set(m,[])}.bind(q))})()}else c('AdsGraphAPI').get(f.id).object('product_catalog_id',this.productCatalogID).edge(c('AdsDynamicPreviewUtils').getGraphAPIEdge(this.vertical)).batched().get({fields:u,filter:t}).done(function(v){s(v.data||[])},function(v){this.wcaOperator=c('AdsWCAOperators').STARTS_WITH;c('AdsGraphAPI').get(f.id).object('product_catalog_id',this.productCatalogID).edge(c('AdsDynamicPreviewUtils').getGraphAPIEdge(this.vertical)).batched().get({fields:u,filter:this.$AdsProductItemPropertySearchSource5(m)}).done(function(w){s(w.data||[])},function(w){this.$AdsProductItemPropertySearchSource2.set(m,[])}.bind(this))}.bind(this));};l.prototype.$AdsProductItemPropertySearchSource4=function(m,n){var o=n.toLowerCase().indexOf(m.toLowerCase());if(o<0)return -1;if(c('TokenizeUtil').isExactMatch(m,n)&&o===0){return 1}else if(c('TokenizeUtil').isExactMatch(m,n)){return 2}else if(o===0){return 3}else if(c('TokenizeUtil').isQueryMatch(m,n))return 4;return 5};l.prototype.$AdsProductItemPropertySearchSource5=function(m){var n,o=this.wcaOperator||c('AdsWCAOperators').I_CONTAINS;if(c('ProductsConfig').gk.product_set_products_filter&&this.property===c('ProductItemFilterFieldsExternal').RETAILER_ID){var p,q=[c('ProductItemFilterFieldsExternal').BRAND,c('ProductItemFilterFieldsExternal').RETAILER_ID,c('ProductItemFilterFieldsExternal').NAME];return p={},p[c('AdsWCAOperators').OR]=q.map(function(s){var t,u;return u={},u[s]=(t={},t[o]=m,t),u}),p}var r={};r[this.property]=(n={},n[o]=m,n);return r};l.prototype.$AdsProductItemPropertySearchSource6=function(){if(this.property===c('ProductItemFilterFieldsExternal').RETAILER_ID)return [c('ProductItemGraphApiFields').IMAGE_URL,c('ProductItemGraphApiFields').PRICE,c('ProductItemGraphApiFields').RETAILER_ID,c('ProductItemGraphApiFields').NAME];if(this.$AdsProductItemPropertySearchSource7())return [c('HomeListingGraphApiFields').ADDRESS];if(this.$AdsProductItemPropertySearchSource8())return [c('HotelGraphApiFields').ADDRESS];if(this.$AdsProductItemPropertySearchSource9())return [c('DestinationGraphApiFields').ADDRESS];return [this.property]};l.prototype.$AdsProductItemPropertySearchSource3=function(m){if(this.$AdsProductItemPropertySearchSource7()||this.$AdsProductItemPropertySearchSource8()||this.$AdsProductItemPropertySearchSource9()){var n=typeof m.address==='string'?JSON.parse(m.address):m.address;return n[this.property]}return m[this.property]};l.prototype.$AdsProductItemPropertySearchSource7=function(){return this.vertical===c('CatalogVertical').HOME_LISTINGS&&(this.property===c('HomeListingFilterFieldsExternal').CITY||this.property===c('HomeListingFilterFieldsExternal').COUNTRY)};l.prototype.$AdsProductItemPropertySearchSource8=function(){return this.vertical===c('CatalogVertical').HOTELS&&(this.property===c('HotelFilterFieldsExternal').CITY||this.property===c('HotelFilterFieldsExternal').COUNTRY)};l.prototype.$AdsProductItemPropertySearchSource9=function(){return this.vertical===c('CatalogVertical').DESTINATIONS&&this.property===c('DestinationFilterFieldsExternal').COUNTRY};f.exports=l}),null);
__d("ProductAgeGroup",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADULT:"adult",INFANT:"infant",KIDS:"kids",NEWBORN:"newborn",TODDLER:"toddler",UNKNOWN:""})}),null);
__d("ProductCondition",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PC_NEW:"new",PC_REFURBISHED:"refurbished",PC_USED:"used",UNKNOWN:""})}),null);
__d("ProductGender",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FEMALE:"female",MALE:"male",UNISEX:"unisex",UNKNOWN:""})}),null);
__d('AdsProductSetFilterFieldConfig',['fbt','AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilterOperator','AdsPECustomLabelsConfig','AdsProductSetFilterInputType','AdsProductSetFilterOperatorConfig','ProductAgeGroup','ProductCondition','ProductGender','ProductItemAvailabilities','ProductItemFilterFieldsExternal','ProductsConfig','intlList'],(function a(b,c,d,e,f,g,h){'use strict';var i={};i[c('ProductItemFilterFieldsExternal').SIZE]={text:h._("Size"),placeholder:h._("Add size"),field:new (c('AdsGenericFilterField'))(c('ProductItemFilterFieldsExternal').SIZE,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').EQUAL,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL,c('AdsProductSetFilterOperatorConfig').CONTAIN,c('AdsProductSetFilterOperatorConfig').NOT_CONTAIN,c('AdsProductSetFilterOperatorConfig').STARTS_WITH],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Size must be a string")};i[c('ProductItemFilterFieldsExternal').COLOR]={text:h._("Color"),placeholder:h._("Add color"),field:new (c('AdsGenericFilterField'))(c('ProductItemFilterFieldsExternal').COLOR,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').EQUAL,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL,c('AdsProductSetFilterOperatorConfig').CONTAIN,c('AdsProductSetFilterOperatorConfig').NOT_CONTAIN,c('AdsProductSetFilterOperatorConfig').STARTS_WITH],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Color must be a string")};i[c('ProductItemFilterFieldsExternal').MATERIAL]={text:h._("Material"),placeholder:h._("Add material"),field:new (c('AdsGenericFilterField'))(c('ProductItemFilterFieldsExternal').MATERIAL,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').EQUAL,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL,c('AdsProductSetFilterOperatorConfig').CONTAIN,c('AdsProductSetFilterOperatorConfig').NOT_CONTAIN,c('AdsProductSetFilterOperatorConfig').STARTS_WITH],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Material must be a string")};i[c('ProductItemFilterFieldsExternal').PATTERN]={text:h._("Pattern"),placeholder:h._("Add pattern"),field:new (c('AdsGenericFilterField'))(c('ProductItemFilterFieldsExternal').PATTERN,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').EQUAL,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL,c('AdsProductSetFilterOperatorConfig').CONTAIN,c('AdsProductSetFilterOperatorConfig').NOT_CONTAIN,c('AdsProductSetFilterOperatorConfig').STARTS_WITH],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Pattern must be a string")};i[c('ProductItemFilterFieldsExternal').CONDITION]={text:h._("Condition"),placeholder:h._("Add condition"),field:new (c('AdsGenericFilterField'))(c('ProductItemFilterFieldsExternal').CONDITION,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').EQUAL,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Condition must be one of: {field list}",[h.param('field list',c('intlList')(Object.keys(c('ProductCondition')).map(function(m){return "'"+c('ProductCondition')[m]+"'"}),c('intlList').CONJUNCTIONS.OR))])};i[c('ProductItemFilterFieldsExternal').AGE_GROUP]={text:h._("Age group"),placeholder:h._("Add age group"),field:new (c('AdsGenericFilterField'))(c('ProductItemFilterFieldsExternal').AGE_GROUP,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').EQUAL,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Age group must be one of: {field list}",[h.param('field list',c('intlList')(Object.keys(c('ProductAgeGroup')).map(function(m){return "'"+c('ProductAgeGroup')[m]+"'"}),c('intlList').CONJUNCTIONS.OR))])};i[c('ProductItemFilterFieldsExternal').GENDER]={text:h._("Gender"),placeholder:h._("Add gender"),field:new (c('AdsGenericFilterField'))(c('ProductItemFilterFieldsExternal').GENDER,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').EQUAL,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Gender must be one of: {field list}",[h.param('field list',c('intlList')(Object.keys(c('ProductGender')).map(function(m){return "'"+c('ProductGender')[m]+"'"}),c('intlList').CONJUNCTIONS.OR))])};i[c('ProductItemFilterFieldsExternal').AVAILABILITY]={text:h._("Availability"),placeholder:h._("Add availability"),field:new (c('AdsGenericFilterField'))(c('ProductItemFilterFieldsExternal').AVAILABILITY,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').EQUAL,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Availability must be one of: {field list}",[h.param('field list',c('intlList')(Object.keys(c('ProductItemAvailabilities')).map(function(m){return "'"+c('ProductItemAvailabilities')[m]+"'"}),c('intlList').CONJUNCTIONS.OR))])};i[c('ProductItemFilterFieldsExternal').BRAND]={text:h._("Brand"),placeholder:h._("Add brand"),field:new (c('AdsGenericFilterField'))(c('ProductItemFilterFieldsExternal').BRAND,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL,c('AdsProductSetFilterOperatorConfig').CONTAIN,c('AdsProductSetFilterOperatorConfig').NOT_CONTAIN,c('AdsProductSetFilterOperatorConfig').STARTS_WITH],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Brand must be a string")};i[c('ProductItemFilterFieldsExternal').CATEGORY]={text:h._("Category"),placeholder:h._("Enter a category"),field:new (c('AdsGenericFilterField'))(c('ProductItemFilterFieldsExternal').CATEGORY,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL,c('AdsProductSetFilterOperatorConfig').CONTAIN,c('AdsProductSetFilterOperatorConfig').NOT_CONTAIN,c('AdsProductSetFilterOperatorConfig').STARTS_WITH],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Category must be a string")};function j(m,n){return {text:h._("Custom Label {index}",[h.param('index',m)]),placeholder:h._({"*":"Enter Custom Label {index}'s value"},[h.param('index',m,[0])]),field:new (c('AdsGenericFilterField'))(n,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').MIXED_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL,c('AdsProductSetFilterOperatorConfig').CONTAIN,c('AdsProductSetFilterOperatorConfig').NOT_CONTAIN,c('AdsProductSetFilterOperatorConfig').STARTS_WITH,c('AdsProductSetFilterOperatorConfig').GREATER_THAN,c('AdsProductSetFilterOperatorConfig').LESS_THAN],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._({"*":"Custom Label {index} must be a string"},[h.param('index',m,[0])])}}if(c('AdsPECustomLabelsConfig').ads_pe_custom_labels_in_dpa_template_ui){var k=[c('ProductItemFilterFieldsExternal').CUSTOM_LABEL_0,c('ProductItemFilterFieldsExternal').CUSTOM_LABEL_1,c('ProductItemFilterFieldsExternal').CUSTOM_LABEL_2,c('ProductItemFilterFieldsExternal').CUSTOM_LABEL_3,c('ProductItemFilterFieldsExternal').CUSTOM_LABEL_4];for(var l=0;l<k.length;l++)i[k[l]]=j(l,k[l]);}i[c('ProductItemFilterFieldsExternal').PRODUCT_TYPE]={text:h._("Product Type"),placeholder:h._("Enter a product type"),field:new (c('AdsGenericFilterField'))(c('ProductItemFilterFieldsExternal').PRODUCT_TYPE,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL,c('AdsProductSetFilterOperatorConfig').CONTAIN,c('AdsProductSetFilterOperatorConfig').NOT_CONTAIN,c('AdsProductSetFilterOperatorConfig').STARTS_WITH],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Product type must be a string")};i[c('ProductItemFilterFieldsExternal').PRICE_AMOUNT]={text:h._("Price"),placeholder:h._("Add value in cents"),field:new (c('AdsGenericFilterField'))(c('ProductItemFilterFieldsExternal').PRICE_AMOUNT,c('AdsGenericFilterFieldType').CURRENCY),inputType:c('AdsProductSetFilterInputType').NUMERIC_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').GREATER_THAN,c('AdsProductSetFilterOperatorConfig').LESS_THAN],defaultOperator:c('AdsGenericFilterOperator').GREATER_THAN,invalidMessage:h._("Price must be an integer indicating the number of cents")};i[c('ProductItemFilterFieldsExternal').RETAILER_ID]={text:c('ProductsConfig').gk.product_set_products_filter?h._("Product"):h._("Retailer ID"),placeholder:c('ProductsConfig').gk.product_set_products_filter?h._("Search by Title, ID, Brand"):h._("Add Retailer ID"),field:new (c('AdsGenericFilterField'))(c('ProductItemFilterFieldsExternal').RETAILER_ID,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Invalid product")};i[c('ProductItemFilterFieldsExternal').RETAILER_PRODUCT_GROUP_ID]={text:h._("Retailer Product Group ID"),placeholder:h._("Add Retailer Product Group ID"),field:new (c('AdsGenericFilterField'))(c('ProductItemFilterFieldsExternal').RETAILER_PRODUCT_GROUP_ID,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL,c('AdsProductSetFilterOperatorConfig').CONTAIN,c('AdsProductSetFilterOperatorConfig').NOT_CONTAIN,c('AdsProductSetFilterOperatorConfig').STARTS_WITH],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Retailer Product Group ID must be a string")};i[c('ProductItemFilterFieldsExternal').SALE_PRICE_AMOUNT]={text:h._("Current Price"),placeholder:h._("Add value in cents"),field:new (c('AdsGenericFilterField'))(c('ProductItemFilterFieldsExternal').SALE_PRICE_AMOUNT,c('AdsGenericFilterFieldType').CURRENCY),inputType:c('AdsProductSetFilterInputType').NUMERIC_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').GREATER_THAN,c('AdsProductSetFilterOperatorConfig').LESS_THAN],defaultOperator:c('AdsGenericFilterOperator').GREATER_THAN,invalidMessage:h._("Price must be an integer indicating the number of cents")};f.exports=i}),null);
__d("VehicleBodyStyle",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CONVERTIBLE:"CONVERTIBLE",COUPE:"COUPE",CROSSOVER:"CROSSOVER",HATCHBACK:"HATCHBACK",MINIVAN:"MINIVAN",TRUCK:"TRUCK",SUV:"SUV",SEDAN:"SEDAN",VAN:"VAN",WAGON:"WAGON",OTHER:"OTHER"})}),null);
__d("VehicleCondition",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EXCELLENT:"EXCELLENT",GOOD:"GOOD",FAIR:"FAIR",POOR:"POOR",OTHER:"OTHER"})}),null);
__d("VehicleDrivetrain",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({TWO_WD:"4X2",FOUR_WD:"4X4",AWD:"AWD",FWD:"FWD",RWD:"RWD",OTHER:"Other"})}),null);
__d("VehicleFilterFieldsExternal",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({AVAILABILITY:"availability",BODY_STYLE:"body_style",CONDITION:"condition",CURRENCY:"currency",DRIVETRAIN:"drivetrain",EXTERIOR_COLOR:"exterior_color",FUEL_TYPE:"fuel_type",INTERIOR_COLOR:"interior_color",MILEAGE_VALUE:"mileage_value",MILEAGE_UNIT:"mileage_unit",PRICE:"price",RETAILER_ID:"retailer_id",SALE_PRICE:"sale_price",STATE_OF_VEHICLE:"state_of_vehicle",TITLE:"title",TRANSMISSION:"transmission"})}),null);
__d("VehicleFuelType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DIESEL:"DIESEL",ELECTRIC:"ELECTRIC",GASOLINE:"GASOLINE",FLEX:"FLEX",HYBRID:"HYBRID",OTHER:"OTHER"})}),null);
__d("VehicleState",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NEW:"NEW",USED:"USED",CPO:"CPO"})}),null);
__d("VehicleTransmission",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({AUTOMATIC:"AUTOMATIC",MANUAL:"MANUAL"})}),null);
__d('AdsVehicleSetFilterFieldConfig',['fbt','AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilterOperator','AdsProductSetFilterInputType','AdsProductSetFilterOperatorConfig','VehicleBodyStyle','VehicleCondition','VehicleDrivetrain','VehicleFilterFieldsExternal','VehicleFuelType','VehicleState','VehicleTransmission','intlList'],(function a(b,c,d,e,f,g,h){'use strict';var i={};i[c('VehicleFilterFieldsExternal').BODY_STYLE]={text:h._("Body style"),placeholder:h._("Add body style"),field:new (c('AdsGenericFilterField'))(c('VehicleFilterFieldsExternal').BODY_STYLE,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Body style must be one of: {field list}",[h.param('field list',c('intlList')(Object.keys(c('VehicleBodyStyle')).map(function(j){return "'"+c('VehicleBodyStyle')[j]+"'"}),c('intlList').CONJUNCTIONS.OR))])};i[c('VehicleFilterFieldsExternal').CONDITION]={text:h._("Condition"),placeholder:h._("Add condition"),field:new (c('AdsGenericFilterField'))(c('VehicleFilterFieldsExternal').CONDITION,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Condition must be one of: {field list}",[h.param('field list',c('intlList')(Object.keys(c('VehicleCondition')).map(function(j){return "'"+c('VehicleCondition')[j]+"'"}),c('intlList').CONJUNCTIONS.OR))])};i[c('VehicleFilterFieldsExternal').DRIVETRAIN]={text:h._("Drivetrain"),placeholder:h._("Add drivetrain"),field:new (c('AdsGenericFilterField'))(c('VehicleFilterFieldsExternal').DRIVETRAIN,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Drivetrain must be one of: {field list}",[h.param('field list',c('intlList')(Object.keys(c('VehicleDrivetrain')).map(function(j){return "'"+c('VehicleDrivetrain')[j]+"'"}),c('intlList').CONJUNCTIONS.OR))])};i[c('VehicleFilterFieldsExternal').EXTERIOR_COLOR]={text:h._("Exterior color"),placeholder:h._("Add exterior color"),field:new (c('AdsGenericFilterField'))(c('VehicleFilterFieldsExternal').EXTERIOR_COLOR,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL,c('AdsProductSetFilterOperatorConfig').CONTAIN,c('AdsProductSetFilterOperatorConfig').NOT_CONTAIN,c('AdsProductSetFilterOperatorConfig').STARTS_WITH],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Exterior color must be a string")};i[c('VehicleFilterFieldsExternal').FUEL_TYPE]={text:h._("Fuel type"),placeholder:h._("Add fuel type"),field:new (c('AdsGenericFilterField'))(c('VehicleFilterFieldsExternal').FUEL_TYPE,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Fuel type must be one of: {field list}",[h.param('field list',c('intlList')(Object.keys(c('VehicleFuelType')).map(function(j){return "'"+c('VehicleFuelType')[j]+"'"}),c('intlList').CONJUNCTIONS.OR))])};i[c('VehicleFilterFieldsExternal').INTERIOR_COLOR]={text:h._("Interior color"),placeholder:h._("Add interior color"),field:new (c('AdsGenericFilterField'))(c('VehicleFilterFieldsExternal').INTERIOR_COLOR,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL,c('AdsProductSetFilterOperatorConfig').CONTAIN,c('AdsProductSetFilterOperatorConfig').NOT_CONTAIN,c('AdsProductSetFilterOperatorConfig').STARTS_WITH],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Interior color must be a string")};i[c('VehicleFilterFieldsExternal').PRICE]={text:h._("Price"),field:new (c('AdsGenericFilterField'))(c('VehicleFilterFieldsExternal').PRICE,c('AdsGenericFilterFieldType').CURRENCY),inputType:c('AdsProductSetFilterInputType').NUMERIC_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').GREATER_THAN,c('AdsProductSetFilterOperatorConfig').LESS_THAN],defaultOperator:c('AdsGenericFilterOperator').GREATER_THAN,invalidMessage:h._("Price must be an integer indicating the number of cents")};i[c('VehicleFilterFieldsExternal').SALE_PRICE]={text:h._("Sale Price"),field:new (c('AdsGenericFilterField'))(c('VehicleFilterFieldsExternal').SALE_PRICE,c('AdsGenericFilterFieldType').CURRENCY),inputType:c('AdsProductSetFilterInputType').NUMERIC_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').GREATER_THAN,c('AdsProductSetFilterOperatorConfig').LESS_THAN],defaultOperator:c('AdsGenericFilterOperator').GREATER_THAN,invalidMessage:h._("Sale price must be an integer indicating the number of cents")};i[c('VehicleFilterFieldsExternal').STATE_OF_VEHICLE]={text:h._("State of Vehicle"),placeholder:h._("Add state of vehicle"),field:new (c('AdsGenericFilterField'))(c('VehicleFilterFieldsExternal').STATE_OF_VEHICLE,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("State of Vehicle must be one of: {field list}",[h.param('field list',c('intlList')(Object.keys(c('VehicleState')).map(function(j){return "'"+c('VehicleState')[j]+"'"}),c('intlList').CONJUNCTIONS.OR))])};i[c('VehicleFilterFieldsExternal').TRANSMISSION]={text:h._("Transmission"),placeholder:h._("Add transmission"),field:new (c('AdsGenericFilterField'))(c('VehicleFilterFieldsExternal').TRANSMISSION,c('AdsGenericFilterFieldType').STRING),inputType:c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT,operators:[c('AdsProductSetFilterOperatorConfig').IS_ANY_OF_THESE,c('AdsProductSetFilterOperatorConfig').NOT_EQUAL],defaultOperator:c('AdsGenericFilterOperator').EQUAL,invalidMessage:h._("Transmission must be one of: {field list}",[h.param('field list',c('intlList')(Object.keys(c('VehicleTransmission')).map(function(j){return "'"+c('VehicleTransmission')[j]+"'"}),c('intlList').CONJUNCTIONS.OR))])};f.exports=i}),null);
__d("ProductReviewStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NO_REVIEW:"",PENDING:"pending",REJECTED:"rejected",APPROVED:"approved",OUTDATED:"outdated"})}),null);
__d('AdsProductSetUtils',['invariant','AbstractSearchSource','AdsDestinationSetFilterFieldConfig','AdsFlightSetFilterFieldConfig','AdsGenericFilterFieldType','AdsGenericFilterOperator','AdsHomeListingSetFilterFieldConfig','AdsHotelSetFilterFieldConfig','AdsProductItemPropertySearchSource','AdsProductSetFilterFieldConfig','AdsProductSetFilterInputType','AdsVehicleSetFilterFieldConfig','AdsWCAOperators','CatalogVertical','DestinationFilterFieldsExternal','FlightFilterFieldsExternal','HomeListingFilterFieldsExternal','HotelFilterFieldsExternal','ProductAgeGroup','ProductCatalogField','ProductCondition','ProductGender','ProductItemAvailabilities','ProductItemFilterFieldsExternal','ProductReviewStatus','ProductsConfig','ProductSetField','RegexMatchSearchSource','SearchableEntry','StaticSearchSource','VehicleBodyStyle','VehicleCondition','VehicleDrivetrain','VehicleFilterFieldsExternal','VehicleFuelType','VehicleState','VehicleTransmission','getByPath'],(function a(b,c,d,e,f,g,h){'use strict';var i;function j(z){return new (c('StaticSearchSource'))(Object.keys(z).filter(function(aa){return z[aa]}).map(function(aa){return new (c('SearchableEntry'))({uniqueID:z[aa],title:z[aa]})}))}var k=j(c('ProductItemAvailabilities')),l=j(c('VehicleBodyStyle')),m=j(c('VehicleCondition')),n=j(c('VehicleDrivetrain')),o=j(c('VehicleFuelType')),p=j(c('VehicleState')),q=j(c('VehicleTransmission')),r=j(c('ProductGender')),s=j(c('ProductCondition')),t=j(c('ProductAgeGroup')),u=j(c('ProductReviewStatus')),v=new (c('RegexMatchSearchSource'))('[0-9]+'),w=new (c('RegexMatchSearchSource'))('.+'),x=(i={},i[c('AdsGenericFilterOperator').CONTAIN]=c('AdsWCAOperators').I_CONTAINS,i[c('AdsGenericFilterOperator').NOT_CONTAIN]=c('AdsWCAOperators').I_NOT_CONTAINS,i[c('AdsGenericFilterOperator').EQUAL]=c('AdsWCAOperators').EQ,i[c('AdsGenericFilterOperator').NOT_EQUAL]=c('AdsWCAOperators').NEQ,i[c('AdsGenericFilterOperator').GREATER_THAN]=c('AdsWCAOperators').GT,i[c('AdsGenericFilterOperator').LESS_THAN]=c('AdsWCAOperators').LT,i[c('AdsGenericFilterOperator').STARTS_WITH]=c('AdsWCAOperators').I_STARTS_WITH,i[c('AdsGenericFilterOperator').ANY]=c('AdsWCAOperators').IS_ANY,i),y={getFiltersForAPI:function z(aa,ba,ca){var da=y.getConfig(ba),ea=[],fa=false;aa.slice().forEach(function(ga){if(ga.value.length===0)return;var ha=da[ga.property].field.type===c('AdsGenericFilterFieldType').CURRENCY;if(ha)fa=true;ea.push(babelHelpers['extends']({},ga,{isPriceFilter:ha,value:ga.value.map(function(ia){return y.isTokenizable(ga,ba)?ia.getTitle():ia})}))});if(fa)ea.push({property:c('ProductItemFilterFieldsExternal').CURRENCY,operator:c('AdsGenericFilterOperator').EQUAL,value:[ca],plainText:'',error:null});return ea},convertFiltersForUI:function z(aa,ba){var ca=y.getConfig(ba);return aa.map(function(da){return babelHelpers['extends']({},da,{value:(da.value||[]).map(function(ea){return y.isTokenizable(da,ba)?new (c('SearchableEntry'))({uniqueID:ea,title:ea}):ea})})})},getProductSetDataSpec:function z(aa,ba){var ca=arguments.length<=2||arguments[2]===undefined?c('AdsWCAOperators').AND:arguments[2],da=this.convertFilterFromUISpecToAPISpec(ba,ca);return babelHelpers['extends']({},da,{name:aa})},getApiOperator:function z(aa){var ba=x[aa];if(!ba)return h(false,'Unknown operator %s',ba);return ba},getUiOperator:function z(aa){var ba=Object.keys(x).reduce(function(da,ea){da[x[ea]]=ea;switch(x[ea]){case c('AdsWCAOperators').I_NOT_CONTAINS:da[c('AdsWCAOperators').NOT_CONTAINS]=ea;break;case c('AdsWCAOperators').I_CONTAINS:da[c('AdsWCAOperators').CONTAINS]=ea;break;case c('AdsWCAOperators').IS_ANY:da[c('AdsWCAOperators').I_IS_ANY]=ea;break;case c('AdsWCAOperators').I_STARTS_WITH:da[c('AdsWCAOperators').STARTS_WITH]=ea;break;}return da},{}),ca=ba[aa];if(!ca)return h(false,'Unknown operator %s',ca);return ca},getLogicOperator:function z(aa){switch(aa){case c('AdsGenericFilterOperator').NOT_CONTAIN:case c('AdsGenericFilterOperator').NOT_EQUAL:return c('AdsWCAOperators').AND;default:return c('AdsWCAOperators').OR;}},convertFilterFromUISpecToAPISpec:function z(aa){var ba=arguments.length<=1||arguments[1]===undefined?c('AdsWCAOperators').AND:arguments[1],ca=aa.find(function(fa){return fa.property===c('ProductItemFilterFieldsExternal').CURRENCY})||{},da=aa.map(function(fa){var ga,ha=fa.value.map(function(na){var oa={},pa=this.getApiOperator(fa.operator);oa[pa]=na;var qa={};qa[fa.property]=oa;return qa}.bind(this)),ia=this.getLogicOperator(fa.operator);if(ba===c('AdsWCAOperators').OR){if(fa.property===c('ProductItemFilterFieldsExternal').CURRENCY)return undefined;if(fa.isPriceFilter){var ja,ka,la,ma;return ma={},ma[c('AdsWCAOperators').AND]=[(ja={},ja[ia]=ha,ja),(la={},la[ca.property]=(ka={},ka[this.getApiOperator(ca.operator)]=ca.value[0],ka),la)],ma}}return ga={},ga[ia]=ha,ga}.bind(this)).filter(function(fa){return fa!==undefined}),ea={filter:{}};if(da.length!==0)ea.filter[ba]=da;return ea},convertFilterFromAPISpecToUISpec:function z(aa,ba,ca){var da=ca||'USD',ea=this._tryParseJson(aa);if(!ea)return {filters:[],currency:da};var fa=y.getConfig(ba),ga=[];try{var ha=ea[c('AdsWCAOperators').AND]?c('AdsWCAOperators').AND:c('AdsWCAOperators').OR,ia=ea[ha];ga=ia.map(function(ja){var ka=ja[c('AdsWCAOperators').OR]||ja[c('AdsWCAOperators').AND];if(!ka)return undefined;var la=Object.keys(ka[0])[0],ma=ka.map(function(pa){return pa[la]}),na=Object.keys(ma[0])[0];ma=ma.map(function(pa){return pa[na]});if(la===c('ProductItemFilterFieldsExternal').CURRENCY){da=ma[0];return undefined}var oa=!!(fa[la]&&fa[la].field&&fa[la].field.type===c('AdsGenericFilterFieldType').CURRENCY);return {isPriceFilter:oa,operator:this.getUiOperator(na),plainText:'',property:la,value:ma}}.bind(this)).filter(function(ja){return ja!==undefined})}catch(ja){return {filters:[],currency:da}}return {filters:ga,currency:da}},_tryParseJson:function z(aa){try{return JSON.parse(aa)}catch(ba){return null}},getSortedProperties:function z(aa){switch(aa){case c('CatalogVertical').FLIGHTS:return [c('FlightFilterFieldsExternal').DESCRIPTION,c('FlightFilterFieldsExternal').DESTINATION_AIRPORT,c('FlightFilterFieldsExternal').ORIGIN_AIRPORT,c('FlightFilterFieldsExternal').PRICE];case c('CatalogVertical').HOME_LISTINGS:return [c('HomeListingFilterFieldsExternal').COUNTRY,c('HomeListingFilterFieldsExternal').CITY,c('HomeListingFilterFieldsExternal').PRICE];case c('CatalogVertical').HOTELS:return [c('HotelFilterFieldsExternal').COUNTRY,c('HotelFilterFieldsExternal').CITY,c('HotelFilterFieldsExternal').BRAND,c('HotelFilterFieldsExternal').BASE_PRICE_AMOUNT,c('HotelFilterFieldsExternal').HOTEL_ID,c('HotelFilterFieldsExternal').STAR_RATING];case c('CatalogVertical').DESTINATIONS:return [c('DestinationFilterFieldsExternal').COUNTRY,c('DestinationFilterFieldsExternal').PRICE];case c('CatalogVertical').COMMERCE:return [c('ProductItemFilterFieldsExternal').CATEGORY,c('ProductItemFilterFieldsExternal').PRODUCT_TYPE,c('ProductItemFilterFieldsExternal').BRAND,c('ProductItemFilterFieldsExternal').PRICE_AMOUNT,c('ProductItemFilterFieldsExternal').SALE_PRICE_AMOUNT,c('ProductItemFilterFieldsExternal').RETAILER_ID,c('ProductItemFilterFieldsExternal').RETAILER_PRODUCT_GROUP_ID,c('ProductItemFilterFieldsExternal').GENDER,c('ProductItemFilterFieldsExternal').CONDITION,c('ProductItemFilterFieldsExternal').SIZE,c('ProductItemFilterFieldsExternal').AGE_GROUP,c('ProductItemFilterFieldsExternal').COLOR,c('ProductItemFilterFieldsExternal').MATERIAL,c('ProductItemFilterFieldsExternal').PATTERN,c('ProductItemFilterFieldsExternal').CUSTOM_LABEL_0,c('ProductItemFilterFieldsExternal').CUSTOM_LABEL_1,c('ProductItemFilterFieldsExternal').CUSTOM_LABEL_2,c('ProductItemFilterFieldsExternal').CUSTOM_LABEL_3,c('ProductItemFilterFieldsExternal').CUSTOM_LABEL_4,c('ProductItemFilterFieldsExternal').AVAILABILITY];case c('CatalogVertical').VEHICLES:return [c('VehicleFilterFieldsExternal').BODY_STYLE,c('VehicleFilterFieldsExternal').CONDITION,c('VehicleFilterFieldsExternal').DRIVETRAIN,c('VehicleFilterFieldsExternal').EXTERIOR_COLOR,c('VehicleFilterFieldsExternal').FUEL_TYPE,c('VehicleFilterFieldsExternal').INTERIOR_COLOR,c('VehicleFilterFieldsExternal').PRICE,c('VehicleFilterFieldsExternal').SALE_PRICE,c('VehicleFilterFieldsExternal').STATE_OF_VEHICLE,c('VehicleFilterFieldsExternal').TRANSMISSION];default:return h(false,'Unexpected vertical type %s',aa);}},getConfig:function z(aa){switch(aa){case c('CatalogVertical').DESTINATIONS:return c('AdsDestinationSetFilterFieldConfig');case c('CatalogVertical').FLIGHTS:return c('AdsFlightSetFilterFieldConfig');case c('CatalogVertical').HOME_LISTINGS:return c('AdsHomeListingSetFilterFieldConfig');case c('CatalogVertical').HOTELS:return c('AdsHotelSetFilterFieldConfig');case c('CatalogVertical').COMMERCE:return c('AdsProductSetFilterFieldConfig');case c('CatalogVertical').VEHICLES:return c('AdsVehicleSetFilterFieldConfig');default:return h(false,'Unexpected vertical type %s',aa);}},getVertical:function z(aa){return c('getByPath')(aa,[c('ProductSetField').PRODUCT_CATALOG,c('ProductCatalogField').VERTICAL])},getProductSetDefaultProperty:function z(aa){switch(aa){case c('CatalogVertical').FLIGHTS:return c('FlightFilterFieldsExternal').ORIGIN_AIRPORT;case c('CatalogVertical').HOME_LISTINGS:return c('HomeListingFilterFieldsExternal').COUNTRY;case c('CatalogVertical').HOTELS:return c('HotelFilterFieldsExternal').COUNTRY;case c('CatalogVertical').DESTINATIONS:return c('DestinationFilterFieldsExternal').COUNTRY;case c('CatalogVertical').VEHICLES:return c('VehicleFilterFieldsExternal').DRIVETRAIN;case c('CatalogVertical').COMMERCE:default:return c('ProductItemFilterFieldsExternal').CATEGORY;}},getNewProductSetFilter:function z(aa){var ba=this.getProductSetDefaultProperty(aa),ca=this.getConfig(aa);return {property:ba,operator:ca[ba].defaultOperator,value:ca[ba].defaultValue||[],plainText:''}},getSearchSource:function z(aa,ba,ca,da,ea){c('AbstractSearchSource');switch(da){case c('CatalogVertical').VEHICLES:return this._getVehiclesSearchSource(aa,ba,ca,ea);case c('CatalogVertical').DESTINATIONS:return this._getDestinationsSearchSource(aa,ba,ca,ea);case c('CatalogVertical').COMMERCE:return this._getCommerceSearchSource(aa,ba,ca,ea);case c('CatalogVertical').FLIGHTS:return this._getFlightsSearchSource(aa,ba,ca,ea);case c('CatalogVertical').HOME_LISTINGS:return this._getHomeListingsSearchSource(aa,ba,ca,ea);case c('CatalogVertical').HOTELS:return this._getHotelsSearchSource(aa,ba,ca,ea);}return new (c('RegexMatchSearchSource'))('.+')},propertyHasStaticValues:function z(aa){return aa===c('ProductItemFilterFieldsExternal').AGE_GROUP||aa===c('ProductItemFilterFieldsExternal').AVAILABILITY||aa===c('ProductItemFilterFieldsExternal').GENDER||aa===c('ProductItemFilterFieldsExternal').CONDITION||aa===c('ProductItemFilterFieldsExternal').REVIEW_STATUS},hasNumberOperator:function z(aa){return aa.operator===c('AdsGenericFilterOperator').LESS_THAN||aa.operator===c('AdsGenericFilterOperator').GREATER_THAN},isTokenizable:function z(aa,ba){var ca=y.getConfig(ba);return ca[aa.property].inputType===c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT||ca[aa.property].inputType===c('AdsProductSetFilterInputType').MIXED_INPUT&&!y.hasNumberOperator(aa)},shouldBootstrapTokenizer:function z(aa){return (c('ProductsConfig').gk.product_set_products_filter||aa!==c('ProductItemFilterFieldsExternal').RETAILER_ID)&&aa!==c('ProductItemFilterFieldsExternal').RETAILER_PRODUCT_GROUP_ID},specialTreatmentForEmptyString:function z(aa){return aa===c('ProductItemFilterFieldsExternal').GENDER||aa===c('ProductItemFilterFieldsExternal').CONDITION||aa===c('ProductItemFilterFieldsExternal').AGE_GROUP},shouldIncludeQueryString:function z(aa){return aa===c('AdsGenericFilterOperator').CONTAIN||aa===c('AdsGenericFilterOperator').NOT_CONTAIN||aa===c('AdsGenericFilterOperator').STARTS_WITH},_getVehiclesSearchSource:function z(aa,ba,ca,da){switch(ba){case c('VehicleFilterFieldsExternal').BODY_STYLE:return l;case c('VehicleFilterFieldsExternal').CONDITION:return m;case c('VehicleFilterFieldsExternal').DRIVETRAIN:return n;case c('VehicleFilterFieldsExternal').FUEL_TYPE:return o;case c('VehicleFilterFieldsExternal').PRICE:case c('VehicleFilterFieldsExternal').SALE_PRICE:return v;case c('VehicleFilterFieldsExternal').STATE_OF_VEHICLE:return p;case c('VehicleFilterFieldsExternal').TRANSMISSION:return q;case c('VehicleFilterFieldsExternal').EXTERIOR_COLOR:case c('VehicleFilterFieldsExternal').INTERIOR_COLOR:return c('AdsProductItemPropertySearchSource').getInstance(aa,ba,ca,c('CatalogVertical').VEHICLES,da);}return w},_getDestinationsSearchSource:function z(aa,ba,ca,da){switch(ba){case c('DestinationFilterFieldsExternal').PRICE:return v;case c('DestinationFilterFieldsExternal').COUNTRY:return c('AdsProductItemPropertySearchSource').getInstance(aa,ba,ca,c('CatalogVertical').DESTINATIONS,da);}return w},_getCommerceSearchSource:function z(aa,ba,ca,da){if(!c('ProductsConfig').gk.product_set_products_filter&&ba===c('ProductItemFilterFieldsExternal').RETAILER_ID)return w;switch(ba){case c('ProductItemFilterFieldsExternal').AVAILABILITY:return k;case c('ProductItemFilterFieldsExternal').BRAND:case c('ProductItemFilterFieldsExternal').CATEGORY:case c('ProductItemFilterFieldsExternal').PRODUCT_TYPE:case c('ProductItemFilterFieldsExternal').COLOR:case c('ProductItemFilterFieldsExternal').MATERIAL:case c('ProductItemFilterFieldsExternal').PATTERN:case c('ProductItemFilterFieldsExternal').SIZE:case c('ProductItemFilterFieldsExternal').CUSTOM_LABEL_0:case c('ProductItemFilterFieldsExternal').CUSTOM_LABEL_1:case c('ProductItemFilterFieldsExternal').CUSTOM_LABEL_2:case c('ProductItemFilterFieldsExternal').CUSTOM_LABEL_3:case c('ProductItemFilterFieldsExternal').CUSTOM_LABEL_4:case c('ProductItemFilterFieldsExternal').RETAILER_PRODUCT_GROUP_ID:case c('ProductItemFilterFieldsExternal').RETAILER_ID:return c('AdsProductItemPropertySearchSource').getInstance(aa,ba,ca,c('CatalogVertical').COMMERCE,da);case c('ProductItemFilterFieldsExternal').GENDER:return r;case c('ProductItemFilterFieldsExternal').PRICE_AMOUNT:return v;case c('ProductItemFilterFieldsExternal').REVIEW_STATUS:return u;case c('ProductItemFilterFieldsExternal').AGE_GROUP:return t;case c('ProductItemFilterFieldsExternal').CONDITION:return s;}return w},_getHomeListingsSearchSource:function z(aa,ba,ca,da){switch(ba){case c('HomeListingFilterFieldsExternal').CITY:case c('HomeListingFilterFieldsExternal').COUNTRY:return c('AdsProductItemPropertySearchSource').getInstance(aa,ba,ca,c('CatalogVertical').HOME_LISTINGS,da);case c('HomeListingFilterFieldsExternal').PRICE:return v;}return w},_getHotelsSearchSource:function z(aa,ba,ca,da){switch(ba){case c('HotelFilterFieldsExternal').BRAND:case c('HotelFilterFieldsExternal').CITY:case c('HotelFilterFieldsExternal').COUNTRY:return c('AdsProductItemPropertySearchSource').getInstance(aa,ba,ca,c('CatalogVertical').HOTELS,da);case c('HotelFilterFieldsExternal').BASE_PRICE_AMOUNT:return v;}return w},_getFlightsSearchSource:function z(aa,ba,ca,da){switch(ba){case c('FlightFilterFieldsExternal').DESCRIPTION:case c('FlightFilterFieldsExternal').DESTINATION_AIRPORT:case c('FlightFilterFieldsExternal').ORIGIN_AIRPORT:return c('AdsProductItemPropertySearchSource').getInstance(aa,ba,ca,c('CatalogVertical').FLIGHTS,da);case c('FlightFilterFieldsExternal').PRICE:return v;}return w},isUICompatibleFilter:function z(aa,ba){try{return y.validateAndGetFilterLevel(aa,ba)===2}catch(ca){return false}},getFirstKey:function z(aa){return Object.keys(aa)[0]},getFirstValue:function z(aa){return aa[y.getFirstKey(aa)]},extractOperator:function z(aa){if(Object.keys(aa).length!==1)return '';return y.getFirstKey(aa)},extractValueFromOperator:function z(aa){if(Object.keys(aa).length!==1)return undefined;return y.getFirstValue(aa)},validateValue:function z(aa){var ba=y.extractValueFromOperator(aa);return typeof ba==='number'||typeof ba==='string'},validateOperator:function z(aa){var ba=y.extractOperator(aa);return y.getUiOperator(ba)!==undefined},isConsistentPropertyList:function z(aa){if(aa.length===0)return true;if(aa.some(function(da){return Object.keys(da).length===0}))return false;var ba=y.getFirstKey(aa[0]),ca=y.extractOperator(y.getFirstValue(aa[0]));if(!y.validateOperator(y.getFirstValue(aa[0])))return false;return aa.every(function(da){return y.getFirstKey(da)===ba})&&aa.every(function(da){return y.extractOperator(y.getFirstValue(da))===ca})&&aa.every(function(da){return y.validateValue(y.getFirstValue(da))})},validateAndGetFilterLevel:function z(aa,ba){if(aa.and===undefined&&aa.or===undefined){var ca=Object.keys(aa);if(ca.length!==1||typeof aa[ca[0]]!=='object'||aa[ca[0]] instanceof Array||!y.validateOperator(aa[ca[0]])||!y.validateValue(aa[ca[0]]))return null;if(ba[ca[0]]===undefined&&ca[0]!==c('ProductItemFilterFieldsExternal').CURRENCY)return null;return 0}if(aa.and!==undefined&&aa.or!==undefined)return null;var da=aa.and||aa.or;if(!(da instanceof Array)||da.length===0)return null;var ea={};for(var fa=0;fa<da.length;++fa){var ga=y.validateAndGetFilterLevel(da[fa],ba);if(ga==null)return null;ea[ga]=true}if(Object.keys(ea).length!==1)return null;var ha=parseInt(Object.keys(ea)[0],10);if(ha===0&&!y.isConsistentPropertyList(da))return undefined;return ha+1}};f.exports=y}),null);
__d('ProductItemImage.react',['cx','BackgroundImage.react','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.state={imageNotFound:false},this.$ProductItemImage1=function(q,r){this.setState({imageNotFound:q<=1&&r<=1})}.bind(this),m}k.prototype.render=function(){'use strict';if(this.props.imageUrl===undefined||this.state.imageNotFound)return c('React').createElement('div',{className:"_4f2z"},c('React').createElement('div',{className:"_4f2_"},c('React').createElement('div',{className:"_4f30"})));return c('React').createElement(c('BackgroundImage.react'),{backgroundSize:'cover',height:this.props.height,width:this.props.width,loadingIndicatorStyle:'small',src:this.props.imageUrl,onImageLoad:this.$ProductItemImage1})};f.exports=k}),null);
__d('getUniqueValuesForStringArray',[],(function a(b,c,d,e,f,g){'use strict';function h(i){var j={},k=[];i.forEach(function(l){if(!Object.prototype.hasOwnProperty.call(j,l)){k.push(l);j[l]=true}});return k}f.exports=h}),null);
__d('AdsProductSetFilterTokenizer.react',['cx','fbt','AdsGenericFilterOperator','AdsProductSetUtils','AdsWCAOperators','CatalogVertical','CenteredContainer.react','Layout.react','LeftRight.react','ProductItemFilterFieldsExternal','ProductItemGraphApiFields','ProductItemImage.react','ProductsConfig','React','SearchableEntry','SUIBusinessTheme','SUISpinner.react','XUIContextualDialog.react','XUIContextualDialogBody.react','XUITokenizer.react','XUITokenizerToken.react','XUITypeaheadViewContainer.react','getUniqueValuesForStringArray','intlSummarizeNumber'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l,m,n,o,p=c('Layout.react').Column,q=c('Layout.react').FillColumn,r=10,s=i._("empty"),t=function aa(ba){return c('React').createElement(c('Layout.react'),null,c('React').createElement(p,{className:"_1s6n"},c('React').createElement(c('ProductItemImage.react'),{height:64,imageUrl:ba.item[c('ProductItemGraphApiFields').IMAGE_URL],width:64})),c('React').createElement(q,null,c('React').createElement('div',{className:"_1s6o",title:ba.item[c('ProductItemGraphApiFields').NAME]},ba.item[c('ProductItemGraphApiFields').NAME]),c('React').createElement('div',{className:"_1s6p",title:ba.item[c('ProductItemGraphApiFields').RETAILER_ID]},i._("ID:"),ba.item[c('ProductItemGraphApiFields').RETAILER_ID])),c('React').createElement(p,null,c('React').createElement('div',{className:"_1s6r"},ba.item[c('ProductItemGraphApiFields').PRICE])))};j=babelHelpers.inherits(u,c('React').Component);k=j&&j.prototype;function u(){var aa,ba;for(var ca=arguments.length,da=Array(ca),ea=0;ea<ca;ea++)da[ea]=arguments[ea];return ba=(aa=k.constructor).call.apply(aa,[this].concat(da)),this.$AdsProductSetFilterTokenizerViewItem2=function(fa){this.props.onHighlight&&this.props.onHighlight(this.props.entry,fa)}.bind(this),this.$AdsProductSetFilterTokenizerViewItem1=function(fa){this.props.onSelect&&this.props.onSelect(this.props.entry,fa)}.bind(this),ba}u.prototype.render=function(){return c('React').createElement('li',{'aria-selected':this.props.highlighted,className:"_599m"+(this.props.shouldDisplayProductInfo?' '+"_1s6s":'')+(!this.props.shouldDisplayProductInfo?' '+"_huv":'')+(this.props.highlighted?' '+"_huw":''),role:this.props.role,onMouseDown:this.$AdsProductSetFilterTokenizerViewItem1,onMouseEnter:this.$AdsProductSetFilterTokenizerViewItem2},this.props.shouldDisplayProductInfo?c('React').createElement(t,{item:this.props.entry.getAuxiliaryData()}):c('React').createElement(c('LeftRight.react'),null,c('React').createElement('div',null,this.props.specialTreatmentForEmptyString&&this.props.entry.getTitle()===''?c('React').createElement('i',null,s):this.props.entry.getTitle()),c('React').createElement('div',{className:"_hux"},this.props.entry.getAuxiliaryData().count!==undefined?c('intlSummarizeNumber')(this.props.entry.getAuxiliaryData().count):c('React').createElement(c('SUISpinner.react'),{size:'small',theme:c('SUIBusinessTheme')}))))};var v=function aa(ba){return c('React').createElement(c('XUITypeaheadViewContainer.react'),{className:((!ba.isLoading||!ba.inputFocused)&&ba.entries.length===0?"_599s":'')+(ba.shouldDisplayProductInfo&&!ba.isLoading?' '+"_1s6t":''),id:ba.ariaOwneeID,role:ba.role},ba.isLoading?c('React').createElement(c('CenteredContainer.react'),null,c('React').createElement(c('SUISpinner.react'),{size:'large',theme:c('SUIBusinessTheme')})):ba.entries.map(function(ca){return c('React').createElement(u,{entry:ca,highlighted:ba.highlightedEntry&&ba.highlightedEntry.getUniqueID()===ca.getUniqueID(),key:ca.getUniqueID(),onHighlight:ba.onHighlight,onSelect:ba.onSelect,specialTreatmentForEmptyString:ba.specialTreatmentForEmptyString,shouldDisplayProductInfo:ba.shouldDisplayProductInfo})}))};l=babelHelpers.inherits(w,c('React').Component);m=l&&l.prototype;function w(){var aa,ba;for(var ca=arguments.length,da=Array(ca),ea=0;ea<ca;ea++)da[ea]=arguments[ea];return ba=(aa=m.constructor).call.apply(aa,[this].concat(da)),this.$TokenWithProductInfo2=function(fa){return this.$TokenWithProductInfo1=fa}.bind(this),this.$TokenWithProductInfo3=function(){return this.$TokenWithProductInfo1}.bind(this),ba}w.prototype.render=function(){return c('React').createElement('div',{className:"_1s6v"},c('React').createElement('div',{className:'clearfix',ref:this.$TokenWithProductInfo2},this.props.token),c('React').createElement(c('XUIContextualDialog.react'),{alignment:'left',contextRef:this.$TokenWithProductInfo3,hoverContextRef:this.$TokenWithProductInfo3,hoverHideDelay:0,hoverShowDelay:0,position:'above',width:c('XUIContextualDialog.react').WIDTH.NORMAL},c('React').createElement(c('XUIContextualDialogBody.react'),null,c('React').createElement(t,{item:this.props.item}))))};var x=function aa(ba){var ca=ba.specialTreatmentForEmptyString&&ba.entry.getTitle()==='',da=c('React').createElement(c('XUITokenizerToken.react'),babelHelpers['extends']({},ba,{label:ca?s:ba.entry.getTitle()})),ea=ba.shouldDisplayProductInfo?c('React').createElement(w,{item:ba.entry.getAuxiliaryData(),token:da}):da;return c('React').createElement('div',{className:(ca?"_2lw-":'')+(' '+"_1haq")},ea,c('React').createElement('div',{className:"_4s0v"},ba.conjunctionOperator))};function y(aa,ba){return c('ProductsConfig').gk.product_set_products_filter&&aa===c('CatalogVertical').COMMERCE&&ba===c('ProductItemFilterFieldsExternal').RETAILER_ID}n=babelHelpers.inherits(z,c('React').Component);o=n&&n.prototype;function z(){var aa,ba;for(var ca=arguments.length,da=Array(ca),ea=0;ea<ca;ea++)da[ea]=arguments[ea];return ba=(aa=o.constructor).call.apply(aa,[this].concat(da)),this.state={inputFocused:false,queryString:''},this.$AdsProductSetFilterTokenizer1=function(fa){this.setState({queryString:''});this.props.handleAddEntryAttempt(fa)}.bind(this),this.$AdsProductSetFilterTokenizer5=function(fa){this.setState({queryString:fa.target.value});this.props.onQueryStringChange(fa)}.bind(this),this.$AdsProductSetFilterTokenizer4=function(event){if(this.state.queryString!=='')return;var fa=c('getUniqueValuesForStringArray')(event.clipboardData.getData('text/plain').split(',')).map(function(ga){return ga.trim()}).filter(function(ga){return ga!==''});this.$AdsProductSetFilterTokenizer6(fa);this.setState({queryString:''});event.stopPropagation();event.preventDefault()}.bind(this),this.$AdsProductSetFilterTokenizer3=function(){this.setState({inputFocused:true})}.bind(this),this.$AdsProductSetFilterTokenizer2=function(){this.setState({inputFocused:false})}.bind(this),ba}z.prototype.render=function(){var aa=c('AdsProductSetUtils').shouldIncludeQueryString(this.props.filter.operator),ba=c('AdsProductSetUtils').specialTreatmentForEmptyString(this.props.filter.property),ca=y(this.props.vertical,this.props.filter.property),da={alwaysVisibleOnFocus:c('AdsProductSetUtils').shouldBootstrapTokenizer(this.props.filter.property),ViewRenderer:v,TokenRenderer:x,useLayer:true,maxEntries:r,extraRendererProps:{entries:this.props.foundEntries,isLoading:this.props.isLoading,inputFocused:this.state.inputFocused,shouldDisplayProductInfo:ca,specialTreatmentForEmptyString:ba}},ea=c('AdsProductSetUtils').getLogicOperator(this.props.filter.operator);return c('React').createElement(c('XUITokenizer.react'),{className:this.props.className,entries:this.props.entries,extraTokenRendererProps:{specialTreatmentForEmptyString:ba,conjunctionOperator:ea===c('AdsWCAOperators').AND?i._("AND"):i._("OR"),shouldDisplayProductInfo:ca},extraTypeaheadProps:{onNoEntriesFound:this.props.onNoEntriesFound},focusedOnInit:true,placeholder:this.props.placeholder,presenter:da,queryString:this.state.queryString,searchSource:c('AdsProductSetUtils').getSearchSource(this.props.productCatalogID,this.props.filter.property,aa,this.props.vertical,c('AdsProductSetUtils').getApiOperator(this.props.filter.operator===c('AdsGenericFilterOperator').STARTS_WITH?c('AdsGenericFilterOperator').STARTS_WITH:c('AdsGenericFilterOperator').CONTAIN)),showEntriesOnFocus:true,xuiError:this.props.filter.error,onAddEntryAttempt:this.$AdsProductSetFilterTokenizer1,onEntriesFound:this.props.onEntriesFound,onInputBlur:this.$AdsProductSetFilterTokenizer2,onInputFocus:this.$AdsProductSetFilterTokenizer3,onPaste:this.$AdsProductSetFilterTokenizer4,onQueryStringChange:this.$AdsProductSetFilterTokenizer5,onRemoveEntryAttempt:this.props.handleRemoveEntryAttempt})};z.prototype.$AdsProductSetFilterTokenizer6=function(aa){var ba=this.props.entries.reduce(function(ca,da){ca[da.getUniqueID()]=true;return ca},{});aa.forEach(function(ca){if(ba[ca])return;this.props.handleAddEntryAttempt(new (c('SearchableEntry'))({uniqueID:ca,title:ca}))}.bind(this))};f.exports=z}),null);
__d('ProductSetCountsActions',['AdsDispatcher','ProductsActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={countsLoaded:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse(babelHelpers['extends']({},j,{counts:k,type:c('ProductsActionTypes').PRODUCT_SET_COUNTS.BATCH_LOADED}))},countsLoadError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse(babelHelpers['extends']({},j,{type:c('ProductsActionTypes').PRODUCT_SET_COUNTS.BATCH_LOAD_ERROR}))},reload:function i(j){c('AdsDispatcher').handleUpdateFromViewAction(babelHelpers['extends']({},j,{type:c('ProductsActionTypes').PRODUCT_SET_COUNTS.RELOAD}))}};f.exports=h}),null);
__d('ProductSetCountsDataManager',['AdsAbstractDataManager','AdsProductSetUtils','AdsWCAOperators','GraphAPI','ProductsAPIConfig','ProductSetCountsActions'],(function a(b,c,d,e,f,g){'use strict';var h,i,j='terms';h=babelHelpers.inherits(k,c('AdsAbstractDataManager'));i=h&&h.prototype;k.prototype.loadTerms=function(l,m,n,o,p){if(p.length===0)return;var q={catalogID:l,filters:m,property:n,globalLogicOperator:o,values:p},r=[{or:p.map(function(t){var u;return u={},u[n]={eq:t},u})}];if(o===c('AdsWCAOperators').AND&&m.length>0)r.push(c('AdsProductSetUtils').convertFilterFromUISpecToAPISpec(m,o).filter);var s={and:r};c('GraphAPI')(c('ProductsAPIConfig').version).object('catalog_id',l).edge('facets').batched().get({filter:JSON.stringify(s),facets:{result:{field:n,type:j}}}).done(this.__handleSuccess.bind(this,['load'],q,null),this.__handleError.bind(this,['load'],q,null))};k.prototype.__onBatchLoaded=function(l){l.forEach(function(m,n){var o=m.data[0].facets[0].value||[];c('ProductSetCountsActions').countsLoaded(n,n.values.reduce(function(p,q){var r=o.filter(function(s){return (s.key||'').toLowerCase()===q.toLowerCase()});if(r.length===0){p[q]=0}else p[q]=r[0].value;return p},{}))})};k.prototype.__onBatchLoadError=function(l){l.forEach(function(m,n){c('ProductSetCountsActions').countsLoadError(n)})};function k(){h.apply(this,arguments)}f.exports=new k()}),null);
__d('ProductSetCountsStore',['AdsDispatcher','FluxReduceStore','immutable','LoadObject','ProductsActionTypes','ProductSetCountsDataManager'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=':';h=babelHelpers.inherits(k,c('FluxReduceStore'));i=h&&h.prototype;k.prototype.getInitialState=function(){return c('immutable').Map()};k.prototype.getStorageKey=function(l,m,n,o,p){return l+j+m+j+n+j+o+j+JSON.stringify(p)};k.prototype.reduce=function(l,m){var n=m.action;switch(n.actionType){case c('ProductsActionTypes').PRODUCT_SET_COUNTS.BATCH_LOADED:return this.$ProductSetCountsStore1(l,n.catalogID,n.filters,n.property,n.globalLogicOperator,n.values,n.counts);case c('ProductsActionTypes').PRODUCT_SET_COUNTS.BATCH_LOAD_ERROR:return this.$ProductSetCountsStore1(l,n.catalogID,n.filters,n.property,n.globalLogicOperator,n.values,n.counts,new Error('Could not load data for '+n.catalogID));case c('ProductsActionTypes').PRODUCT_SET_COUNTS.RELOAD:var o=l;if(n.values)n.values.forEach(function(p){o=o['delete'](this.getStorageKey(n.catalogID,n.property,n.globalLogicOperator,p,n.filters))}.bind(this));return o;}return l};k.prototype.getCounts=function(l,m,n,o,p){var q=this.getState(),r=p.filter(function(s){return !q.get(this.getStorageKey(l,n,o,s,m))}.bind(this));c('ProductSetCountsDataManager').loadTerms(l,m,n,o,r);return p.reduce(function(s,t){var u=q.get(this.getStorageKey(l,n,o,t,m));s[t]=u||c('LoadObject').loading();return s}.bind(this),{})};k.prototype.$ProductSetCountsStore1=function(l,m,n,o,p,q,r){var s=arguments.length<=7||arguments[7]===undefined?null:arguments[7],t={};q.forEach(function(u){t[this.getStorageKey(m,o,p,u,n)]=c('LoadObject').withValue(r[u])}.bind(this));return l.merge(c('immutable').Map(t))};function k(){h.apply(this,arguments)}f.exports=new k(c('AdsDispatcher'))}),null);
__d('AdsProductSetFilterTokenizerContainer.react',['AdsProductSetFilterTokenizer.react','AdsProductSetUtils','CatalogVertical','FluxContainer','ProductItemFilterFieldsExternal','ProductsConfig','ProductSetCountsStore','React','SearchableEntry','removeFromArray'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$AdsProductSetFilterTokenizerContainer1=function(p){if(!this.$AdsProductSetFilterTokenizerContainer6(p))this.props.onChange(this.props.filter.value.concat(p));}.bind(this),this.$AdsProductSetFilterTokenizerContainer2=function(p){if(this.$AdsProductSetFilterTokenizerContainer6(p)){var q=this.props.filter.value;c('removeFromArray')(q,p);this.props.onChange(q.slice())}}.bind(this),this.$AdsProductSetFilterTokenizerContainer5=function(event){this.setState({isLoading:true});this.props.onQueryStringChange(event)}.bind(this),this.$AdsProductSetFilterTokenizerContainer4=function(){this.setState({isLoading:false,foundEntries:[]})}.bind(this),this.$AdsProductSetFilterTokenizerContainer3=function(p){this.setState(j.calculateState(babelHelpers['extends']({},this.state,{foundEntries:p,isLoading:false}),this.props))}.bind(this),l}j.getStores=function(){return [c('ProductSetCountsStore')]};j.calculateState=function(k,l){var m=k||{foundEntries:[],isLoading:true},n={};if(!c('ProductsConfig').gk.product_set_products_filter||l.filter.property!==c('ProductItemFilterFieldsExternal').RETAILER_ID||l.vertical!==c('CatalogVertical').COMMERCE)n=c('ProductSetCountsStore').getCounts(l.productCatalogID,c('AdsProductSetUtils').getFiltersForAPI((l.filters||[]).filter(function(o){return o!==l.filter}),l.vertical,l.selectedCurrency),l.filter.property,l.globalLogicOperator,m.foundEntries.map(function(o){return o.getTitle()}));return babelHelpers['extends']({},m,{foundEntries:m.foundEntries.map(function(o){return new (c('SearchableEntry'))(babelHelpers['extends']({},o.toPlainObject(),{auxiliaryData:babelHelpers['extends']({},o.getAuxiliaryData(),{count:n[o.getTitle()]&&n[o.getTitle()].getValue()})}))})})};j.prototype.componentWillReceiveProps=function(k){if(k.filter!==this.props.filter||k.selectedCurrency!==this.props.selectedCurrency||k.vertical!==this.props.vertical)this.setState({foundEntries:[],isLoading:!c('AdsProductSetUtils').propertyHasStaticValues(k.filter.property)});};j.prototype.render=function(){return c('React').createElement(c('AdsProductSetFilterTokenizer.react'),{className:this.props.className,entries:this.props.filter.value,filter:this.props.filter,foundEntries:this.state.foundEntries,handleAddEntryAttempt:this.$AdsProductSetFilterTokenizerContainer1,handleRemoveEntryAttempt:this.$AdsProductSetFilterTokenizerContainer2,isLoading:this.state.isLoading,placeholder:this.props.placeholder,productCatalogID:this.props.productCatalogID,vertical:this.props.vertical,onEntriesFound:this.$AdsProductSetFilterTokenizerContainer3,onNoEntriesFound:this.$AdsProductSetFilterTokenizerContainer4,onQueryStringChange:this.$AdsProductSetFilterTokenizerContainer5})};j.prototype.$AdsProductSetFilterTokenizerContainer6=function(k){var l=k.getUniqueID();return this.props.filter.value.some(function(m){return m.getUniqueID()===l})};f.exports=c('FluxContainer').create(j,{withProps:true})}),null);
__d('CommerceItemsDisplayOptionConfig',['fbt','ProductItemGraphApiFields','immutable','ProductCatalogItemsDisplayOptionUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i={mandatoryFields:c('immutable').Map({NAME:{fieldGetter:function n(o){return o[c('ProductItemGraphApiFields').NAME]},key:'NAME',label:h._("Title")},PRICE:{fieldGetter:function n(o){return o[c('ProductItemGraphApiFields').PRICE]},key:'PRICE',label:h._("Price")},IMAGE:{fieldGetter:function n(o){return o[c('ProductItemGraphApiFields').DA_DISPLAY_PREVIEW_URL]||o[c('ProductItemGraphApiFields').IMAGE_URL]||c('ProductCatalogItemsDisplayOptionUtils').getPlaceholderImgUrl()},key:'IMAGE',label:h._("Image")}}),optionalFields:c('immutable').Map({RETAILER_ID:{fieldGetter:function n(o){return o[c('ProductItemGraphApiFields').RETAILER_ID]},key:'RETAILER_ID',label:h._("Item ID")},ITEM_GROUP_ID:{fieldGetter:function n(o){return o[c('ProductItemGraphApiFields').RETAILER_PRODUCT_GROUP_ID]},key:'ITEM_GROUP_ID',label:h._("Item Group ID")},AVAILABILITY:{fieldGetter:function n(o){return o[c('ProductItemGraphApiFields').AVAILABILITY].split(' ').map(function(p){return p[0].toUpperCase()+p.slice(1)}).join(' ')},key:'AVAILABILITY',label:h._("Availability")},SIZE:{fieldGetter:function n(o){return o[c('ProductItemGraphApiFields').SIZE]},key:'SIZE',label:h._("Size")},DESCRIPTION:{fieldGetter:function n(o){return o[c('ProductItemGraphApiFields').DESCRIPTION]},key:'DESCRIPTION',label:h._("Description")},BRAND:{fieldGetter:function n(o){return o[c('ProductItemGraphApiFields').BRAND]},key:'BRAND',label:h._("Brand")},CONDITION:{fieldGetter:function n(o){return o[c('ProductItemGraphApiFields').CONDITION]},key:'CONDITION',label:h._("Condition")}})},j=Array.from(i.mandatoryFields.keys()).concat(i.optionalFields.get('AVAILABILITY').key),k={mandatoryFields:c('immutable').Map({FBID:{key:'FBID',filter:undefined,label:h._("Default")},NAME_ASCENDING:{key:'NAME_ASCENDING',filter:'name_ascending',label:h._("Title - A to Z")},NAME_DESCENDING:{key:'NAME_DESCENDING',filter:'name_descending',label:h._("Title - Z to A")},PRICE_ASCENDING:{key:'PRICE_ASCENDING',filter:'price_ascending',label:h._("Price - Low to High")},PRICE_DESCENDING:{key:'PRICE_DESCENDING',filter:'price_descending',label:h._("Price - High to Low")}}),optionalFields:c('immutable').Map({})},l=['FBID'],m={defaultFields:j,displayFields:i,sortFields:k,defaultSortFields:l};f.exports=m}),null);
__d('DestinationItemsDisplayOptionConfig',['fbt','DestinationGraphApiFields','immutable','ProductCatalogItemsDisplayOptionUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i={mandatoryFields:c('immutable').Map({NAME:{fieldGetter:function o(p){return p[c('DestinationGraphApiFields').NAME]},key:'NAME',label:h._("Title")},PRICE:{fieldGetter:function o(p){return p[c('DestinationGraphApiFields').PRICE]},key:'PRICE',label:h._("Price")},IMAGE:{fieldGetter:function o(p){return m(p)},key:'IMAGE',label:h._("Image")}}),optionalFields:c('immutable').Map({CITY:{fieldGetter:function o(p){return p[c('DestinationGraphApiFields').ADDRESS].city},key:'CITY',label:h._("City")},COUNTRY:{fieldGetter:function o(p){return p[c('DestinationGraphApiFields').ADDRESS].country},key:'COUNTRY',label:h._("Country")},DESCRIPTION:{fieldGetter:function o(p){return p[c('DestinationGraphApiFields').DESCRIPTION]},key:'DESCRIPTION',label:h._("Description")}})},j=Array.from(i.mandatoryFields.keys()),k={mandatoryFields:c('immutable').Map({}),optionalFields:c('immutable').Map({})},l=[];function m(o){return c('ProductCatalogItemsDisplayOptionUtils').getImageUrl(o[c('DestinationGraphApiFields').IMAGES])}var n={defaultFields:j,displayFields:i,sortFields:k,defaultSortFields:l};f.exports=n}),null);
__d('FlightItemsDisplayOptionConfig',['fbt','FlightGraphApiFields','immutable','ProductCatalogItemsDisplayOptionUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i={mandatoryFields:c('immutable').Map({IMAGE:{fieldGetter:function n(o){return c('ProductCatalogItemsDisplayOptionUtils').getImageUrl(o[c('FlightGraphApiFields').IMAGES])},key:'IMAGE',label:h._("Image")},NAME:{fieldGetter:function n(o){return o[c('FlightGraphApiFields').ORIGIN_AIRPORT]+'-'+o[c('FlightGraphApiFields').DESTINATION_AIRPORT]},key:'NAME',label:h._("Name")},PRICE:{fieldGetter:function n(o){return o[c('FlightGraphApiFields').PRICE]},key:'PRICE',label:h._("Feed Price")}}),optionalFields:c('immutable').Map({ID:{fieldGetter:function n(o){return o[c('FlightGraphApiFields').ID]},key:'ID',label:h._("ID")},ORIGIN_AIRPORT:{fieldGetter:function n(o){return o[c('FlightGraphApiFields').ORIGIN_AIRPORT]},key:'ORIGIN_AIRPORT',label:h._("Origin Airport")},DESTINATION_AIRPORT:{fieldGetter:function n(o){return o[c('FlightGraphApiFields').DESTINATION_AIRPORT]},key:'DESTINATION_AIRPORT',label:h._("Destination Airport")},CURRENCY:{fieldGetter:function n(o){return o[c('FlightGraphApiFields').CURRENCY]},key:'CURRENCY',label:h._("Currency")},DESCRIPTION:{fieldGetter:function n(o){return o[c('FlightGraphApiFields').DESCRIPTION]},key:'DESCRIPTION',label:h._("Description")}})},j=Array.from(i.mandatoryFields.keys()),k={mandatoryFields:c('immutable').Map({}),optionalFields:c('immutable').Map({})},l=[],m={defaultFields:j,displayFields:i,sortFields:k,defaultSortFields:l};f.exports=m}),null);
__d('HomeListingItemsDisplayOptionConfig',['fbt','HomeListingGraphApiFields','immutable','ProductCatalogItemsDisplayOptionUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i={mandatoryFields:c('immutable').Map({NAME:{fieldGetter:function o(p){return p[c('HomeListingGraphApiFields').NAME]},key:'NAME',label:h._("Name")},PRICE:{fieldGetter:function o(p){return p[c('HomeListingGraphApiFields').PRICE]},key:'PRICE',label:h._("Price")},IMAGE:{fieldGetter:function o(p){return m(p)},key:'IMAGE',label:h._("Image")}}),optionalFields:c('immutable').Map({DESCRIPTION:{fieldGetter:function o(p){return p[c('HomeListingGraphApiFields').DESCRIPTION]},key:'DESCRIPTION',label:h._("Description")}})},j=Array.from(i.mandatoryFields.keys()),k={mandatoryFields:c('immutable').Map({}),optionalFields:c('immutable').Map({})},l=[];function m(o){return c('ProductCatalogItemsDisplayOptionUtils').getImageUrl(o[c('HomeListingGraphApiFields').IMAGES])}var n={defaultFields:j,displayFields:i,sortFields:k,defaultSortFields:l};f.exports=n}),null);
__d("LocationAddressDataGraphApiFields",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CITY:"city",CITY_ID:"city_id",COUNTRY:"country",LATITUDE:"latitude",LONGITUDE:"longitude",NEIGHBORHOODS:"neighborhoods",POSTAL_CODE:"postal_code",REGION:"region",STREET_ADDRESS:"street_address"})}),null);
__d('HotelItemsDisplayOptionConfig',['fbt','HotelGraphApiFields','immutable','LocationAddressDataGraphApiFields','ProductCatalogItemsDisplayOptionUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i={mandatoryFields:c('immutable').Map({NAME:{fieldGetter:function o(p){return p[c('HotelGraphApiFields').NAME]},key:'NAME',label:h._("Title")},PRICE:{fieldGetter:function o(p){return p[c('HotelGraphApiFields').LOWEST_BASE_PRICE]},key:'PRICE',label:h._("Price")},IMAGE:{fieldGetter:function o(p){return m(p)},key:'IMAGE',label:h._("Image")}}),optionalFields:c('immutable').Map({BRAND:{fieldGetter:function o(p){return p[c('HotelGraphApiFields').BRAND]},key:'BRAND',label:h._("Brand")},CITY:{fieldGetter:function o(p){return p[c('LocationAddressDataGraphApiFields').CITY]},key:'CITY',label:h._("City")},COUNTRY:{fieldGetter:function o(p){return p[c('LocationAddressDataGraphApiFields').COUNTRY]},key:'COUNTRY',label:h._("Country")},DESCRIPTION:{fieldGetter:function o(p){return p[c('HotelGraphApiFields').DESCRIPTION]},key:'DESCRIPTION',label:h._("Description")}})},j=Array.from(i.mandatoryFields.keys()),k={mandatoryFields:c('immutable').Map({}),optionalFields:c('immutable').Map({})},l=[];function m(o){return c('ProductCatalogItemsDisplayOptionUtils').getImageUrl(o[c('HotelGraphApiFields').IMAGES])}var n={defaultFields:j,displayFields:i,sortFields:k,defaultSortFields:l};f.exports=n}),null);
__d('VehicleItemsDisplayOptionConfig',['fbt','VehicleGraphApiFields','immutable','ProductCatalogItemsDisplayOptionUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i={mandatoryFields:c('immutable').Map({NAME:{fieldGetter:function o(p){return p[c('VehicleGraphApiFields').TITLE]},key:'NAME',label:h._("Title")},PRICE:{fieldGetter:function o(p){return p[c('VehicleGraphApiFields').PRICE]},key:'PRICE',label:h._("Price")},IMAGE:{fieldGetter:function o(p){return m(p)},key:'IMAGE',label:h._("Image")}}),optionalFields:c('immutable').Map({DESCRIPTION:{fieldGetter:function o(p){return p[c('VehicleGraphApiFields').DESCRIPTION]},key:'DESCRIPTION',label:h._("Description")}})},j=Array.from(i.mandatoryFields.keys()),k={mandatoryFields:c('immutable').Map({}),optionalFields:c('immutable').Map({})},l=[];function m(o){return c('ProductCatalogItemsDisplayOptionUtils').getImageUrl(o[c('VehicleGraphApiFields').IMAGES])}var n={defaultFields:j,displayFields:i,sortFields:k,defaultSortFields:l};f.exports=n}),null);
__d('ProductCatalogItemsDisplayOptionUtils',['CatalogVertical','CommerceItemsDisplayOptionConfig','DestinationItemsDisplayOptionConfig','FlightItemsDisplayOptionConfig','HomeListingItemsDisplayOptionConfig','HotelItemsDisplayOptionConfig','VehicleItemsDisplayOptionConfig'],(function a(b,c,d,e,f,g){'use strict';var h={getConfig:function i(j){switch(j){case c('CatalogVertical').DESTINATIONS:return c('DestinationItemsDisplayOptionConfig');case c('CatalogVertical').FLIGHTS:return c('FlightItemsDisplayOptionConfig');case c('CatalogVertical').HOME_LISTINGS:return c('HomeListingItemsDisplayOptionConfig');case c('CatalogVertical').HOTELS:return c('HotelItemsDisplayOptionConfig');case c('CatalogVertical').VEHICLES:return c('VehicleItemsDisplayOptionConfig');default:return c('CommerceItemsDisplayOptionConfig');}},getPlaceholderImgUrl:function i(){return '/images/ads/common/place_holder_image_600x600.png'},getImageUrl:function i(j){if(j&&j[0]){var k=j[0],l=JSON.parse(k);return l.url}return this.getPlaceholderImgUrl()},supportGridView:function i(j){return j===c('CatalogVertical').COMMERCE||j===c('CatalogVertical').DESTINATIONS||j===c('CatalogVertical').FLIGHTS||j===c('CatalogVertical').HOME_LISTINGS||j===c('CatalogVertical').HOTELS||j===c('CatalogVertical').VEHICLES},getAllPossibleDisplayFields:function i(j){var k=j.displayFields;return Array.from(k.mandatoryFields.keys()).concat(Array.from(k.optionalFields.keys()))},getAllPossibleSortFields:function i(j){var k=j.sortFields;if(!k)return [];return Array.from(k.mandatoryFields.keys()).concat(Array.from(k.optionalFields.keys()))},getValueFromDisplayFields:function i(j,k,l){var m=j.displayFields.mandatoryFields.get(k)||j.displayFields.optionalFields.get(k);return m?m[l]:null},getValueFromSortFields:function i(j,k,l){var m=j.sortFields;if(!m)return null;var n=m.mandatoryFields.get(k)||m.optionalFields.get(k);return n?n[l]:null},getMandatoryFields:function i(j){return Array.from(j.displayFields.mandatoryFields.keys())}};f.exports=h}),null);
__d('ProductFeedReusableComponents.brands',['cx','fbt','ix','AdsPopoverLink.react','BUIAdoptionBUIText.react','Image.react','List.react','Link.react','NumberFormat','React','SUIBusinessTheme','SUITooltip.react','fbglyph','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=function p(q){var r=q.warningCount,s=q.errorCount,t=q.persistedItems,u=q.detectedItems,v=null,w=null,x=c('React').createElement(c('BUIAdoptionBUIText.react'),{display:'inline',size:'medium'},i._("{number_of_uploaded_products} uploaded",[i.param('number_of_uploaded_products',c('NumberFormat').formatInteger(t))]));if(u===0||t===0){v=j("96830");x=c('React').createElement(c('BUIAdoptionBUIText.react'),{customColorUseSparingly:'#DC3847',display:'inline',size:'medium'},i._("Upload Failed"))}else if(r===0&&s===0){v=j("119371")}else if(s>0){v=j("96830");if(u-t>0){var y=(1-t/u)*100;w=c('React').createElement('div',{title:i._("{number of items} not uploaded",[i.param('number of items',u-t)])},c('React').createElement(c('BUIAdoptionBUIText.react'),{customColorUseSparingly:'#DC3847',display:'block',size:'medium'},i._("{precentage_of_not_uploaded_products}\u0025 not uploaded",[i.param('precentage_of_not_uploaded_products',y>=.1?Number(y).toFixed(1):'< 0.1')])))}}else{v=j("26949");w=c('React').createElement(c('BUIAdoptionBUIText.react'),{customColorUseSparingly:'orange',display:'block',size:'medium'},i._("with warnings"))}return c('React').createElement('div',null,c('React').createElement(c('Image.react'),{className:"_3sec",src:v}),c('React').createElement('div',{className:"_oun"},q.displayMode==='inline'?c('React').createElement('div',null,c('React').createElement('span',null,x),c('React').createElement('span',null,w)):c('React').createElement('div',null,x,' ',w)))},l=function p(q){return c('React').createElement(c('List.react'),{direction:q.direction||'vertical',border:'none',spacing:'small'},c('React').createElement('li',null,q.primaryValue),c('React').createElement('li',null,c('React').createElement(c('BUIAdoptionBUIText.react'),{shade:'light',size:'medium'},q.secondaryValue)))},m=function p(q){return c('React').createElement('div',{className:c('joinClasses')(q.className,"_31u8")},q.label?c('React').createElement('div',{className:"_31u9"},c('React').createElement(c('BUIAdoptionBUIText.react'),{className:"_31ua",shade:'light',size:'xsmall',weight:'bold'},q.label),q.tooltip?c('React').createElement(c('SUITooltip.react'),{theme:c('SUIBusinessTheme'),tooltip:q.tooltip,style:{marginLeft:4}},c('React').createElement(c('Image.react'),{src:j("126340")})):null):null,q.children)};function n(p){p.stopPropagation()}function o(p){return c('React').createElement(c('Link.react'),{className:"_eyk",onClick:n,href:p.url,target:'_blank'},p.content)}f.exports={InfoElement:m,UploadResultCell:k,XProductsTableCellValuePairItem:l,UrlCellRenderer:o}}),null);
__d('ProductItemInsights',['keyMirror'],(function a(b,c,d,e,f,g){var h=c('keyMirror')({VIEW_CONTENT:null,ADD_TO_CART:null,PURCHASE:null});f.exports={InsightsOptions:h}}),null);
__d('PlaceholderBlockText.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m="_374o"+(this.props.shade==='dark'?' '+"_374q":'')+(this.props.shade==='light'?' '+"_374r":''),n='';for(var o=0;o<this.props.characters;o++)n+='\u2580';return c('React').createElement('span',babelHelpers['extends']({},this.props,{className:c('joinClasses')(m,this.props.className)}),n)};function l(){i.apply(this,arguments)}l.propTypes={characters:k.number.isRequired,shade:k.oneOf(['dark','light']).isRequired};l.defaultProps={characters:10,shade:'dark'};f.exports=l}),null);
__d('AdsProductItemBatchLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productItemBatchLoadError',actionType:'PRODUCT_ITEM.BATCH_LOAD_ERROR'};f.exports=h}),null);
__d('AdsProductItemBatchLoadErrorDataAction',['AdsDataActionCreator','AdsProductItemBatchLoadErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductItemBatchLoadErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsProductItemBatchLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productItemBatchLoaded',actionType:'PRODUCT_ITEM.BATCH_LOADED'};f.exports=h}),null);
__d('AdsProductItemBatchLoadedDataAction',['AdsDataActionCreator','AdsProductItemBatchLoadedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductItemBatchLoadedDataActionPlugin'));f.exports=h}),null);
__d('AdsProductItemDisplayPreviewLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productItemDisplayPreviewLoadError',actionType:'PRODUCT_ITEM.DISPLAY_PREVIEW.LOAD_ERROR'};f.exports=h}),null);
__d('AdsProductItemDisplayPreviewLoadErrorDataAction',['AdsDataActionCreator','AdsProductItemDisplayPreviewLoadErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductItemDisplayPreviewLoadErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsProductItemDisplayPreviewLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productItemDisplayPreviewLoaded',actionType:'PRODUCT_ITEM.DISPLAY_PREVIEW.LOADED'};f.exports=h}),null);
__d('AdsProductItemDisplayPreviewLoadedDataAction',['AdsDataActionCreator','AdsProductItemDisplayPreviewLoadedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductItemDisplayPreviewLoadedDataActionPlugin'));f.exports=h}),null);
__d('AdsProductItemInsightsLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productItemInsightsLoadError',actionType:'PRODUCT_ITEM.INSIGHTS.LOAD_ERROR'};f.exports=h}),null);
__d('AdsProductItemInsightsLoadErrorDataAction',['AdsDataActionCreator','AdsProductItemInsightsLoadErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductItemInsightsLoadErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsProductItemInsightsLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productItemInsightsLoaded',actionType:'PRODUCT_ITEM.INSIGHTS.LOADED'};f.exports=h}),null);
__d('AdsProductItemInsightsLoadedDataAction',['AdsDataActionCreator','AdsProductItemInsightsLoadedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductItemInsightsLoadedDataActionPlugin'));f.exports=h}),null);
__d('AdsProductItemActions',['AdsProductItemBatchLoadedDataAction','AdsProductItemBatchLoadErrorDataAction','AdsProductItemDisplayPreviewLoadedDataAction','AdsProductItemDisplayPreviewLoadErrorDataAction','AdsProductItemInsightsLoadedDataAction','AdsProductItemInsightsLoadErrorDataAction'],(function a(b,c,d,e,f,g){'use strict';var h={productItemBatchLoaded:function i(j){c('AdsProductItemBatchLoadedDataAction').dispatch({products:j})},productItemBatchLoadError:function i(j){c('AdsProductItemBatchLoadErrorDataAction').dispatch({errors:j})},itemEventStatsLoaded:function i(j,k,l){c('AdsProductItemInsightsLoadedDataAction').dispatch({itemID:j,interval:k,stats:l})},itemEventStatsLoadError:function i(j,k,l){c('AdsProductItemInsightsLoadErrorDataAction').dispatch({itemID:j,interval:k,error:l})},itemDisplayPreviewLoaded:function i(j,k){c('AdsProductItemDisplayPreviewLoadedDataAction').dispatch({key:j,url:k})},itemDisplayPreviewLoadError:function i(j,k){c('AdsProductItemDisplayPreviewLoadErrorDataAction').dispatch({key:j})}};f.exports=h}),null);
__d('ProductItemInsightsDataManager',['AdsProductItemActions','GraphAPI','ProductsAPIConfig'],(function a(b,c,d,e,f,g){'use strict';h.prototype.load=function(i,j){c('GraphAPI')(c('ProductsAPIConfig').version).object('product_item',i).edge('insights').get({from:j.start.toISOString(),to:j.end.toISOString()}).done(function(k){return c('AdsProductItemActions').itemEventStatsLoaded(i,j,k.data.map(function(l){return {DATE:l.date,UNIQUE_USERS:l.unique_users_count,VIEW_CONTENT:l.view_content_count,ADD_TO_CART:l.add_to_cart_count,PURCHASE:l.purchase_count}}))},function(k){return c('AdsProductItemActions').itemEventStatsLoadError(i,j,k)})};function h(){}f.exports=new h()}),null);
__d('ProductItemInsightsStore',['AdsActionTypes','AdsDispatcher','FluxLoadObjectStore','immutable','LocalDateInterval','ProductItemInsightsDataManager','ProductItemInsights'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k=c('ProductItemInsights').InsightsOptions,l=(j={},j[k.VIEW_CONTENT]=0,j[k.ADD_TO_CART]=0,j[k.PURCHASE]=0,j);h=babelHelpers.inherits(m,c('FluxLoadObjectStore'));i=h&&h.prototype;m.prototype.reduce=function(n,o){var p=o.action;switch(p.type){case c('AdsActionTypes').PRODUCT_ITEM.INSIGHTS.LOADED:return this.__handleOne(n,c('immutable').Map({id:p.itemID,start:p.interval.start.toString(),end:p.interval.end.toString()}),c('immutable').List(p.stats).reduce(function(q,r){var s;return !r?q:(s={},s[k.VIEW_CONTENT]=q[k.VIEW_CONTENT]+r[k.VIEW_CONTENT],s[k.ADD_TO_CART]=q[k.ADD_TO_CART]+r[k.ADD_TO_CART],s[k.PURCHASE]=q[k.PURCHASE]+r[k.PURCHASE],s)},l));case c('AdsActionTypes').PRODUCT_ITEM.INSIGHTS.LOAD_ERROR:return this.__handleOne(n,c('immutable').Map({id:p.itemID,start:p.interval.start.toString(),end:p.interval.end.toString()}),p.error);default:return n;}};m.prototype.__load=function(n){c('ProductItemInsightsDataManager').load(n.get('id'),c('LocalDateInterval').fromStrings(n.get('start'),n.get('end')))};m.prototype.isLoaded=function(n,o){var p=this.getCached(c('immutable').Map({id:n,start:o.start.toString(),end:o.end.toString()}));return p.hasValue()&&p.isDone()};m.prototype.getSumEnforce=function(n,o){var p=this.get(c('immutable').Map({id:n,start:o.start.toString(),end:o.end.toString()})).getValue();return p?p:l};function m(){h.apply(this,arguments)}f.exports=new m(c('AdsDispatcher'))}),null);
__d('ProductItemInsightsCounterContainer.react',['BUIDateRangePresets','FluxContainer','LocalDate','PlaceholderBlockText.react','ProductItemInsightsStore','React','Timezone','intlSummarizeNumber'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('BUIDateRangePresets').LAST_28_DAYS.calculateInterval(c('LocalDate').today(c('Timezone').PST8PDT));h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.getStores=function(){return [c('ProductItemInsightsStore')]};k.calculateState=function(l,m){return babelHelpers['extends']({},l,{isLoaded:c('ProductItemInsightsStore').isLoaded(m.productID,j),count:c('ProductItemInsightsStore').getSumEnforce(m.productID,j)[m.statsName]})};k.prototype.render=function(){return !this.state.isLoaded?c('React').createElement(c('PlaceholderBlockText.react'),{shade:'light',characters:5}):c('React').createElement('div',null,c('intlSummarizeNumber')(this.state.count,0))};function k(){h.apply(this,arguments)}f.exports=c('FluxContainer').create(k,{withProps:true})}),null);
__d('CommerceItemsTableConfig',['fbt','ProductCatalogItemsDisplayOptionUtils','ProductItemImage.react','ProductItemInsightsCounterContainer.react','ProductItemFilterFieldsExternal','ProductItemGraphApiFields','ProductsConfig','React','ProductItemInsights','ProductFeedReusableComponents.brands'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('ProductItemInsights').InsightsOptions,j=c('ProductFeedReusableComponents.brands').XProductsTableCellValuePairItem,k=c('ProductFeedReusableComponents.brands').UrlCellRenderer,l={getDisplayName:function m(n){return n[c('ProductItemGraphApiFields').NAME]},getDisplayPrice:function m(n){return n[c('ProductItemGraphApiFields').PRICE]},getID:function m(n){return n[c('ProductItemGraphApiFields').ID]},getImageURL:function m(n){return n[c('ProductItemGraphApiFields').IMAGE_URL]||c('ProductCatalogItemsDisplayOptionUtils').getPlaceholderImgUrl()},imageField:c('ProductItemGraphApiFields').IMAGE_URL,tableConfig:[],propertiesToSearchBy:[c('ProductItemFilterFieldsExternal').BRAND,c('ProductItemFilterFieldsExternal').NAME,c('ProductItemFilterFieldsExternal').RETAILER_ID],searchTooltip:h._("Search by title, ID or brand")};l.tableConfig.push({columnRenderer:function m(n){return n[c('ProductItemGraphApiFields').RETAILER_ID]},columnLabel:h._("Item ID"),field:c('ProductItemGraphApiFields').RETAILER_ID,width:'50'});l.tableConfig.push({columnRenderer:function m(n){return c('React').createElement(k,{url:n[c('ProductItemGraphApiFields').URL],content:c('React').createElement(j,{primaryValue:n[c('ProductItemGraphApiFields').NAME],secondaryValue:n[c('ProductItemGraphApiFields').RETAILER_PRODUCT_GROUP_ID]})})},columnLabel:h._("Name"),field:c('ProductItemGraphApiFields').NAME,width:'104'});l.tableConfig.push({columnRenderer:function m(n){return c('React').createElement(c('ProductItemImage.react'),{height:50,imageUrl:n[c('ProductItemGraphApiFields').IMAGE_URL],width:50})},columnLabel:h._("Image"),field:c('ProductItemGraphApiFields').IMAGE_URL,width:'50'});if(!c('ProductsConfig').gk.product_item_insights)l.tableConfig.push({columnRenderer:function m(n){return n[c('ProductItemGraphApiFields').BRAND]},columnLabel:h._("Brand"),field:c('ProductItemGraphApiFields').BRAND,width:'80'});l.tableConfig.push({columnRenderer:function m(n){return n[c('ProductItemGraphApiFields').PRICE]},columnLabel:h._("Price"),field:c('ProductItemGraphApiFields').PRICE,width:'50'});l.tableConfig.push({columnRenderer:function m(n){return n[c('ProductItemGraphApiFields').AVAILABILITY]},columnLabel:h._("Availability"),field:c('ProductItemGraphApiFields').AVAILABILITY,width:'80'});if(c('ProductsConfig').gk.product_item_insights)l.tableConfig.push({columnRenderer:function m(n){return c('React').createElement(c('ProductItemInsightsCounterContainer.react'),{key:n[c('ProductItemGraphApiFields').ID],productID:n[c('ProductItemGraphApiFields').ID],statsName:i.PURCHASE})},columnLabel:h._("Purchases"),field:null,width:'76'});if(c('ProductsConfig').gk.product_item_insights)l.tableConfig.push({columnRenderer:function m(n){return c('React').createElement(c('ProductItemInsightsCounterContainer.react'),{key:n[c('ProductItemGraphApiFields').ID],productID:n[c('ProductItemGraphApiFields').ID],statsName:i.VIEW_CONTENT})},columnLabel:h._("Views"),field:null,width:'50'});f.exports=l}),null);
__d('DestinationItemsTableConfig',['fbt','DestinationFilterFieldsExternal','DestinationGraphApiFields','ProductCatalogItemsDisplayOptionUtils','ProductItemImage.react','React','ProductFeedReusableComponents.brands'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('ProductFeedReusableComponents.brands').UrlCellRenderer,j={getDisplayName:function l(m){return m[c('DestinationGraphApiFields').NAME]},getDisplayPrice:function l(m){return m[c('DestinationGraphApiFields').PRICE]},getID:function l(m){return m[c('DestinationGraphApiFields').ID]},getImageURL:function l(m){return c('ProductCatalogItemsDisplayOptionUtils').getImageUrl(m[c('DestinationGraphApiFields').IMAGES])},imageField:null,tableConfig:[],propertiesToSearchBy:[c('DestinationFilterFieldsExternal').COUNTRY],searchTooltip:h._("Search by country")};j.tableConfig.push({columnRenderer:function l(m){return m[c('DestinationGraphApiFields').DESTINATION_ID]},columnLabel:h._("Destination ID"),field:c('DestinationGraphApiFields').DESTINATION_ID,width:'50'});j.tableConfig.push({columnRenderer:function l(m){return c('React').createElement(i,{url:m[c('DestinationGraphApiFields').URL],content:m[c('DestinationGraphApiFields').NAME]})},columnLabel:h._("Name"),field:c('DestinationGraphApiFields').NAME,width:'100'});j.tableConfig.push({columnRenderer:function l(m){return c('React').createElement(c('ProductItemImage.react'),{height:50,imageUrl:j.getImageURL(m),width:50})},columnLabel:h._("Image"),field:c('DestinationGraphApiFields').IMAGES,width:'70'});j.tableConfig.push({columnRenderer:function l(m){return m[c('DestinationGraphApiFields').DESCRIPTION]},columnLabel:h._("Description"),field:c('DestinationGraphApiFields').DESCRIPTION,width:'120'});j.tableConfig.push({columnRenderer:function l(m){return c('React').createElement(k,{address:m[c('DestinationGraphApiFields').ADDRESS]})},columnLabel:h._("Address"),field:c('DestinationGraphApiFields').ADDRESS,width:'100'});j.tableConfig.push({columnRenderer:function l(m){return m[c('DestinationGraphApiFields').PRICE]},columnLabel:h._("Price"),field:c('DestinationGraphApiFields').PRICE,width:'90'});function k(l){return c('React').createElement('div',null,c('React').createElement('div',null,l.address.city),c('React').createElement('div',null,l.address.region),c('React').createElement('div',null,l.address.country))}f.exports=j}),null);
__d('FlightItemsTableConfig',['fbt','FlightFilterFieldsExternal','FlightGraphApiFields','ProductCatalogItemsDisplayOptionUtils','ProductItemImage.react','React','ProductFeedReusableComponents.brands'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('ProductFeedReusableComponents.brands').UrlCellRenderer,j={getDisplayName:function k(l){return l[c('FlightGraphApiFields').ORIGIN_AIRPORT]+' - '+l[c('FlightGraphApiFields').DESTINATION_AIRPORT]},getDisplayPrice:function k(l){return l[c('FlightGraphApiFields').PRICE]},getID:function k(l){return l[c('FlightGraphApiFields').ID]},getImageURL:function k(l){return c('ProductCatalogItemsDisplayOptionUtils').getImageUrl(l[c('FlightGraphApiFields').IMAGES])},imageField:null,tableConfig:[],propertiesToSearchBy:[c('FlightFilterFieldsExternal').ORIGIN_AIRPORT],searchTooltip:h._("Search by origin airport")};j.tableConfig.push({columnRenderer:function k(l){return l[c('FlightGraphApiFields').ORIGIN_AIRPORT]},columnLabel:h._("Origin Airport"),field:c('FlightGraphApiFields').ORIGIN_AIRPORT,width:'10'});j.tableConfig.push({columnRenderer:function k(l){return l[c('FlightGraphApiFields').DESTINATION_AIRPORT]},columnLabel:h._("Destination Airport"),field:c('FlightGraphApiFields').DESTINATION_AIRPORT,width:'10'});j.tableConfig.push({columnRenderer:function k(l){return c('React').createElement(c('ProductItemImage.react'),{height:50,imageUrl:j.getImageURL(l),width:50})},columnLabel:h._("Image"),field:c('FlightGraphApiFields').IMAGES,width:'70'});j.tableConfig.push({columnRenderer:function k(l){return c('React').createElement(i,{url:l[c('FlightGraphApiFields').URL],content:l[c('FlightGraphApiFields').URL]})},columnLabel:h._("URL"),field:c('FlightGraphApiFields').URL,width:'150'});j.tableConfig.push({columnRenderer:function k(l){return l[c('FlightGraphApiFields').DESCRIPTION]},columnLabel:h._("Description"),field:c('FlightGraphApiFields').DESCRIPTION,width:'120'});j.tableConfig.push({columnRenderer:function k(l){return l[c('FlightGraphApiFields').PRICE]},columnLabel:h._("Price"),field:c('FlightGraphApiFields').PRICE,width:'50'});f.exports=j}),null);
__d('HomeListingItemsTableConfig',['fbt','HomeListingFilterFieldsExternal','HomeListingGraphApiFields','ProductCatalogItemsDisplayOptionUtils','ProductItemImage.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i={getDisplayName:function j(k){return k[c('HomeListingGraphApiFields').NAME]},getDisplayPrice:function j(k){return k[c('HomeListingGraphApiFields').PRICE]},getID:function j(k){return k[c('HomeListingGraphApiFields').ID]},getImageURL:function j(k){return c('ProductCatalogItemsDisplayOptionUtils').getImageUrl(k[c('HomeListingGraphApiFields').IMAGES])},imageField:null,tableConfig:[],propertiesToSearchBy:[c('HomeListingFilterFieldsExternal').NAME],searchTooltip:h._("Search by title")};i.tableConfig.push({columnRenderer:function j(k){return k[c('HomeListingGraphApiFields').ADDRESS].city+', '+k[c('HomeListingGraphApiFields').ADDRESS].country},columnLabel:h._("Address"),field:c('HomeListingGraphApiFields').ADDRESS,width:'150'});i.tableConfig.push({columnRenderer:function j(k){return c('React').createElement(c('ProductItemImage.react'),{height:50,imageUrl:i.getImageURL(k),width:50})},columnLabel:h._("Image"),field:c('HomeListingGraphApiFields').IMAGES,width:'70'});i.tableConfig.push({columnRenderer:function j(k){return k[c('HomeListingGraphApiFields').DESCRIPTION]},columnLabel:h._("Description"),field:c('HomeListingGraphApiFields').DESCRIPTION,width:'120'});i.tableConfig.push({columnRenderer:function j(k){return k[c('HomeListingGraphApiFields').NUM_BEDS]},columnLabel:h._("Beds"),field:c('HomeListingGraphApiFields').NUM_BEDS,width:'70'});i.tableConfig.push({columnRenderer:function j(k){return k[c('HomeListingGraphApiFields').NUM_BATHS]},columnLabel:h._("Baths"),field:c('HomeListingGraphApiFields').NUM_BATHS,width:'70'});i.tableConfig.push({columnRenderer:function j(k){return k[c('HomeListingGraphApiFields').PRICE]},columnLabel:h._("Price"),field:c('HomeListingGraphApiFields').PRICE,width:'90'});f.exports=i}),null);
__d("DynamicItemImageParamGraphApiFields",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({IMAGE_URL:"image_url",TAGS:"tags"})}),null);
__d('HotelItemsTableConfig',['fbt','DynamicItemImageParamGraphApiFields','HotelFilterFieldsExternal','HotelGraphApiFields','ProductCatalogItemsDisplayOptionUtils','ProductItemImage.react','React','ProductFeedReusableComponents.brands'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('ProductFeedReusableComponents.brands').UrlCellRenderer,j={getDisplayName:function l(m){return m[c('HotelGraphApiFields').NAME]},getDisplayPrice:function l(m){return m[c('HotelGraphApiFields').LOWEST_BASE_PRICE]},getID:function l(m){return m[c('HotelGraphApiFields').ID]},getImageURL:function l(m){return c('ProductCatalogItemsDisplayOptionUtils').getImageUrl(m[c('HotelGraphApiFields').IMAGES])},imageField:c('DynamicItemImageParamGraphApiFields').IMAGE_URL,tableConfig:[],propertiesToSearchBy:[c('HotelFilterFieldsExternal').BRAND,c('HotelFilterFieldsExternal').HOTEL_ID,c('HotelFilterFieldsExternal').NAME],searchTooltip:h._("Search by title, ID or brand")};j.tableConfig.push({columnRenderer:function l(m){return m[c('HotelGraphApiFields').HOTEL_ID]},columnLabel:h._("Hotel ID"),field:c('HotelGraphApiFields').HOTEL_ID,width:'50'});j.tableConfig.push({columnRenderer:function l(m){return c('React').createElement(i,{url:m[c('HotelGraphApiFields').URL],content:m[c('HotelGraphApiFields').NAME]})},columnLabel:h._("Name"),field:c('HotelGraphApiFields').NAME,width:'100'});j.tableConfig.push({columnRenderer:function l(m){return c('React').createElement(c('ProductItemImage.react'),{height:50,imageUrl:j.getImageURL(m),width:50})},columnLabel:h._("Image"),field:c('HotelGraphApiFields').IMAGES,width:'70'});j.tableConfig.push({columnRenderer:function l(m){return m[c('HotelGraphApiFields').DESCRIPTION]},columnLabel:h._("Description"),field:c('HotelGraphApiFields').DESCRIPTION,width:'120'});j.tableConfig.push({columnRenderer:function l(m){return c('React').createElement(k,{addressString:m[c('HotelGraphApiFields').ADDRESS]})},columnLabel:h._("Address"),field:c('HotelGraphApiFields').ADDRESS,width:'100'});j.tableConfig.push({columnRenderer:function l(m){return m[c('HotelGraphApiFields').LOWEST_BASE_PRICE]},columnLabel:h._("Base Price"),field:c('HotelGraphApiFields').LOWEST_BASE_PRICE,width:'90'});function k(l){var m=JSON.parse(l.addressString);return c('React').createElement('div',null,c('React').createElement('div',null,m.street_address),c('React').createElement('div',null,m.postal_code,', ',m.region),c('React').createElement('div',null,m.country))}f.exports=j}),null);
__d('VehicleItemsTableConfig',['fbt','VehicleGraphApiFields','ProductCatalogItemsDisplayOptionUtils','ProductItemImage.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i={getDisplayName:function j(k){return k[c('VehicleGraphApiFields').TITLE]},getDisplayPrice:function j(k){return k[c('VehicleGraphApiFields').PRICE]},getID:function j(k){return k[c('VehicleGraphApiFields').ID]},getImageURL:function j(k){return c('ProductCatalogItemsDisplayOptionUtils').getImageUrl(k[c('VehicleGraphApiFields').IMAGES])},imageField:null,tableConfig:[],propertiesToSearchBy:[c('VehicleGraphApiFields').MAKE],searchTooltip:h._("Search by title")};i.tableConfig.push({columnRenderer:function j(k){return k[c('VehicleGraphApiFields').ADDRESS].city+', '+k[c('VehicleGraphApiFields').ADDRESS].country},columnLabel:h._("Address"),field:c('VehicleGraphApiFields').ADDRESS,width:'150'});i.tableConfig.push({columnRenderer:function j(k){return c('React').createElement(c('ProductItemImage.react'),{height:50,imageUrl:i.getImageURL(k),width:50})},columnLabel:h._("Image"),field:c('VehicleGraphApiFields').IMAGES,width:'70'});i.tableConfig.push({columnRenderer:function j(k){return k[c('VehicleGraphApiFields').DESCRIPTION]},columnLabel:h._("Description"),field:c('VehicleGraphApiFields').DESCRIPTION,width:'120'});i.tableConfig.push({columnRenderer:function j(k){return k[c('VehicleGraphApiFields').PRICE]},columnLabel:h._("Price"),field:c('VehicleGraphApiFields').PRICE,width:'90'});f.exports=i}),null);
__d('DynamicItemsTableUtils',['AdsGenericFilterOperator','AdsProductSetUtils','AdsWCAOperators','CatalogVertical','CommerceItemsTableConfig','DestinationItemsTableConfig','FlightItemsTableConfig','HomeListingItemsTableConfig','HotelItemsTableConfig','VehicleItemsTableConfig'],(function a(b,c,d,e,f,g){function h(i,j){var k=[];if(j!=='')i.forEach(function(l){k.push({property:l,operator:c('AdsGenericFilterOperator').CONTAIN,value:[j],plainText:j})});return c('AdsProductSetUtils').convertFilterFromUISpecToAPISpec(k,c('AdsWCAOperators').OR).filter}f.exports={getConfig:function i(j){switch(j){case c('CatalogVertical').DESTINATIONS:return c('DestinationItemsTableConfig');case c('CatalogVertical').FLIGHTS:return c('FlightItemsTableConfig');case c('CatalogVertical').HOME_LISTINGS:return c('HomeListingItemsTableConfig');case c('CatalogVertical').HOTELS:return c('HotelItemsTableConfig');case c('CatalogVertical').VEHICLES:return c('VehicleItemsTableConfig');case c('CatalogVertical').COMMERCE:default:return c('CommerceItemsTableConfig');}},getFilter:function i(j,k,l){var m=this.getConfig(j),n=m.propertiesToSearchBy,o=h(n,k);if(l.length===0)return o;var p=c('AdsProductSetUtils').convertFilterFromUISpecToAPISpec(l).filter;if(!k)return p;return {and:[o,p]}}}}),null);
__d('AdsDynamicItemsSample.react',['cx','fbt','ix','AdsCarousel.react','CenteredContainer.react','DynamicItemsTableUtils','Image.react','ProductItemImage.react','React','SUIBusinessTheme','SUISpinner.react','XUIButton.react','fbglyph','shallowArrayEqual'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=3,n=function t(u){var v=c('DynamicItemsTableUtils').getConfig(u.vertical),w=u.size==='large'?180:100;return c('React').createElement('div',{className:"_19gu"+(u.size==='large'?' '+"_3-91":'')+(u.size==='small'?' '+"_3-8_":'')},c('React').createElement('div',{style:{height:w+'px'}},c('React').createElement(c('ProductItemImage.react'),{height:w,imageUrl:v.getImageURL(u.item),width:w})),c('React').createElement('div',{className:(u.size==='large'?"_1s9n":'')+(u.size==='small'?' '+"_1s9o":'')},c('React').createElement('div',{className:"_1s9p"},v.getDisplayName(u.item)),c('React').createElement('div',{className:"_19gy"+(u.size==='large'?' '+"_3-8w":'')},v.getDisplayPrice(u.item))))},o=function t(u){return c('React').createElement(c('CenteredContainer.react'),{className:(u.size==='large'?"_1s9r":'')+(u.size==='small'?' '+"_1s9w":''),horizontal:true,vertical:true},c('React').createElement(c('SUISpinner.react'),{theme:c('SUIBusinessTheme')}))},p=function t(u){return c('React').createElement(c('CenteredContainer.react'),{className:(u.size==='large'?"_1s9r":'')+(u.size==='small'?' '+"_1s9w":''),horizontal:true,vertical:true},c('React').createElement(c('Image.react'),{height:50,src:j("27006"),width:50}))};function q(t){var u=t.size==='large'?j("130610"):j("130608");return c('React').createElement(c('Image.react'),{src:u})}function r(t){var u=t.size==='large'?j("130620"):j("130618");return c('React').createElement(c('Image.react'),{src:u})}k=babelHelpers.inherits(s,c('React').Component);l=k&&k.prototype;function s(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=l.constructor).call.apply(t,[this].concat(w)),this.state={firstShownIndex:0},this.$AdsDynamicItemsSample2=function(){this.setState({firstShownIndex:this.state.firstShownIndex+1});if(this.props.onCarouselNavigationClicked)this.props.onCarouselNavigationClicked();}.bind(this),this.$AdsDynamicItemsSample1=function(){this.setState({firstShownIndex:this.state.firstShownIndex-1});if(this.props.onCarouselNavigationClicked)this.props.onCarouselNavigationClicked();}.bind(this),u}s.prototype.componentWillReceiveProps=function(t){if(!t.isLoading&&this.props.onDynamicItemsLoaded)this.props.onDynamicItemsLoaded();var u=function w(x,y){return x.localeCompare(y)},v=function w(x){return String(x.id)};if(t.isLoading!==this.props.isLoading||!c('shallowArrayEqual')(this.props.dynamicItems.map(v).sort(u),t.dynamicItems.map(v).sort(u)))this.setState({firstShownIndex:0});};s.prototype.render=function(){return c('React').createElement('div',{className:"_19g_"},this.props.isLoading?c('React').createElement(o,{size:this.props.size}):this.props.dynamicItems.length===0?c('React').createElement(p,{size:this.props.size}):c('React').createElement('div',null,c('React').createElement(c('XUIButton.react'),{className:(this.props.size==='large'?"_1sa1":'')+(this.props.size==='small'?' '+"_1saa":'')+(this.state.firstShownIndex<=0?' '+"_19hd":'')+(' '+"_1sac"),image:c('React').createElement(q,{size:this.props.size}),label:i._("Left Arrow"),labelIsHidden:true,onClick:this.$AdsDynamicItemsSample1}),c('React').createElement(c('XUIButton.react'),{className:(this.props.size==='large'?"_1sa1":'')+(this.props.size==='small'?' '+"_1saa":'')+(this.state.firstShownIndex>this.props.dynamicItems.length-m?' '+"_19hd":'')+(' '+"_1sad"),image:c('React').createElement(r,{size:this.props.size}),label:i._("Right Arrow"),labelIsHidden:true,onClick:this.$AdsDynamicItemsSample2}),c('React').createElement(c('AdsCarousel.react'),{index:this.state.firstShownIndex},this.props.dynamicItems.map(function(t){return c('React').createElement(n,{item:t,key:t.id,size:this.props.size,vertical:this.props.vertical})}.bind(this)))))};s.defaultProps={showDetails:false};f.exports=s}),null);
__d('AdsDynamicItemListLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'dynamicItemListLoadError',actionType:'DYNAMIC_ITEM.LIST.LOAD_ERROR'};f.exports=h}),null);
__d('AdsDynamicItemListLoadErrorDataAction',['AdsDataActionCreator','AdsDynamicItemListLoadErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsDynamicItemListLoadErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsDynamicItemListLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'dynamicItemListLoaded',actionType:'DYNAMIC_ITEM.LIST.LOADED'};f.exports=h}),null);
__d('AdsDynamicItemListLoadedDataAction',['AdsDataActionCreator','AdsDynamicItemListLoadedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsDynamicItemListLoadedDataActionPlugin'));f.exports=h}),null);
__d('AdsDynamicItemListNextPageDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'dynamicItemListNextPage',actionType:'DYNAMIC_ITEM.LIST.NEXT_PAGE'};f.exports=h}),null);
__d('AdsDynamicItemListNextPageDataAction',['AdsDataActionCreator','AdsDynamicItemListNextPageDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsDynamicItemListNextPageDataActionPlugin'));f.exports=h}),null);
__d('AdsDynamicItemListReloadDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'dynamicItemListReload',actionType:'DYNAMIC_ITEM.LIST.RELOAD'};f.exports=h}),null);
__d('AdsDynamicItemListReloadDataAction',['AdsDataActionCreator','AdsDynamicItemListReloadDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsDynamicItemListReloadDataActionPlugin'));f.exports=h}),null);
__d('AdsDynamicItemListActions',['AdsDynamicItemListLoadedDataAction','AdsDynamicItemListLoadErrorDataAction','AdsDynamicItemListNextPageDataAction','AdsDynamicItemListReloadDataAction'],(function a(b,c,d,e,f,g){'use strict';var h={dynamicItemListLoaded:function i(j,k,l,m){c('AdsDynamicItemListLoadedDataAction').dispatch({key:j,dynamicItems:k,summary:l,afterCursor:m})},dynamicItemListLoadError:function i(j){c('AdsDynamicItemListLoadErrorDataAction').dispatch({key:j})},reload:function i(j){c('AdsDynamicItemListReloadDataAction').dispatch({key:j})},nextPage:function i(j){c('AdsDynamicItemListNextPageDataAction').dispatch({key:j})}};f.exports=h}),null);
__d('AdsDynamicItemListDataManager',['AdsBaseListDataManager','AdsDynamicItemListActions','AdsDynamicPreviewUtils','AdsGraphAPI','CatalogVertical'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=['id'],k=5,l=100,m=20;h=babelHelpers.inherits(n,c('AdsBaseListDataManager'));i=h&&h.prototype;n.prototype.loadForEnt=function(o,p,q,r,s){var t=arguments.length<=5||arguments[5]===undefined?{}:arguments[5],u=arguments[6],v=arguments[7],w=arguments[8];c('AdsGraphAPI').get(f.id).object(q,p).edge(c('AdsDynamicPreviewUtils').getGraphAPIEdge(o)).batched().get({fields:j,limit:r,filter:t,quality_filter:u,after:w,summary:true,sort:v}).done(this.__handleSuccess.bind(this,['load'],s,null),this.__handleError.bind(this,['load'],s,null))};n.prototype.loadFor=function(o){this.loadForEnt(c('CatalogVertical').COMMERCE,o,'set_id',k,o,{})};n.prototype.loadForSet=function(o,p,q,r,s,t,u,v){this.loadForEnt(o,p,'set_id',u||k,r,q,s,t,v)};n.prototype.loadForFeed=function(o,p,q,r,s,t,u,v){this.loadForEnt(o,p,'feed_id',u||l,r,q,s,t,v)};n.prototype.loadForCatalog=function(o,p,q,r,s,t,u,v){this.loadForEnt(o,p,'product_catalog_id',u||m,r,q,s,t,v)};n.prototype.__onBatchLoaded=function(o){o.forEach(function(p,q){c('AdsDynamicItemListActions').dynamicItemListLoaded(q,p.data,{totalCount:p.summary.total_count},p.paging?p.paging.cursors.after:undefined)})};n.prototype.__onBatchLoadError=function(o){o.forEach(function(p,q){c('AdsDynamicItemListActions').dynamicItemListLoadError(q)})};function n(){h.apply(this,arguments)}f.exports=new n()}),null);
__d('ProductsDynamicItemsTableSourceType',['keyMirror'],(function a(b,c,d,e,f,g){var h=c('keyMirror')({CATALOG:null,FEED:null,SET:null});f.exports=h}),null);
__d('AdsDynamicItemListStore',['invariant','AdsBaseListStore','AdsDataActionTypes','AdsDynamicItemListDataManager','AdsLoadState_LEGACY','Map','ProductsActionTypes','ProductsDynamicItemsTableSourceType','stableStringify'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=':';i=babelHelpers.inherits(l,c('AdsBaseListStore'));j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.idToKeyMap={},this.afterCursor=new (c('Map'))(),this.currentCursor=new (c('Map'))(),this.totalProductCounts=new (c('Map'))(),n}l.prototype.getStorageKey=function(m,n,o,p,q){return m+k+String(o)+k+String(p)+k+c('stableStringify')(q)+c('stableStringify')(n)};l.prototype.getDataManager=function(){return c('AdsDynamicItemListDataManager')};l.prototype.__onDispatch=function(m){var n=m.action;switch(n.actionType){case c('AdsDataActionTypes').dynamicItemListLoaded:this.afterCursor.set(n.key,n.afterCursor);if(n.summary)this.totalProductCounts.set(n.key,n.summary.totalCount);this.__handleDataFor(n.key,n.dynamicItems,c('AdsLoadState_LEGACY').LOADED);break;case c('AdsDataActionTypes').dynamicItemListLoadError:this.__handleDataFor(n.key,null,c('AdsLoadState_LEGACY').ERROR);break;case c('AdsDataActionTypes').dynamicItemListReload:if(this.__invalidate(n.key)){this.currentCursor['delete'](n.key);this.afterCursor['delete'](n.key);this.__emitChange()}break;case c('ProductsActionTypes').FEED.UPLOAD_FINISHED:var o=false;(this.idToKeyMap[n.feedID]||[]).forEach(function(q){o=o||this.__invalidate(q)}.bind(this));if(o)this.__emitChange();break;case c('AdsDataActionTypes').dynamicItemListNextPage:if(this.afterCursor.has(n.key)){var p=this.afterCursor.get(n.key);if(p)this.currentCursor.set(n.key,p);this.__invalidate(n.key);this.__emitChange()}break;}};l.prototype.$AdsDynamicItemListStore1=function(m,n,o,p,q,r){var s=this.getStorageKey(n,o,p,q,r);this.idToKeyMap[n]=this.idToKeyMap[n]||[];this.idToKeyMap[n].push(s);var t=this.getCachedFor(s);if(t.loadState===c('AdsLoadState_LEGACY').NOT_LOADED||t.loadState===c('AdsLoadState_LEGACY').ERROR){m(n,o||{},s);this.__updateLoadingFor([s]);return {loadState:c('AdsLoadState_LEGACY').LOADING,list:[]}}return t};l.prototype.getForFeed=function(m,n,o,p,q,r){return this.$AdsDynamicItemListStore1(function(s,t,u){return c('AdsDynamicItemListDataManager').loadForFeed(m,s,t,u,q,r,p,this.currentCursor.get(u))}.bind(this),n,o,p,q,r)};l.prototype.getForCatalog=function(m,n,o,p,q,r){return this.$AdsDynamicItemListStore1(function(s,t,u){return c('AdsDynamicItemListDataManager').loadForCatalog(m,s,t,u,q,r,p,this.currentCursor.get(u))}.bind(this),n,o,p,q,r)};l.prototype.getForSet=function(m,n,o,p,q,r){return this.$AdsDynamicItemListStore1(function(s,t,u){return c('AdsDynamicItemListDataManager').loadForSet(m,s,t,u,q,r,p,this.currentCursor.get(u))}.bind(this),n,o,p,q,r)};l.prototype.getForSourceType=function(m,n,o,p,q,r,s){switch(m){case c('ProductsDynamicItemsTableSourceType').FEED:return this.getForFeed(n,o,p,q,r,s);case c('ProductsDynamicItemsTableSourceType').SET:return this.getForSet(n,o,p,q,r,s);case c('ProductsDynamicItemsTableSourceType').CATALOG:return this.getForCatalog(n,o,p,q,r,s);default:return h(false,'Invalid dynamic items source type');}};l.prototype.hasNextPage=function(m,n,o,p,q,r){var s=this.getStorageKey(m,n,o,q,r);return this.afterCursor.get(s)!==undefined&&p!==this.totalProductCounts.get(s)};l.prototype.getTotalCount=function(m,n,o,p,q,r,s){var t=this.getStorageKey(o,p,q,r,s),u=this.totalProductCounts.get(t);if(u!==undefined)return u;this.getForSourceType(m,n,o,p,q,r,s);return undefined};f.exports=new l()}),null);
__d('DynamicItemsPlural$FbtEnum',[],(function a(b,c,d,e,f,g){'use strict';var h={auto_offers:'auto offers',automotive_listings:'automotive listings',commerce:'products',destinations:'destinations',flights:'flights',home_listings:'home listings',hotels:'hotels',vehicles:'vehicles'};f.exports=h}),null);
__d('ProductsContextTypes',['CatalogVertical','React'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes;f.exports={vertical:h.oneOf(Object.values(c('CatalogVertical'))).isRequired,catalogID:h.string.isRequired,ownerID:h.string.isRequired,ownerType:h.string.isRequired,config:h.object.isRequired}}),null);
__d('AdsProductSetFilterInputs.react',['cx','fbt','AdsCurrencyInput.react','AdsGenericFilterFieldType','AdsNumberInput.react','AdsProductSetFilterInputType','AdsProductSetFilterTokenizerContainer.react','AdsProductSetUtils','AdsWCAOperators','Currency','CurrencyConfig','DynamicItemsPlural$FbtEnum','ProductsContextTypes','React','ReactFragment','SUIBusinessTheme','SUISelector.react','SUISelectorOption.react','mapObject'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l,m;function n(w,x){return c('AdsProductSetUtils').getConfig(w)[x.property]}var o=100;j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(){var w,x;for(var y=arguments.length,z=Array(y),aa=0;aa<y;aa++)z[aa]=arguments[aa];return x=(w=k.constructor).call.apply(w,[this].concat(z)),this.$PECurrencyInput1=function(ba){var ca=ba,da=c('Currency').getOffset(this.props.currency);if(da>0)ca=ca/da*o;this.props.onDataUpdate(ca)}.bind(this),x}p.prototype.render=function(){var w=this.props.value,x=w;if(x){var y=c('Currency').getOffset(this.props.currency);x=x/o*y}return c('React').createElement(c('AdsCurrencyInput.react'),babelHelpers['extends']({},this.props,{value:x,onDataUpdate:this.$PECurrencyInput1}))};l=babelHelpers.inherits(q,c('React').Component);m=l&&l.prototype;function q(){var w,x;for(var y=arguments.length,z=Array(y),aa=0;aa<y;aa++)z[aa]=arguments[aa];return x=(w=m.constructor).call.apply(w,[this].concat(z)),this.$Selector1=function(ba){this.props.onChange({value:ba})}.bind(this),x}q.prototype.render=function(){return c('React').createElement(c('SUISelector.react'),{className_DEPRECATED:"_2sjv",maxHeight:300,placeholder:this.props.placeholder,theme:c('SUIBusinessTheme'),value:this.props.value,onChange:this.$Selector1},this.props.options)};var r=function w(x){var y=c('AdsProductSetUtils').getConfig(x.vertical),z=c('AdsProductSetUtils').getSortedProperties(x.vertical).map(function(aa){return y[aa]!==undefined?c('React').createElement(c('SUISelectorOption.react'),{key:aa,value:aa},y[aa].text):undefined}).filter(function(aa){return aa});return c('React').createElement(q,{options:c('ReactFragment').create(z),placeholder:x.placeholder,value:x.property,onChange:x.onProductItemPropertyChange})},s=function w(x){var y=n(x.vertical,x.filter).field.type;if(y!==c('AdsGenericFilterFieldType').CURRENCY)return null;var z=c('ReactFragment').create(c('mapObject')(c('CurrencyConfig').dynamicAdsCurrenciesByCode,function(aa,ba){return c('React').createElement(c('SUISelectorOption.react'),{key:aa.iso,value:aa.iso},i._("{currency code} - {currency name}",[i.param('currency code',aa.iso),i.param('currency name',aa.name)]))}));return c('React').createElement(q,{options:z,value:x.selectedCurrency,onChange:x.onSelectedCurrencyChange})},t=function w(x){var y=n(x.vertical,x.filter).operators;return c('React').createElement(q,{options:y.map(function(z){return c('React').createElement(c('SUISelectorOption.react'),{key:z.operator,value:z.operator},z.text)}),value:x.filter.operator,onChange:x.onProductItemFilterOperatorChange})},u=function w(x){var y=n(x.vertical,x.filter),z=c('React').createElement(c('AdsProductSetFilterTokenizerContainer.react'),{className:"_5gre",filter:x.filter,filters:x.filters,globalLogicOperator:x.globalLogicOperator,placeholder:y.placeholder,productCatalogID:x.productCatalogID,selectedCurrency:x.selectedCurrency,vertical:x.vertical,onChange:x.onProductItemFilterTokenizedValueChange,onQueryStringChange:x.onQueryStringChange});switch(y.inputType){case c('AdsProductSetFilterInputType').MIXED_INPUT:if(c('AdsProductSetUtils').isTokenizable(x.filter,x.vertical)){return z}else return c('React').createElement(c('AdsNumberInput.react'),{className:"_ev8",placeholder:y.placeholder,value:x.filter.value[0],onChange:x.onProductItemFilterNumericValueChange});case c('AdsProductSetFilterInputType').TOKENIZED_TEXT_INPUT:return z;case c('AdsProductSetFilterInputType').NUMERIC_TEXT_INPUT:return c('React').createElement(p,{className:"_5grp",currency:x.selectedCurrency,eventType:'change',height:'tall',placeholder:i._("Amount in {currency type}",[i.param('currency type',x.selectedCurrency)]),value:x.filter.value[0],withNumberDelimiters:true,xuiError:x.filter.error,onDataUpdate:x.onProductItemFilterNumericValueChange});case c('AdsProductSetFilterInputType').STAR_RATING_INPUT:return c('React').createElement(q,{options:y.values.map(function(aa){return c('React').createElement(c('SUISelectorOption.react'),{key:aa,value:aa},i._("{numeric star rating} Star Rating",[i.param('numeric star rating',aa)]))}),value:x.filter.value[0],onChange:x.onProductItemFilterStarRatingChange});default:return c('React').createElement('div',null);}},v=function w(x,y){return c('React').createElement('div',{className:"_2ujy"},i._({"auto_offers":"Match auto offers for {any\/all selector} of the following rules:","automotive_listings":"Match automotive listings for {any\/all selector} of the following rules:","commerce":"Match products for {any\/all selector} of the following rules:","destinations":"Match destinations for {any\/all selector} of the following rules:","flights":"Match flights for {any\/all selector} of the following rules:","home_listings":"Match home listings for {any\/all selector} of the following rules:","hotels":"Match hotels for {any\/all selector} of the following rules:","vehicles":"Match vehicles for {any\/all selector} of the following rules:"},[i['enum'](y.vertical,c('DynamicItemsPlural$FbtEnum')),i.param('any/all selector',c('React').createElement(q,{options:[c('React').createElement(c('SUISelectorOption.react'),{key:c('AdsWCAOperators').AND,value:c('AdsWCAOperators').AND},i._("All")),c('React').createElement(c('SUISelectorOption.react'),{key:c('AdsWCAOperators').OR,value:c('AdsWCAOperators').OR},i._("At least one"))],value:x.logicOperator,onChange:x.onGlobalLogicOperatorChange}))]))};v.contextTypes=c('ProductsContextTypes');f.exports={GlobalLogicOperatorSelector:v,PECurrencyInput:p,ProductItemPropertySelector:r,PriceFilterCurrencySelector:s,FilterOperatorSelector:t,FilterInput:u}}),null);
__d('AdsProductSetFilter.react',['ix','cx','fbt','AdsProductSetFilterInputType','AdsProductSetUtils','Image.react','Layout.react','ProductItemFilterFieldsExternal','React','XUISelector.react','ads-lib-formatters','fbglyph','AdsProductSetFilterInputs.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m,n=c('Layout.react').Column,o=c('Layout.react').FillColumn,p=c('XUISelector.react').Option,q=(m={},m[c('ProductItemFilterFieldsExternal').AVAILABILITY]=j._("Note: no out-of-stock products will be used in ads."),m),r=c('AdsProductSetFilterInputs.react').PECurrencyInput,s=c('AdsProductSetFilterInputs.react').ProductItemPropertySelector,t=c('AdsProductSetFilterInputs.react').PriceFilterCurrencySelector,u=c('AdsProductSetFilterInputs.react').FilterOperatorSelector,v=c('AdsProductSetFilterInputs.react').FilterInput;k=babelHelpers.inherits(w,c('React').Component);l=k&&k.prototype;function w(){var x,y;for(var z=arguments.length,aa=Array(z),ba=0;ba<z;ba++)aa[ba]=arguments[ba];return y=(x=l.constructor).call.apply(x,[this].concat(aa)),this.$AdsProductSetFilter1=function(ca){var da=c('AdsProductSetUtils').getConfig(this.props.vertical),ea={property:ca.value,operator:da[ca.value].defaultOperator,value:da[ca.value].defaultValue||[],plainText:''};this.props.onChange(ea)}.bind(this),this.$AdsProductSetFilter2=function(ca){var da=Object.assign({},this.props.filter,{operator:ca.value,value:[],plainText:''});this.props.onChange(da)}.bind(this),this.$AdsProductSetFilter6=function(ca){this.props.onSelectedCurrencyChange(ca.value)}.bind(this),this.$AdsProductSetFilter3=function(ca){var da=Object.assign({},this.props.filter,{value:ca!==null?[c('ads-lib-formatters').parseNumber(ca)]:[],plainText:'',error:null});this.props.onChange(da)}.bind(this),this.$AdsProductSetFilter5=function(ca){var da=Object.assign({},this.props.filter,{value:ca,plainText:'',error:null});this.props.onChange(da)}.bind(this),this.$AdsProductSetFilter4=function(ca){this.props.onChange(babelHelpers['extends']({},this.props.filter,{value:[ca.value],plainText:'',error:null}))}.bind(this),y}w.prototype.render=function(){var x=c('AdsProductSetUtils').getConfig(this.props.vertical);return c('React').createElement('div',{className:"_110z _110-"},c('React').createElement(c('Layout.react'),null,c('React').createElement(n,{className:"_110_"},c('React').createElement(s,{property:this.props.filter.property,vertical:this.props.vertical,onProductItemPropertyChange:this.$AdsProductSetFilter1})),c('React').createElement(n,null,c('React').createElement(u,{filter:this.props.filter,vertical:this.props.vertical,onProductItemFilterOperatorChange:this.$AdsProductSetFilter2})),c('React').createElement(o,{className:"_1110"},c('React').createElement(v,{filter:this.props.filter,filters:this.props.filters,globalLogicOperator:this.props.globalLogicOperator,productCatalogID:this.props.productCatalogID,selectedCurrency:this.props.selectedCurrency,vertical:this.props.vertical,onProductItemFilterNumericValueChange:this.$AdsProductSetFilter3,onProductItemFilterStarRatingChange:this.$AdsProductSetFilter4,onProductItemFilterTokenizedValueChange:this.$AdsProductSetFilter5,onQueryStringChange:this.props.onQueryStringChange})),c('React').createElement(n,null,c('React').createElement(t,{filter:this.props.filter,selectedCurrency:this.props.selectedCurrency,vertical:this.props.vertical,onSelectedCurrencyChange:this.$AdsProductSetFilter6})),c('React').createElement(n,null,c('React').createElement(c('Image.react'),{className:"_1111",src:h("126888"),onClick:this.props.onRemove}))),c('React').createElement('div',{className:"_3e6t"},x[this.props.filter.property].inputType===c('AdsProductSetFilterInputType').MIXED_INPUT&&c('AdsProductSetUtils').hasNumberOperator(this.props.filter)?j._("Note: a mix of numbers and text strings in {field name} may cause issues with this product set.",[j.param('field name',x[this.props.filter.property].text)]):q[this.props.filter.property]))};f.exports=w}),null);
__d('DynamicItems$FbtEnum',[],(function a(b,c,d,e,f,g){'use strict';var h={auto_offers:'auto offer',automotive_listings:'automotive listing',commerce:'product',destinations:'destination',flights:'flight',home_listings:'home listing',hotels:'hotel',vehicles:'vehicle'};f.exports=h}),null);
__d('DynamicItemsAllCaps$FbtEnum',[],(function a(b,c,d,e,f,g){'use strict';var h={auto_offers:'AUTO OFFER',automotive_listings:'AUTOMOTIVE LISTING',commerce:'PRODUCT',destinations:'DESTINATION',flights:'FLIGHT',home_listings:'HOME LISTING',hotels:'HOTEL',vehicles:'VEHICLE'};f.exports=h}),null);
__d('DynamicItemsCapitalized$FbtEnum',[],(function a(b,c,d,e,f,g){'use strict';var h={auto_offers:'Auto Offer',automotive_listings:'Automotive Listing',commerce:'Product',destinations:'Destination',flights:'Flight',home_listings:'Home Listing',hotels:'Hotel',vehicles:'Vehicle'};f.exports=h}),null);
__d('DynamicItemsPluralAllCaps$FbtEnum',[],(function a(b,c,d,e,f,g){'use strict';var h={auto_offers:'AUTO OFFERS',automotive_listings:'AUTOMOTIVE LISTINGS',commerce:'PRODUCTS',destinations:'DESTINATIONS',flights:'FLIGHTS',home_listings:'HOME LISTINGS',hotels:'HOTELS',vehicles:'VEHICLES'};f.exports=h}),null);
__d('ProductCatalogInfoTooltip.react',['ix','Image.react','React','Tooltip.react','fbglyph'],(function a(b,c,d,e,f,g,h){var i=function j(k){return c('React').createElement(c('Tooltip.react'),{tooltip:k.text},c('React').createElement(c('Image.react'),{src:k.icon||h("126340")}))};f.exports=i}),null);
__d('AdsNewProductSetDialogView.react',['cx','fbt','AdsDynamicItemsSample.react','AdsProductSetFilter.react','AdsProductSetFilterInputs.react','AdsWCAOperators','BUIAdoptionDialogButton.react','BUIAdoptionDialogCancelButton.react','BUIAdoptionHorizontalLayout.react','BUIAdoptionXUINotice.react','BUIAdoptionXUIText.react','BUIProgressBar.react','CatalogVertical','DynamicItems$FbtEnum','DynamicItemsAllCaps$FbtEnum','DynamicItemsCapitalized$FbtEnum','DynamicItemsPlural$FbtEnum','DynamicItemsPluralAllCaps$FbtEnum','LayerFadeOnShow','LayerHideOnEscape','Link.react','PlaceholderBlockText.react','ProductCatalogBusinessEventName','ProductCatalogBusinessEventsLoggerHelper','ProductCatalogInfoTooltip.react','ProductsContextTypes','ProductsSiteIdentifier.brands','React','SUIBusinessTheme','SUINotice.react','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react','XUITextInput.react','intlSummarizeNumber'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l,m,n,o,p=c('AdsProductSetFilterInputs.react').ProductItemPropertySelector,q=c('AdsProductSetFilterInputs.react').GlobalLogicOperatorSelector;function r(ba){switch(ba){case c('CatalogVertical').COMMERCE:return c('ProductsSiteIdentifier.brands').getProductSetDocumentationUri();case c('CatalogVertical').DESTINATIONS:return c('ProductsSiteIdentifier.brands').getDestinationSetDocumentationUri();case c('CatalogVertical').FLIGHTS:return c('ProductsSiteIdentifier.brands').getFlightSetDocumentationUri();case c('CatalogVertical').HOME_LISTINGS:return c('ProductsSiteIdentifier.brands').getHomeListingSetDocumentationUri();case c('CatalogVertical').HOTELS:return c('ProductsSiteIdentifier.brands').getHotelSetDocumentationUri();case c('CatalogVertical').VEHICLES:return c('ProductsSiteIdentifier.brands').getVehicleSetDocumentationUri();default:return null;}}j=babelHelpers.inherits(s,c('React').Component);k=j&&j.prototype;function s(){var ba,ca;for(var da=arguments.length,ea=Array(da),fa=0;fa<da;fa++)ea[fa]=arguments[fa];return ca=(ba=k.constructor).call.apply(ba,[this].concat(ea)),this.$AdsNewProductSetDialogFilter1=function(ga){this.props.onFilterChange(this.props.filterKey,ga)}.bind(this),this.$AdsNewProductSetDialogFilter2=function(event){this.props.onFilterQueryStringChange(this.props.filterKey,event)}.bind(this),this.$AdsNewProductSetDialogFilter3=function(){this.props.onRemoveFilter(this.props.filterKey)}.bind(this),ca}s.prototype.render=function(){return c('React').createElement(c('AdsProductSetFilter.react'),{filter:this.props.filter,filters:this.props.filters,globalLogicOperator:this.props.globalLogicOperator,productCatalogID:this.props.productCatalogID,selectedCurrency:this.props.selectedCurrency,vertical:this.props.vertical,onChange:this.$AdsNewProductSetDialogFilter1,onQueryStringChange:this.$AdsNewProductSetDialogFilter2,onRemove:this.$AdsNewProductSetDialogFilter3,onSelectedCurrencyChange:this.props.onSelectedCurrencyChange})};s.contextTypes=c('ProductsContextTypes');var t=function ba(ca){if(ca.filters.length===0)return null;var da=ca.filters.slice().map(function(ea,fa){var ga=fa===0?null:c('React').createElement('label',{className:"_396d"},ca.globalLogicOperator===c('AdsWCAOperators').OR?i._("OR"):i._("AND"));return c('React').createElement('div',{key:fa},ga,c('React').createElement(s,babelHelpers['extends']({},ca,{filter:ea,filterKey:fa,filters:ca.filters})))});return c('React').createElement('div',{className:"_4fkl"},c('React').createElement('div',{className:"_2kyo"},da))},u=function ba(ca){var da=[ca.prefillProductSetNoticeMessage?c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'information'},ca.prefillProductSetNoticeMessage):null,ca.duplicateProductSetName?c('React').createElement(c('SUINotice.react'),{noticeID:'duplicate product set exists',theme:c('SUIBusinessTheme'),type:'error',onClose:ca.onClearDupNotice},i._("A set with these filters already exists: {product_set_name}. Adjust your filters to create a new set.",[i.param('product_set_name',c('React').createElement('b',null,ca.duplicateProductSetName))])):null,ca.productCount===0?c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'information'},ca.label):null];return c('React').createElement('div',{className:"_4dtb"},da.filter(function(ea){return ea!==null}).map(function(ea,fa){return c('React').createElement('div',{className:"_4dtc",key:fa},ea)}))},v=function ba(ca,da){var ea=c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'small',weight:'bold'},ca.productCatalog.name),fa=r(ca.vertical),ga=fa?c('React').createElement(c('Link.react'),{href:fa,target:'_blank'},i._("Learn more.")):null;return c('React').createElement('div',{className:"_4fkj"},c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'small'},i._({"auto_offers":{"auto_offers":"Create a auto offer set using filters to better control which auto offers appear in your ads {learn_more_link}","automotive_listings":"Create a auto offer set using filters to better control which automotive listings appear in your ads {learn_more_link}","commerce":"Create a auto offer set using filters to better control which products appear in your ads {learn_more_link}","destinations":"Create a auto offer set using filters to better control which destinations appear in your ads {learn_more_link}","flights":"Create a auto offer set using filters to better control which flights appear in your ads {learn_more_link}","home_listings":"Create a auto offer set using filters to better control which home listings appear in your ads {learn_more_link}","hotels":"Create a auto offer set using filters to better control which hotels appear in your ads {learn_more_link}","vehicles":"Create a auto offer set using filters to better control which vehicles appear in your ads {learn_more_link}"},"automotive_listings":{"auto_offers":"Create a automotive listing set using filters to better control which auto offers appear in your ads {learn_more_link}","automotive_listings":"Create a automotive listing set using filters to better control which automotive listings appear in your ads {learn_more_link}","commerce":"Create a automotive listing set using filters to better control which products appear in your ads {learn_more_link}","destinations":"Create a automotive listing set using filters to better control which destinations appear in your ads {learn_more_link}","flights":"Create a automotive listing set using filters to better control which flights appear in your ads {learn_more_link}","home_listings":"Create a automotive listing set using filters to better control which home listings appear in your ads {learn_more_link}","hotels":"Create a automotive listing set using filters to better control which hotels appear in your ads {learn_more_link}","vehicles":"Create a automotive listing set using filters to better control which vehicles appear in your ads {learn_more_link}"},"commerce":{"auto_offers":"Create a product set using filters to better control which auto offers appear in your ads {learn_more_link}","automotive_listings":"Create a product set using filters to better control which automotive listings appear in your ads {learn_more_link}","commerce":"Create a product set using filters to better control which products appear in your ads {learn_more_link}","destinations":"Create a product set using filters to better control which destinations appear in your ads {learn_more_link}","flights":"Create a product set using filters to better control which flights appear in your ads {learn_more_link}","home_listings":"Create a product set using filters to better control which home listings appear in your ads {learn_more_link}","hotels":"Create a product set using filters to better control which hotels appear in your ads {learn_more_link}","vehicles":"Create a product set using filters to better control which vehicles appear in your ads {learn_more_link}"},"destinations":{"auto_offers":"Create a destination set using filters to better control which auto offers appear in your ads {learn_more_link}","automotive_listings":"Create a destination set using filters to better control which automotive listings appear in your ads {learn_more_link}","commerce":"Create a destination set using filters to better control which products appear in your ads {learn_more_link}","destinations":"Create a destination set using filters to better control which destinations appear in your ads {learn_more_link}","flights":"Create a destination set using filters to better control which flights appear in your ads {learn_more_link}","home_listings":"Create a destination set using filters to better control which home listings appear in your ads {learn_more_link}","hotels":"Create a destination set using filters to better control which hotels appear in your ads {learn_more_link}","vehicles":"Create a destination set using filters to better control which vehicles appear in your ads {learn_more_link}"},"flights":{"auto_offers":"Create a flight set using filters to better control which auto offers appear in your ads {learn_more_link}","automotive_listings":"Create a flight set using filters to better control which automotive listings appear in your ads {learn_more_link}","commerce":"Create a flight set using filters to better control which products appear in your ads {learn_more_link}","destinations":"Create a flight set using filters to better control which destinations appear in your ads {learn_more_link}","flights":"Create a flight set using filters to better control which flights appear in your ads {learn_more_link}","home_listings":"Create a flight set using filters to better control which home listings appear in your ads {learn_more_link}","hotels":"Create a flight set using filters to better control which hotels appear in your ads {learn_more_link}","vehicles":"Create a flight set using filters to better control which vehicles appear in your ads {learn_more_link}"},"home_listings":{"auto_offers":"Create a home listing set using filters to better control which auto offers appear in your ads {learn_more_link}","automotive_listings":"Create a home listing set using filters to better control which automotive listings appear in your ads {learn_more_link}","commerce":"Create a home listing set using filters to better control which products appear in your ads {learn_more_link}","destinations":"Create a home listing set using filters to better control which destinations appear in your ads {learn_more_link}","flights":"Create a home listing set using filters to better control which flights appear in your ads {learn_more_link}","home_listings":"Create a home listing set using filters to better control which home listings appear in your ads {learn_more_link}","hotels":"Create a home listing set using filters to better control which hotels appear in your ads {learn_more_link}","vehicles":"Create a home listing set using filters to better control which vehicles appear in your ads {learn_more_link}"},"hotels":{"auto_offers":"Create a hotel set using filters to better control which auto offers appear in your ads {learn_more_link}","automotive_listings":"Create a hotel set using filters to better control which automotive listings appear in your ads {learn_more_link}","commerce":"Create a hotel set using filters to better control which products appear in your ads {learn_more_link}","destinations":"Create a hotel set using filters to better control which destinations appear in your ads {learn_more_link}","flights":"Create a hotel set using filters to better control which flights appear in your ads {learn_more_link}","home_listings":"Create a hotel set using filters to better control which home listings appear in your ads {learn_more_link}","hotels":"Create a hotel set using filters to better control which hotels appear in your ads {learn_more_link}","vehicles":"Create a hotel set using filters to better control which vehicles appear in your ads {learn_more_link}"},"vehicles":{"auto_offers":"Create a vehicle set using filters to better control which auto offers appear in your ads {learn_more_link}","automotive_listings":"Create a vehicle set using filters to better control which automotive listings appear in your ads {learn_more_link}","commerce":"Create a vehicle set using filters to better control which products appear in your ads {learn_more_link}","destinations":"Create a vehicle set using filters to better control which destinations appear in your ads {learn_more_link}","flights":"Create a vehicle set using filters to better control which flights appear in your ads {learn_more_link}","home_listings":"Create a vehicle set using filters to better control which home listings appear in your ads {learn_more_link}","hotels":"Create a vehicle set using filters to better control which hotels appear in your ads {learn_more_link}","vehicles":"Create a vehicle set using filters to better control which vehicles appear in your ads {learn_more_link}"}},[i['enum'](da.vertical,c('DynamicItems$FbtEnum')),i['enum'](da.vertical,c('DynamicItemsPlural$FbtEnum')),i.param('learn_more_link',ga)])))};v.contextTypes=c('ProductsContextTypes');var w=function ba(ca,da){return c('React').createElement('div',{className:"_2kyp"},c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIText.react'),{className:"_2kyq",size:'medium'},i._({"auto_offers":"Name of Auto Offer Set","automotive_listings":"Name of Automotive Listing Set","commerce":"Name of Product Set","destinations":"Name of Destination Set","flights":"Name of Flight Set","home_listings":"Name of Home Listing Set","hotels":"Name of Hotel Set","vehicles":"Name of Vehicle Set"},[i['enum'](da.vertical,c('DynamicItemsCapitalized$FbtEnum'))]))),c('React').createElement('div',{className:"_2kyo"},c('React').createElement(c('XUITextInput.react'),{className:"_2kyr",height:'tall',placeholder:i._("Name"),value:ca.name,xuiError:ca.nameError,onChange:ca.onProductSetNameChange})))};w.contextTypes=c('ProductsContextTypes');function x(ba,ca){return (ba||0)/(ca||1)*100}l=babelHelpers.inherits(y,c('React').Component);m=l&&l.prototype;y.prototype.shouldComponentUpdate=function(ba){return ba.value!=null&&ba.total!=null};y.prototype.render=function(){return c('React').createElement('div',{className:"_43wj"},this.props.value!=null&&this.props.total!=null?c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'large',weight:'bold'},c('intlSummarizeNumber')(this.props.value)),c('React').createElement(c('BUIAdoptionXUIText.react'),{display:'block',shade:'light',size:'small',weight:'bold'},this.props.label,this.props.info?c('React').createElement('span',{className:"_5knh"},c('React').createElement(c('ProductCatalogInfoTooltip.react'),{text:this.props.info})):undefined),c('React').createElement('div',{className:"_8uz"},c('React').createElement(c('BUIProgressBar.react'),{className:"_8u-",height:'medium',padding:false,percentage:x(this.props.value,this.props.total),width:180}))):c('React').createElement('div',null,c('React').createElement(c('PlaceholderBlockText.react'),{characters:5,shade:'light'}),c('React').createElement('br',null),c('React').createElement(c('PlaceholderBlockText.react'),{characters:20,shade:'light'}),c('React').createElement('br',null),c('React').createElement(c('PlaceholderBlockText.react'),{characters:20,shade:'light'}),c('React').createElement('br',null)))};function y(){l.apply(this,arguments)}var z=function ba(ca,da){var ea=ca.currentViewsCount==null||ca.totalViewsCount==null?null:Math.min(ca.currentViewsCount,ca.totalViewsCount);return c('React').createElement('div',{className:"_8u_"},c('React').createElement('div',{className:(ca.productCount!==undefined?"_8v4":'')+(ca.productCount===undefined?' '+"_8v5":'')},c('React').createElement(y,{label:i._({"auto_offers":"AUTO OFFERS","automotive_listings":"AUTOMOTIVE LISTINGS","commerce":"PRODUCTS","destinations":"DESTINATIONS","flights":"FLIGHTS","home_listings":"HOME LISTINGS","hotels":"HOTELS","vehicles":"VEHICLES"},[i['enum'](da.vertical,c('DynamicItemsPluralAllCaps$FbtEnum'))]),total:ca.productCatalog.product_count,value:ca.productCount})),ea!=null||ca.viewsCountLoading?c('React').createElement('div',{className:(ea!=null?"_8v4":'')+(ea==null?' '+"_8v5":'')},c('React').createElement(y,{info:i._("The number of view-content events in the last 28 days on your app or website. Note: this data may be delayed up to 48 hrs."),label:i._({"auto_offers":"AUTO OFFER VIEWS \/ 28 DAYS","automotive_listings":"AUTOMOTIVE LISTING VIEWS \/ 28 DAYS","commerce":"PRODUCT VIEWS \/ 28 DAYS","destinations":"DESTINATION VIEWS \/ 28 DAYS","flights":"FLIGHT VIEWS \/ 28 DAYS","home_listings":"HOME LISTING VIEWS \/ 28 DAYS","hotels":"HOTEL VIEWS \/ 28 DAYS","vehicles":"VEHICLE VIEWS \/ 28 DAYS"},[i['enum'](da.vertical,c('DynamicItemsAllCaps$FbtEnum'))]),total:ca.totalViewsCount,value:ea})):undefined)};z.contextTypes=c('ProductsContextTypes');n=babelHelpers.inherits(aa,c('React').Component);o=n&&n.prototype;function aa(){var ba,ca;for(var da=arguments.length,ea=Array(da),fa=0;fa<da;fa++)ea[fa]=arguments[fa];return ca=(ba=o.constructor).call.apply(ba,[this].concat(ea)),this.$AdsNewProductSetDialogView2=function(){c('ProductCatalogBusinessEventsLoggerHelper').getProductSetsCreationDialogLogger(this.props.productCatalog.id).setEvent(c('ProductCatalogBusinessEventName').PRODUCT_SETS_CREATION_DIALOG_BROWSE_SAMPLE).log()}.bind(this),this.$AdsNewProductSetDialogView1=function(ga){if(!ga)this.props.onHide();}.bind(this),ca}aa.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerHideOnEscape:c('LayerHideOnEscape'),LayerFadeOnShow:c('LayerFadeOnShow')},shown:true,ref:'dialog',width:600,onToggle:this.$AdsNewProductSetDialogView1},c('React').createElement(c('XUIDialogTitle.react'),null,i._("{product_set_title}{product_catalog_name}",[i.param('product_set_title',i._({"auto_offers":"Create Auto Offer Set","automotive_listings":"Create Automotive Listing Set","commerce":"Create Product Set","destinations":"Create Destination Set","flights":"Create Flight Set","home_listings":"Create Home Listing Set","hotels":"Create Hotel Set","vehicles":"Create Vehicle Set"},[i['enum'](this.context.vertical,c('DynamicItemsCapitalized$FbtEnum'))])),i.param('product_catalog_name',' - '+this.props.productCatalog.name)])),c('React').createElement(c('XUIDialogBody.react'),{className:"_che"},c('React').createElement('div',{className:"_5jce"},c('React').createElement(u,{duplicateProductSetName:this.props.duplicateProductSetName,label:i._({"auto_offers":{"auto_offers":"You're creating a auto offer set with 0 auto offers .","automotive_listings":"You're creating a auto offer set with 0 automotive listings .","commerce":"You're creating a auto offer set with 0 products .","destinations":"You're creating a auto offer set with 0 destinations .","flights":"You're creating a auto offer set with 0 flights .","home_listings":"You're creating a auto offer set with 0 home listings .","hotels":"You're creating a auto offer set with 0 hotels .","vehicles":"You're creating a auto offer set with 0 vehicles ."},"automotive_listings":{"auto_offers":"You're creating a automotive listing set with 0 auto offers .","automotive_listings":"You're creating a automotive listing set with 0 automotive listings .","commerce":"You're creating a automotive listing set with 0 products .","destinations":"You're creating a automotive listing set with 0 destinations .","flights":"You're creating a automotive listing set with 0 flights .","home_listings":"You're creating a automotive listing set with 0 home listings .","hotels":"You're creating a automotive listing set with 0 hotels .","vehicles":"You're creating a automotive listing set with 0 vehicles ."},"commerce":{"auto_offers":"You're creating a product set with 0 auto offers .","automotive_listings":"You're creating a product set with 0 automotive listings .","commerce":"You're creating a product set with 0 products .","destinations":"You're creating a product set with 0 destinations .","flights":"You're creating a product set with 0 flights .","home_listings":"You're creating a product set with 0 home listings .","hotels":"You're creating a product set with 0 hotels .","vehicles":"You're creating a product set with 0 vehicles ."},"destinations":{"auto_offers":"You're creating a destination set with 0 auto offers .","automotive_listings":"You're creating a destination set with 0 automotive listings .","commerce":"You're creating a destination set with 0 products .","destinations":"You're creating a destination set with 0 destinations .","flights":"You're creating a destination set with 0 flights .","home_listings":"You're creating a destination set with 0 home listings .","hotels":"You're creating a destination set with 0 hotels .","vehicles":"You're creating a destination set with 0 vehicles ."},"flights":{"auto_offers":"You're creating a flight set with 0 auto offers .","automotive_listings":"You're creating a flight set with 0 automotive listings .","commerce":"You're creating a flight set with 0 products .","destinations":"You're creating a flight set with 0 destinations .","flights":"You're creating a flight set with 0 flights .","home_listings":"You're creating a flight set with 0 home listings .","hotels":"You're creating a flight set with 0 hotels .","vehicles":"You're creating a flight set with 0 vehicles ."},"home_listings":{"auto_offers":"You're creating a home listing set with 0 auto offers .","automotive_listings":"You're creating a home listing set with 0 automotive listings .","commerce":"You're creating a home listing set with 0 products .","destinations":"You're creating a home listing set with 0 destinations .","flights":"You're creating a home listing set with 0 flights .","home_listings":"You're creating a home listing set with 0 home listings .","hotels":"You're creating a home listing set with 0 hotels .","vehicles":"You're creating a home listing set with 0 vehicles ."},"hotels":{"auto_offers":"You're creating a hotel set with 0 auto offers .","automotive_listings":"You're creating a hotel set with 0 automotive listings .","commerce":"You're creating a hotel set with 0 products .","destinations":"You're creating a hotel set with 0 destinations .","flights":"You're creating a hotel set with 0 flights .","home_listings":"You're creating a hotel set with 0 home listings .","hotels":"You're creating a hotel set with 0 hotels .","vehicles":"You're creating a hotel set with 0 vehicles ."},"vehicles":{"auto_offers":"You're creating a vehicle set with 0 auto offers .","automotive_listings":"You're creating a vehicle set with 0 automotive listings .","commerce":"You're creating a vehicle set with 0 products .","destinations":"You're creating a vehicle set with 0 destinations .","flights":"You're creating a vehicle set with 0 flights .","home_listings":"You're creating a vehicle set with 0 home listings .","hotels":"You're creating a vehicle set with 0 hotels .","vehicles":"You're creating a vehicle set with 0 vehicles ."}},[i['enum'](this.context.vertical,c('DynamicItems$FbtEnum')),i['enum'](this.context.vertical,c('DynamicItemsPlural$FbtEnum'))]),prefillProductSetNoticeMessage:this.props.prefillProductSetNoticeMessage,productCount:this.props.productCount,onClearDupNotice:this.props.onClearDupNotice}),c('React').createElement(v,{productCatalog:this.props.productCatalog,vertical:this.props.vertical}),c('React').createElement(w,{name:this.props.name,nameError:this.props.nameError,onProductSetNameChange:this.props.onProductSetNameChange}),c('React').createElement(q,{logicOperator:this.props.globalLogicOperator,onGlobalLogicOperatorChange:this.props.onGlobalLogicOperatorChange}),c('React').createElement(t,{filters:this.props.filters,globalLogicOperator:this.props.globalLogicOperator,productCatalogID:this.props.productCatalog.id,selectedCurrency:this.props.selectedCurrency,vertical:this.props.vertical,onFilterChange:this.props.onFilterChange,onFilterQueryStringChange:this.props.onFilterQueryStringChange,onRemoveFilter:this.props.onRemoveFilter,onSelectedCurrencyChange:this.props.onSelectedCurrencyChange}),c('React').createElement('div',{className:"_2kyl"}),c('React').createElement('div',{className:"_4fki"},c('React').createElement('div',{className:"_1_rn"},c('React').createElement('span',{className:"_2d36"},i._("Add another")),c('React').createElement(p,{placeholder:i._("Select"),property:undefined,vertical:this.props.vertical,onProductItemPropertyChange:this.props.onNewFilterPropertyChange})))),c('React').createElement('div',null,c('React').createElement('div',{className:"_43wp"},c('React').createElement('div',{className:"_2kyl"}),c('React').createElement(z,{currentViewsCount:this.props.currentViewsCount,productCatalog:this.props.productCatalog,productCount:this.props.productCount,productCountLoading:this.props.productCountLoading,totalViewsCount:this.props.totalViewsCount,viewsCountLoading:this.props.viewsCountLoading})),c('React').createElement('div',{className:"_1s8j"},c('React').createElement(c('AdsDynamicItemsSample.react'),{dynamicItems:this.props.sampleDynamicItems,isLoading:this.props.isSampleLoading,size:'large',vertical:this.props.vertical,onCarouselNavigationClicked:this.$AdsNewProductSetDialogView2})))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('BUIAdoptionHorizontalLayout.react'),null,c('React').createElement(c('BUIAdoptionDialogCancelButton.react'),null),c('React').createElement(c('BUIAdoptionDialogButton.react'),{label:i._("Create"),layerAction:'confirm',use:'confirm',onClick:this.props.onConfirm}))))};aa.contextTypes=c('ProductsContextTypes');f.exports=aa}),null);
__d("DynamicItemDisplayFormats",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAROUSEL_AD:"carousel_ad",SINGLE_AD:"single_ad"})}),null);
__d('AdsProductItemDataManager',['fbt','AdsBaseDataManager','AdsGraphAPI','AdsProductItemActions','DynamicItemDisplayFormats','ProductItemGraphApiFields'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=[c('ProductItemGraphApiFields').RETAILER_ID,c('ProductItemGraphApiFields').AGE_GROUP,c('ProductItemGraphApiFields').APPLINKS,c('ProductItemGraphApiFields').AVAILABILITY,c('ProductItemGraphApiFields').BRAND,c('ProductItemGraphApiFields').CATEGORY,c('ProductItemGraphApiFields').COLOR,c('ProductItemGraphApiFields').CONDITION,c('ProductItemGraphApiFields').DESCRIPTION,c('ProductItemGraphApiFields').EXPIRATION_DATE,c('ProductItemGraphApiFields').GENDER,c('ProductItemGraphApiFields').GTIN,c('ProductItemGraphApiFields').HAS_MAIN_IMAGE_FETCHED,c('ProductItemGraphApiFields').ID,c('ProductItemGraphApiFields').IMAGE_URL,c('ProductItemGraphApiFields').RETAILER_PRODUCT_GROUP_ID,c('ProductItemGraphApiFields').MATERIAL,c('ProductItemGraphApiFields').MANUFACTURER_PART_NUMBER,c('ProductItemGraphApiFields').NAME,c('ProductItemGraphApiFields').PATTERN,c('ProductItemGraphApiFields').PRICE,c('ProductItemGraphApiFields').PRODUCT_TYPE,c('ProductItemGraphApiFields').SALE_PRICE,c('ProductItemGraphApiFields').SALE_PRICE_START_DATE,c('ProductItemGraphApiFields').SALE_PRICE_END_DATE,c('ProductItemGraphApiFields').SHIPPING_WEIGHT_VALUE,c('ProductItemGraphApiFields').SHIPPING_WEIGHT_UNIT,c('ProductItemGraphApiFields').SIZE,c('ProductItemGraphApiFields').START_DATE,c('ProductItemGraphApiFields').URL,'product_feed.fields(id)',c('ProductItemGraphApiFields').CUSTOM_LABEL_0,c('ProductItemGraphApiFields').CUSTOM_LABEL_1,c('ProductItemGraphApiFields').CUSTOM_LABEL_2,c('ProductItemGraphApiFields').CUSTOM_LABEL_3,c('ProductItemGraphApiFields').CUSTOM_LABEL_4,c('ProductItemGraphApiFields').DA_DISPLAY_PREVIEW_URL+'.format('+c('DynamicItemDisplayFormats').CAROUSEL_AD+')'];i=babelHelpers.inherits(l,c('AdsBaseDataManager'));j=i&&i.prototype;l.prototype.loadAll=function(m){m.forEach(function(n){return this.load(n)}.bind(this))};l.prototype.load=function(m){c('AdsGraphAPI').get(f.id).object('product_item',m).batched().get({fields:k}).done(this.__handleSuccess.bind(this,['load'],m,null),this.__handleError.bind(this,['load'],m,null))};l.prototype.__onBatchLoaded=function(m){c('AdsProductItemActions').productItemBatchLoaded(m)};l.prototype.__onBatchLoadError=function(m){c('AdsProductItemActions').productItemBatchLoadError(m)};l.prototype.__getObjectTypeLabel=function(){return h._("Product Item")};function l(){i.apply(this,arguments)}f.exports=new l()}),null);
__d('AdsProductItemStore',['AdsBaseDataStore','AdsDataActionTypes','AdsLoadState_LEGACY','AdsProductItemDataManager'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseDataStore'));i=h&&h.prototype;j.prototype.getDataManager=function(){return c('AdsProductItemDataManager')};j.prototype.__onDispatch=function(k){var l=k.action;switch(l.actionType){case c('AdsDataActionTypes').productItemBatchLoaded:this.__handleData(l.products,c('AdsLoadState_LEGACY').LOADED);break;case c('AdsDataActionTypes').productItemBatchLoadError:this.__handleData(l.errors,c('AdsLoadState_LEGACY').ERROR);break;}};function j(){h.apply(this,arguments)}f.exports=new j()}),null);
__d('AdsProductSetPaneStore',['AdsDataActionTypes','AdsDispatcher','AdsNewIDs','FluxStore','adsBaseStoreMixin_DEPRECATED'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin_DEPRECATED')(this);this.$AdsProductSetPaneStoreClass1=this.getNewCreationID()}j.prototype.getNewCreationID=function(){return ''+c('AdsNewIDs').newNegativeID()};j.prototype.__onDispatch=function(l){var m=l.action;switch(m.actionType){case c('AdsDataActionTypes').productSetCreateBatch:this.$AdsProductSetPaneStoreClass1=m.objectsData[0].tempID;break;}};j.prototype.getCurrentCreationID=function(){return this.$AdsProductSetPaneStoreClass1};var k=new j();f.exports=k}),null);
__d('DestinationActions',['AdsDispatcher','ProductsActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={destinationBatchLoaded:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({destinations:j,type:c('ProductsActionTypes').DESTINATION.BATCH_LOADED})},destinationBatchLoadError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({errors:j,type:c('ProductsActionTypes').DESTINATION.BATCH_LOAD_ERROR})}};f.exports=h}),null);
__d('DestinationDataManager',['AdsBaseDataManager','DestinationActions','DestinationGraphApiFields','GraphAPI','ProductsAPIConfig'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=[c('DestinationGraphApiFields').ADDRESS,c('DestinationGraphApiFields').APPLINKS,c('DestinationGraphApiFields').CURRENCY,c('DestinationGraphApiFields').DESCRIPTION,c('DestinationGraphApiFields').DESTINATION_ID,c('DestinationGraphApiFields').ID,c('DestinationGraphApiFields').IMAGES,c('DestinationGraphApiFields').PRICE,c('DestinationGraphApiFields').PRICE_CHANGE,c('DestinationGraphApiFields').NAME,c('DestinationGraphApiFields').TYPES,c('DestinationGraphApiFields').URL];h=babelHelpers.inherits(k,c('AdsBaseDataManager'));i=h&&h.prototype;k.prototype.loadAll=function(l){l.forEach(function(m){return this.load(m)}.bind(this))};k.prototype.load=function(l){c('GraphAPI')(c('ProductsAPIConfig').version).object('destination',l).batched().get({fields:j}).done(this.__handleSuccess.bind(this,['load'],l,null),this.__handleError.bind(this,['load'],l,null))};k.prototype.__onBatchLoaded=function(l){c('DestinationActions').destinationBatchLoaded(l)};k.prototype.__onBatchLoadError=function(l){c('DestinationActions').destinationBatchLoadError(l)};function k(){h.apply(this,arguments)}f.exports=new k()}),null);
__d('DestinationStore',['AdsBaseDataStore','AdsLoadState_LEGACY','DestinationDataManager','ProductsActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseDataStore'));i=h&&h.prototype;j.prototype.getDataManager=function(){return c('DestinationDataManager')};j.prototype.__onDispatch=function(k){var l=k.action;switch(l.type){case c('ProductsActionTypes').DESTINATION.BATCH_LOADED:this.__handleData(l.destinations,c('AdsLoadState_LEGACY').LOADED);break;case c('ProductsActionTypes').DESTINATION.BATCH_LOAD_ERROR:this.__handleData(l.errors,c('AdsLoadState_LEGACY').ERROR);break;}};function j(){h.apply(this,arguments)}f.exports=new j()}),null);
__d('FlightActions',['AdsDispatcher','ProductsActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={flightBatchLoaded:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({flights:j,type:c('ProductsActionTypes').FLIGHT.BATCH_LOADED})},flightBatchLoadError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({errors:j,type:c('ProductsActionTypes').FLIGHT.BATCH_LOAD_ERROR})}};f.exports=h}),null);
__d('FlightDataManager',['AdsBaseDataManager','GraphAPI','FlightActions','FlightGraphApiFields','ProductsAPIConfig'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=[c('FlightGraphApiFields').DESCRIPTION,c('FlightGraphApiFields').DESTINATION_AIRPORT,c('FlightGraphApiFields').ID,c('FlightGraphApiFields').IMAGES,c('FlightGraphApiFields').ORIGIN_AIRPORT,c('FlightGraphApiFields').PRICE,c('FlightGraphApiFields').URL];h=babelHelpers.inherits(k,c('AdsBaseDataManager'));i=h&&h.prototype;k.prototype.loadAll=function(l){l.forEach(function(m){return this.load(m)}.bind(this))};k.prototype.load=function(l){c('GraphAPI')(c('ProductsAPIConfig').version).object('flight',l).batched().get({fields:j}).done(this.__handleSuccess.bind(this,['load'],l,null),this.__handleError.bind(this,['load'],l,null))};k.prototype.__onBatchLoaded=function(l){c('FlightActions').flightBatchLoaded(l)};k.prototype.__onBatchLoadError=function(l){c('FlightActions').flightBatchLoadError(l)};function k(){h.apply(this,arguments)}f.exports=new k()}),null);
__d('FlightStore',['AdsBaseDataStore','AdsLoadState_LEGACY','FlightDataManager','ProductsActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseDataStore'));i=h&&h.prototype;j.prototype.getDataManager=function(){return c('FlightDataManager')};j.prototype.__onDispatch=function(k){var l=k.action;switch(l.type){case c('ProductsActionTypes').FLIGHT.BATCH_LOADED:this.__handleData(l.flights,c('AdsLoadState_LEGACY').LOADED);break;case c('ProductsActionTypes').FLIGHT.BATCH_LOAD_ERROR:this.__handleData(l.errors,c('AdsLoadState_LEGACY').ERROR);break;}};function j(){h.apply(this,arguments)}f.exports=new j()}),null);
__d('HomeListingActions',['AdsDispatcher','ProductsActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={homeListingBatchLoaded:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({home_listings:j,type:c('ProductsActionTypes').HOME_LISTING.BATCH_LOADED})},homeListingBatchLoadError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({errors:j,type:c('ProductsActionTypes').HOME_LISTING.BATCH_LOAD_ERROR})}};f.exports=h}),null);
__d('HomeListingDataManager',['AdsBaseDataManager','GraphAPI','HomeListingActions','HomeListingGraphApiFields','ProductsAPIConfig'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=[c('HomeListingGraphApiFields').ADDRESS,c('HomeListingGraphApiFields').APPLINKS,c('HomeListingGraphApiFields').DESCRIPTION,c('HomeListingGraphApiFields').HOME_LISTING_ID,c('HomeListingGraphApiFields').ID,c('HomeListingGraphApiFields').IMAGES,c('HomeListingGraphApiFields').NAME,c('HomeListingGraphApiFields').PRICE,c('HomeListingGraphApiFields').URL];h=babelHelpers.inherits(k,c('AdsBaseDataManager'));i=h&&h.prototype;k.prototype.loadAll=function(l){l.forEach(function(m){return this.load(m)}.bind(this))};k.prototype.load=function(l){c('GraphAPI')(c('ProductsAPIConfig').version).object('home_listing',l).batched().get({fields:j}).done(this.__handleSuccess.bind(this,['load'],l,null),this.__handleError.bind(this,['load'],l,null))};k.prototype.__onBatchLoaded=function(l){c('HomeListingActions').homeListingBatchLoaded(l)};k.prototype.__onBatchLoadError=function(l){c('HomeListingActions').homeListingBatchLoadError(l)};function k(){h.apply(this,arguments)}f.exports=new k()}),null);
__d('HomeListingStore',['AdsBaseDataStore','AdsLoadState_LEGACY','HomeListingDataManager','ProductsActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseDataStore'));i=h&&h.prototype;j.prototype.getDataManager=function(){return c('HomeListingDataManager')};j.prototype.__onDispatch=function(k){var l=k.action;switch(l.actionType){case c('ProductsActionTypes').HOME_LISTING.BATCH_LOADED:this.__handleData(l.home_listings,c('AdsLoadState_LEGACY').LOADED);break;case c('ProductsActionTypes').HOME_LISTING.BATCH_LOAD_ERROR:this.__handleData(l.errors,c('AdsLoadState_LEGACY').ERROR);break;}};function j(){h.apply(this,arguments)}f.exports=new j()}),null);
__d('HotelActions',['AdsDispatcher','ProductsActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={hotelBatchLoaded:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({hotels:j,type:c('ProductsActionTypes').HOTEL.BATCH_LOADED})},hotelBatchLoadError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({errors:j,type:c('ProductsActionTypes').HOTEL.BATCH_LOAD_ERROR})}};f.exports=h}),null);
__d('HotelDataManager',['AdsBaseDataManager','GraphAPI','HotelActions','HotelGraphApiFields','ProductsAPIConfig'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=[c('HotelGraphApiFields').ADDRESS,c('HotelGraphApiFields').APPLINKS,c('HotelGraphApiFields').BRAND,c('HotelGraphApiFields').DESCRIPTION,c('HotelGraphApiFields').HOTEL_ID,c('HotelGraphApiFields').ID,c('HotelGraphApiFields').IMAGES,c('HotelGraphApiFields').LOWEST_BASE_PRICE,c('HotelGraphApiFields').NAME,c('HotelGraphApiFields').URL];h=babelHelpers.inherits(k,c('AdsBaseDataManager'));i=h&&h.prototype;k.prototype.loadAll=function(l){l.forEach(function(m){return this.load(m)}.bind(this))};k.prototype.load=function(l){c('GraphAPI')(c('ProductsAPIConfig').version).object('hotel',l).batched().get({fields:j}).done(this.__handleSuccess.bind(this,['load'],l,null),this.__handleError.bind(this,['load'],l,null))};k.prototype.__onBatchLoaded=function(l){c('HotelActions').hotelBatchLoaded(l)};k.prototype.__onBatchLoadError=function(l){c('HotelActions').hotelBatchLoadError(l)};function k(){h.apply(this,arguments)}f.exports=new k()}),null);
__d('HotelStore',['AdsBaseDataStore','AdsLoadState_LEGACY','HotelDataManager','ProductsActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseDataStore'));i=h&&h.prototype;j.prototype.getDataManager=function(){return c('HotelDataManager')};j.prototype.__onDispatch=function(k){var l=k.action;switch(l.actionType){case c('ProductsActionTypes').HOTEL.BATCH_LOADED:this.__handleData(l.hotels,c('AdsLoadState_LEGACY').LOADED);break;case c('ProductsActionTypes').HOTEL.BATCH_LOAD_ERROR:this.__handleData(l.errors,c('AdsLoadState_LEGACY').ERROR);break;}};function j(){h.apply(this,arguments)}f.exports=new j()}),null);
__d('ProductCatalogDynamicItemsSummaryStore',['AdsActionTypes','AdsDispatcher','AdsDynamicItemListDataManager','FluxReduceStore','immutable','LoadObject'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=':';h=babelHelpers.inherits(k,c('FluxReduceStore'));i=h&&h.prototype;k.prototype.getStorageKey=function(l,m,n){return l+j+String(n)+j+JSON.stringify(m)};k.prototype.getInitialState=function(){return c('immutable').Map()};k.prototype.reduce=function(l,m){var n=m.action;switch(n.actionType){case c('AdsActionTypes').DYNAMIC_ITEM.LIST.LOADED:return this.$ProductCatalogDynamicItemsSummaryStoreClass1(l,n.key,n.summary);case c('AdsActionTypes').DYNAMIC_ITEM.LIST.LOAD_ERROR:return this.$ProductCatalogDynamicItemsSummaryStoreClass1(l,n.key,n.summary,new Error('Could not load data for '+n.sourceID));case c('AdsActionTypes').DYNAMIC_ITEM.LIST.RELOAD:return l['delete'](n.key);}return l};k.prototype.$ProductCatalogDynamicItemsSummaryStoreClass2=function(l,m,n,o){var p=this.getStorageKey(m,n,o),q=this.getState().get(p);if(!q){l(p,m,n);return c('LoadObject').loading()}return q};k.prototype.getForProductCatalog=function(l,m,n,o){return this.$ProductCatalogDynamicItemsSummaryStoreClass2(function(p,q,r){c('AdsDynamicItemListDataManager').loadForCatalog(l,q,r,p,o)},m,n,o)};k.prototype.getForSet=function(l,m,n,o){return this.$ProductCatalogDynamicItemsSummaryStoreClass2(function(p,q,r){c('AdsDynamicItemListDataManager').loadForSet(l,q,r,p,o)},m,n,o)};k.prototype.getForFeed=function(l,m,n,o){return this.$ProductCatalogDynamicItemsSummaryStoreClass2(function(p,q,r){c('AdsDynamicItemListDataManager').loadForFeed(l,q,r,p,o)},m,n,o)};k.prototype.$ProductCatalogDynamicItemsSummaryStoreClass1=function(l,m,n){var o=arguments.length<=3||arguments[3]===undefined?null:arguments[3],p=c('LoadObject').withValue(n);if(o)p=p.setError(o);return l.set(m,p)};function k(){h.apply(this,arguments)}f.exports=new k(c('AdsDispatcher'))}),null);
__d('CatalogVerticalGroup',['keyMirror'],(function a(b,c,d,e,f,g){var h=c('keyMirror')({COMMERCE:null,TRAVEL:null,REAL_ESTATE:null,AUTO:null});f.exports=h}),null);
__d('CommerceCatalogManagerConfig',['fbt','CatalogVerticalGroup','CatalogVertical'],(function a(b,c,d,e,f,g,h){var i={enabled:true,vertical:c('CatalogVertical').COMMERCE,verticalGroup:c('CatalogVerticalGroup').COMMERCE,catalogCreation:{verticalSubtitle:h._("Products sold online")},feedUpload:{}};f.exports=i}),null);
__d('DestinationsCatalogManagerConfig',['CatalogVerticalGroup','CatalogVertical'],(function a(b,c,d,e,f,g){var h={enabled:true,vertical:c('CatalogVertical').DESTINATIONS,verticalGroup:c('CatalogVerticalGroup').TRAVEL,catalogCreation:{},feedUpload:{}};f.exports=h}),null);
__d('FlightsCatalogManagerConfig',['CatalogVerticalGroup','CatalogVertical','JSResource'],(function a(b,c,d,e,f,g){var h={enabled:true,vertical:c('CatalogVertical').FLIGHTS,verticalGroup:c('CatalogVerticalGroup').TRAVEL,catalogCreation:{verticalSpecificStep:c('JSResource')('ProductsFlightCatalogCreationContainer.react').__setRef('FlightsCatalogManagerConfig')},feedUpload:{}};f.exports=h}),null);
__d('HomeListingsCatalogManagerConfig',['CatalogVerticalGroup','CatalogVertical'],(function a(b,c,d,e,f,g){var h={enabled:true,vertical:c('CatalogVertical').HOME_LISTINGS,verticalGroup:c('CatalogVerticalGroup').REAL_ESTATE,catalogCreation:{},feedUpload:{}};f.exports=h}),null);
__d('HotelsCatalogManagerConfig',['CatalogVerticalGroup','CatalogVertical'],(function a(b,c,d,e,f,g){var h={enabled:true,vertical:c('CatalogVertical').HOTELS,verticalGroup:c('CatalogVerticalGroup').TRAVEL,catalogCreation:{},feedUpload:{}};f.exports=h}),null);
__d('VehiclesCatalogManagerConfig',['CatalogVerticalGroup','CatalogVertical'],(function a(b,c,d,e,f,g){var h={enabled:true,vertical:c('CatalogVertical').VEHICLES,verticalGroup:c('CatalogVerticalGroup').AUTO,catalogCreation:{},feedUpload:{}};f.exports=h}),null);
__d('ProductsCatalogManagerConfigUtils',['CommerceCatalogManagerConfig','DestinationsCatalogManagerConfig','FlightsCatalogManagerConfig','HomeListingsCatalogManagerConfig','HotelsCatalogManagerConfig','VehiclesCatalogManagerConfig'],(function a(b,c,d,e,f,g){var h=[c('CommerceCatalogManagerConfig'),c('HotelsCatalogManagerConfig'),c('FlightsCatalogManagerConfig'),c('DestinationsCatalogManagerConfig'),c('HomeListingsCatalogManagerConfig'),c('VehiclesCatalogManagerConfig')],i={getConfig:function j(k){var l=h.find(function(m){return m.vertical===k});if(!l)throw new Error('Vertical not implemented');return l},getVerticalsForVerticalGroup:function j(k){return h.filter(function(l){return l.verticalGroup===k}).map(function(l){return l.vertical})}};f.exports=i}),null);
__d("ProductCatalogOwnerType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BUSINESS:"business",PAGE:"page",PERSONAL:"personal"})}),null);
__d('extractOwnerFromCatalog',['fbt','ProductCatalogOwnerType'],(function a(b,c,d,e,f,g,h){'use strict';var i='personal',j=h._("Personal");function k(l){var m=null,n=null;if(l.business){m=c('ProductCatalogOwnerType').BUSINESS;n=l.business}else if(l.page){m=c('ProductCatalogOwnerType').PAGE;n=l.page}else{n={id:i,name:j};m=c('ProductCatalogOwnerType').PERSONAL}return {owner:n,ownerType:m}}f.exports=k}),null);
__d('ProductsContextContainer.react',['AdsLoadStateUtils_LEGACY','CatalogVertical','FluxContainer','ProductAppContextActions','ProductCatalogStore','ProductsCatalogManagerConfigUtils','ProductsContextTypes','React','SUIBusinessThemeContainer.react','extractOwnerFromCatalog'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.getStores=function(){return [c('ProductCatalogStore')]};k.calculateState=function(l,m){var n=l||{catalogID:m.catalogID,ownerID:'',ownerType:'',vertical:c('CatalogVertical').COMMERCE,initialized:false},o=n.ownerID,p=n.ownerType,q=n.vertical,r=n.initialized,s=m.catalogID;if(s){var t=c('ProductCatalogStore').get(s),u=c('AdsLoadStateUtils_LEGACY').isLoading(t);if(!u){q=t.vertical;var v=c('extractOwnerFromCatalog')(t);o=v.owner.id;p=v.ownerType;r=true}}c('ProductAppContextActions').set({catalogID:s,ownerID:o,ownerType:p,vertical:q});return {catalogID:s,ownerID:o,ownerType:p,vertical:q,initialized:r,config:c('ProductsCatalogManagerConfigUtils').getConfig(q)}};k.prototype.getChildContext=function(){return {vertical:this.state.vertical,catalogID:this.state.catalogID,ownerID:this.state.ownerID,ownerType:this.state.ownerType,config:this.state.config}};k.prototype.render=function(){if(!this.state.initialized)return c('React').createElement('div',null);return c('React').createElement(c('SUIBusinessThemeContainer.react'),null,c('React').createElement('div',{key:this.state.vertical+':'+this.state.catalogID},this.props.children))};function k(){h.apply(this,arguments)}k.childContextTypes=c('ProductsContextTypes');f.exports=c('FluxContainer').create(k,{withProps:true})}),null);
__d('ProductsFacetAggregation',['keyMirror'],(function a(b,c,d,e,f,g){var h=c('keyMirror')({MAX:null,MIN:null,SUM:null,HISTOGRAM:null});f.exports=h}),null);
__d('ProductsFacetAggregationActions',['AdsDispatcher','ProductsActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={aggregationLoaded:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse(babelHelpers['extends']({},j,{result:k,type:c('ProductsActionTypes').PRODUCTS_FACET_AGREGGATION.LOADED}))},aggregationLoadError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse(babelHelpers['extends']({},j,{type:c('ProductsActionTypes').PRODUCTS_FACET_AGREGGATION.LOAD_ERROR}))}};f.exports=h}),null);
__d('ProductsFacetAggregationDataManager',['AdsAbstractDataManager','AdsProductSetUtils','GraphAPI','ProductsAPIConfig','ProductsFacetAggregationActions','idx'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsAbstractDataManager'));i=h&&h.prototype;j.prototype.load=function(k,l,m,n,o,p,q){var r={aggregations:l,catalogID:k,filters:m,property:n,qualityFilter:o,globalLogicOperator:p,interval:q},s=c('AdsProductSetUtils').convertFilterFromUISpecToAPISpec(m),t=s.filter,u={};l.forEach(function(v){u[v]={field:n,type:v.toLowerCase(),interval:q}});c('GraphAPI')(c('ProductsAPIConfig').version).object('catalog_id',k).edge('facets').get({filter:JSON.stringify(t),quality_filter:o,facets:u}).done(this.__handleSuccess.bind(this,['load'],r,null),this.__handleError.bind(this,['load'],r,null))};j.prototype.__onBatchLoaded=function(k){k.forEach(function(l,m){var n,o=((n=l)!=null?(n=n.data)!=null?(n=n[0])!=null?n.facets:n:n:n)||{},p=o?o.reduce(function(q,r){var s;return Object.assign({},q,(s={},s[r.key]=r.value,s))},{}):{};c('ProductsFacetAggregationActions').aggregationLoaded(m,p)})};j.prototype.__onBatchLoadError=function(k){k.forEach(function(l,m){c('ProductsFacetAggregationActions').aggregationLoadError(m)})};function j(){h.apply(this,arguments)}f.exports=new j()}),null);
__d('ProductsFluxMultiParamLoadObjectStore',['FluxLoadObjectStore','stableJSONStringify'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxLoadObjectStore'));i=h&&h.prototype;j.prototype.getAllFor=function(k){for(var l=arguments.length,m=Array(l>1?l-1:0),n=1;n<l;n++)m[n-1]=arguments[n];return this.__getAll.apply(this,[k].concat(m)).mapKeys(function(o){return JSON.parse(o)[0]})};j.prototype.getFor=function(){for(var k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];return this.__get.apply(this,l)};j.prototype.getKey=function(k){return c('stableJSONStringify')(k)};j.prototype.__handle=function(k,l){for(var m=arguments.length,n=Array(m>2?m-2:0),o=2;o<m;o++)n[o-2]=arguments[o];return this.__handleOne(k,this.getKey(n),l)};j.prototype.__handleMany=function(k,l){for(var m=arguments.length,n=Array(m>2?m-2:0),o=2;o<m;o++)n[o-2]=arguments[o];return this.__handleMap(k,l.mapKeys(function(p){return this.getKey([p].concat(n))}.bind(this)))};j.prototype.__load=function(k){this.__loadImpl.apply(this,JSON.parse(k))};j.prototype.__get=function(){for(var k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];return this.get(this.getKey(l))};j.prototype.__getAll=function(k){for(var l=arguments.length,m=Array(l>1?l-1:0),n=1;n<l;n++)m[n-1]=arguments[n];return this.getAll(k.map(function(o){return this.getKey([o].concat(m))}.bind(this)))};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('ProductsFacetAggregationStore',['AdsDispatcher','AdsWCAOperators','ProductsActionTypes','ProductsFacetAggregationDataManager','ProductsFluxMultiParamLoadObjectStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ProductsFluxMultiParamLoadObjectStore'));i=h&&h.prototype;j.prototype.getAggregation=function(k,l,m,n){var o=arguments.length<=4||arguments[4]===undefined?undefined:arguments[4],p=arguments.length<=5||arguments[5]===undefined?c('AdsWCAOperators').AND:arguments[5],q=arguments.length<=6||arguments[6]===undefined?100:arguments[6];return this.__get(k,l,m,n,o,p,q)};j.prototype.__loadImpl=function(k,l,m,n,o,p,q){c('ProductsFacetAggregationDataManager').load(k,l,m,n,o,p,q)};j.prototype.reduce=function(k,l){var m=l.action,n=m.catalogID,o=m.aggregations,p=m.filters,q=m.property,r=m.qualityFilter,s=m.globalLogicOperator,t=m.interval;switch(m.type){case c('ProductsActionTypes').PRODUCTS_FACET_AGREGGATION.LOADED:return this.__handle(k,m.result,n,o,p,q,r,s,t);case c('ProductsActionTypes').PRODUCTS_FACET_AGREGGATION.LOAD_ERROR:return this.__handle(k,new Error('Could not load data for facets'),n,o,p,q,r,s,t);}return k};function j(){h.apply(this,arguments)}f.exports=new j(c('AdsDispatcher'))}),null);
__d('VehicleActions',['AdsDispatcher','ProductsActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={vehicleBatchLoaded:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({vehicles:j,type:c('ProductsActionTypes').VEHICLE.BATCH_LOADED})},vehicleBatchLoadError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({errors:j,type:c('ProductsActionTypes').VEHICLE.BATCH_LOAD_ERROR})}};f.exports=h}),null);
__d('VehicleDataManager',['AdsBaseDataManager','GraphAPI','VehicleActions','VehicleGraphApiFields','ProductsAPIConfig'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=[c('VehicleGraphApiFields').ADDRESS,c('VehicleGraphApiFields').AVAILABILITY,c('VehicleGraphApiFields').BODY_STYLE,c('VehicleGraphApiFields').CONDITION,c('VehicleGraphApiFields').DESCRIPTION,c('VehicleGraphApiFields').DRIVETRAIN,c('VehicleGraphApiFields').EXTERIOR_COLOR,c('VehicleGraphApiFields').FUEL_TYPE,c('VehicleGraphApiFields').VEHICLE_ID,c('VehicleGraphApiFields').IMAGES,c('VehicleGraphApiFields').INTERIOR_COLOR,c('VehicleGraphApiFields').PRICE,c('VehicleGraphApiFields').TITLE,c('VehicleGraphApiFields').TRANSMISSION,c('VehicleGraphApiFields').URL];h=babelHelpers.inherits(k,c('AdsBaseDataManager'));i=h&&h.prototype;k.prototype.loadAll=function(l){l.forEach(function(m){return this.load(m)}.bind(this))};k.prototype.load=function(l){c('GraphAPI')(c('ProductsAPIConfig').version).object('vehicle',l).batched().get({fields:j}).done(this.__handleSuccess.bind(this,['load'],l,null),this.__handleError.bind(this,['load'],l,null))};k.prototype.__onBatchLoaded=function(l){c('VehicleActions').vehicleBatchLoaded(l)};k.prototype.__onBatchLoadError=function(l){c('VehicleActions').vehicleBatchLoadError(l)};function k(){h.apply(this,arguments)}f.exports=new k()}),null);
__d('VehicleStore',['AdsBaseDataStore','AdsLoadState_LEGACY','VehicleDataManager','ProductsActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseDataStore'));i=h&&h.prototype;j.prototype.getDataManager=function(){return c('VehicleDataManager')};j.prototype.__onDispatch=function(k){var l=k.action;switch(l.actionType){case c('ProductsActionTypes').VEHICLE.BATCH_LOADED:this.__handleData(l.vehicles,c('AdsLoadState_LEGACY').LOADED);break;case c('ProductsActionTypes').VEHICLE.BATCH_LOAD_ERROR:this.__handleData(l.errors,c('AdsLoadState_LEGACY').ERROR);break;}};function j(){h.apply(this,arguments)}f.exports=new j()}),null);
__d('AdsNewProductSetDialogViewContainer.react',['fbt','AdsDynamicItemListStore','AdsLoadStateUtils_LEGACY','AdsNewProductSetDialogView.react','AdsProductItemStore','AdsProductSetActions','AdsProductSetPaneStore','AdsProductSetStore','AdsProductSetUtils','AdsQEStore','AdsWCAOperators','CatalogVertical','DestinationStore','FlightStore','FluxContainer','HomeListingStore','HotelStore','ProductCatalogBusinessEventName','ProductCatalogBusinessEventsLoggerHelper','ProductCatalogDynamicItemsSummaryStore','ProductCatalogStore','ProductsConfig','ProductsContextContainer.react','ProductsFacetAggregation','ProductsFacetAggregationStore','React','SUIBusinessThemeContainer.react','VehicleStore','debounce','shallowArrayEqual'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=h._("Name is required and cannot be empty");function l(n){return n===undefined||n.trim().length>0?null:k}i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$AdsNewProductSetDialogViewContainer2=function(){this.setState(m.calculateState(this.state,this.props))}.bind(this),this.$AdsNewProductSetDialogViewContainer12=function(event){this.setState({name:event.target.value,nameError:l(event.target.value)})}.bind(this),this.$AdsNewProductSetDialogViewContainer4=function(){var s=this.state.filters.slice();s.push(c('AdsProductSetUtils').getNewProductSetFilter(this.props.vertical));this.setState({filters:s});this.$AdsNewProductSetDialogViewContainer3(c('ProductCatalogBusinessEventName').PRODUCT_SETS_CREATION_DIALOG_ADD_FILTER)}.bind(this),this.$AdsNewProductSetDialogViewContainer11=function(s){var t=c('AdsProductSetUtils').getConfig(this.props.vertical),u={property:s.value,operator:t[s.value].defaultOperator,value:t[s.value].defaultValue||[],plainText:''},v=this.state.filters.slice();v.push(u);this.$AdsNewProductSetDialogViewContainer3(c('ProductCatalogBusinessEventName').PRODUCT_SETS_CREATION_DIALOG_ADD_FILTER);this.setState(babelHelpers['extends']({filters:v},this.getProductsLoadingPartialState()),this.$AdsNewProductSetDialogViewContainer1)}.bind(this),this.$AdsNewProductSetDialogViewContainer9=function(s){this.setState(babelHelpers['extends']({globalLogicOperator:s.value},this.getProductsLoadingPartialState()),this.$AdsNewProductSetDialogViewContainer1)}.bind(this),this.$AdsNewProductSetDialogViewContainer7=function(s,t){var u=this.state.filters.slice();u[s]=t;this.setState(babelHelpers['extends']({filters:u},this.getProductsLoadingPartialState()),this.$AdsNewProductSetDialogViewContainer1)}.bind(this),this.$AdsNewProductSetDialogViewContainer14=function(s){this.setState(babelHelpers['extends']({selectedCurrency:s},this.getProductsLoadingPartialState()),this.$AdsNewProductSetDialogViewContainer1)}.bind(this),this.$AdsNewProductSetDialogViewContainer8=function(s,event){var t=this.state.filters.slice(),u=t[s];u.plainText=event.target.value;if(!u.plainText)u.error=null;t[s]=u;this.setState({filters:t})}.bind(this),this.$AdsNewProductSetDialogViewContainer13=function(s){var t=this.state.filters.slice();t.splice(s,1);this.setState(babelHelpers['extends']({filters:t},this.getProductsLoadingPartialState()),this.$AdsNewProductSetDialogViewContainer1);this.$AdsNewProductSetDialogViewContainer3(c('ProductCatalogBusinessEventName').PRODUCT_SETS_CREATION_DIALOG_DELETE_FILTER)}.bind(this),this.$AdsNewProductSetDialogViewContainer6=function(){if(!this.$AdsNewProductSetDialogViewContainer17())return;this.$AdsNewProductSetDialogViewContainer18({name:this.state.name,filters:c('AdsProductSetUtils').getFiltersForAPI(this.state.filters,this.props.vertical,this.state.selectedCurrency)})}.bind(this),this.$AdsNewProductSetDialogViewContainer10=function(){this.$AdsNewProductSetDialogViewContainer3(c('ProductCatalogBusinessEventName').PRODUCT_SETS_CREATION_DIALOG_CANCEL);this.props.onClose()}.bind(this),this.$AdsNewProductSetDialogViewContainer5=function(){this.setState({duplicateProductSet:null})}.bind(this),o}m.getStores=function(){return [c('AdsDynamicItemListStore'),c('AdsProductItemStore'),c('AdsProductSetStore'),c('AdsQEStore'),c('DestinationStore'),c('FlightStore'),c('HomeListingStore'),c('HotelStore'),c('ProductCatalogDynamicItemsSummaryStore'),c('ProductCatalogStore'),c('ProductsFacetAggregationStore'),c('VehicleStore')]};m.calculateState=function(n,o){var p=n||{currentViewsCount:null,filters:o.prefillProductSetFilters||[c('AdsProductSetUtils').getNewProductSetFilter(o.vertical)],globalLogicOperator:c('AdsWCAOperators').AND,isLoading:false,name:o.prefillProductSetName||'',nameError:l(o.prefillProductSetName),productCatalog:{},productCount:null,productCountLoading:false,selectedCurrency:o.defaultCurrency||'USD',totalViewsCount:null,duplicateProductSet:null,duplicateProductSetId:null},q=c('ProductCatalogStore').get(o.productCatalogID),r=c('AdsProductSetUtils').getFiltersForAPI(p.filters,o.vertical,p.selectedCurrency),s=c('AdsProductSetUtils').convertFilterFromUISpecToAPISpec(r,p.globalLogicOperator).filter,t=null,u=null,v=false;if(c('ProductsConfig').gk.product_item_insights){var w='view_content_count';t=c('ProductsFacetAggregationStore').getAggregation(o.productCatalogID,[c('ProductsFacetAggregation').SUM],[],'insights_info.'+w);u=c('ProductsFacetAggregationStore').getAggregation(o.productCatalogID,[c('ProductsFacetAggregation').SUM],r||[],'insights_info.'+w);v=t.isLoading()||u.isLoading();u=u.getValue();u=u?u[c('ProductsFacetAggregation').SUM][0].value:null;t=t.getValue();t=t?t[c('ProductsFacetAggregation').SUM][0].value:null}var x=void 0,y=void 0,z=void 0;x=c('AdsDynamicItemListStore').getForCatalog(o.vertical,o.productCatalogID,s);switch(o.vertical){case c('CatalogVertical').DESTINATIONS:y=c('DestinationStore').getAll(x.list);break;case c('CatalogVertical').FLIGHTS:y=c('FlightStore').getAll(x.list);break;case c('CatalogVertical').HOME_LISTINGS:y=c('HomeListingStore').getAll(x.list);break;case c('CatalogVertical').HOTELS:y=c('HotelStore').getAll(x.list);break;case c('CatalogVertical').VEHICLES:y=c('VehicleStore').getAll(x.list);break;case c('CatalogVertical').COMMERCE:default:y=c('AdsProductItemStore').getAll(x.list);break;}z=c('AdsLoadStateUtils_LEGACY').isLoading(x)||c('AdsLoadStateUtils_LEGACY').anyLoading(y);var aa=c('ProductCatalogDynamicItemsSummaryStore').getForProductCatalog(o.vertical,o.productCatalogID,s),ba=p.duplicateProductSetId,ca=p.duplicateProductSet,da=c('AdsProductSetStore').retrieveCreationResponse();if(da)if(da.result=='success'){if(o.onConfirm)o.onConfirm({productSetID:da.productSetID});o.onClose({productSetID:da.productSetID})}else{ba=da.duplicateId;ca=null}if(ba){var ea=c('AdsProductSetStore').get(ba);if(ea)ca=ea.name;}return babelHelpers['extends']({},p,{currentViewsCount:u,isLoading:c('AdsLoadStateUtils_LEGACY').isLoading(q),isSampleLoading:z,productCatalog:q,productCount:(aa.getValue()||{}).totalCount,productCountLoading:aa.isLoading(),sampleDynamicItems:y?c('AdsLoadStateUtils_LEGACY').getLoadedValues(y):[],totalViewsCount:t,viewsCountLoading:v,duplicateProductSet:ca,duplicateProductSetId:ba})};m.prototype.getProductsLoadingPartialState=function(){return {isSampleLoading:true,productCountLoading:true,productCount:null}};m.prototype.componentWillReceiveProps=function(n){if(this.props.vertical!==n.vertical||!c('shallowArrayEqual')(this.props.prefillProductSetFilters||[],n.prefillProductSetFilters||[]))this.setState(babelHelpers['extends']({filters:n.prefillProductSetFilters||[c('AdsProductSetUtils').getNewProductSetFilter(n.vertical)]},this.getProductsLoadingPartialState()),this.$AdsNewProductSetDialogViewContainer1);};m.prototype.componentWillMount=function(){this.$AdsNewProductSetDialogViewContainer1=c('debounce')(this.$AdsNewProductSetDialogViewContainer2,500)};m.prototype.componentDidMount=function(){this.$AdsNewProductSetDialogViewContainer3(c('ProductCatalogBusinessEventName').PRODUCT_SETS_CREATION_DIALOG_OPEN)};m.prototype.render=function(){if(this.state.isLoading)return null;return c('React').createElement(c('SUIBusinessThemeContainer.react'),null,c('React').createElement(c('ProductsContextContainer.react'),{catalogID:this.props.productCatalogID},c('React').createElement(c('AdsNewProductSetDialogView.react'),{addFilter:this.$AdsNewProductSetDialogViewContainer4,currentViewsCount:this.state.currentViewsCount,defaultCurrency:this.props.defaultCurrency,duplicateProductSetName:this.state.duplicateProductSet,filters:this.state.filters,globalLogicOperator:this.state.globalLogicOperator,isSampleLoading:this.state.isSampleLoading,name:this.state.name,nameError:this.state.nameError,prefillProductSetNoticeMessage:this.props.prefillProductSetNoticeMessage,productCatalog:this.state.productCatalog,productCount:this.state.productCount,productCountLoading:this.state.productCountLoading,sampleDynamicItems:this.state.sampleDynamicItems,selectedCurrency:this.state.selectedCurrency,totalViewsCount:this.state.totalViewsCount,vertical:this.props.vertical,viewsCountLoading:this.state.viewsCountLoading,onClearDupNotice:this.$AdsNewProductSetDialogViewContainer5,onConfirm:this.$AdsNewProductSetDialogViewContainer6,onFilterChange:this.$AdsNewProductSetDialogViewContainer7,onFilterQueryStringChange:this.$AdsNewProductSetDialogViewContainer8,onGlobalLogicOperatorChange:this.$AdsNewProductSetDialogViewContainer9,onHide:this.$AdsNewProductSetDialogViewContainer10,onNewFilterPropertyChange:this.$AdsNewProductSetDialogViewContainer11,onProductSetNameChange:this.$AdsNewProductSetDialogViewContainer12,onRemoveFilter:this.$AdsNewProductSetDialogViewContainer13,onSelectedCurrencyChange:this.$AdsNewProductSetDialogViewContainer14})))};m.prototype.$AdsNewProductSetDialogViewContainer15=function(n){if(c('AdsProductSetUtils').isTokenizable(n,this.props.vertical))return h._("Filter must be in token format");var o=c('AdsProductSetUtils').getConfig(this.props.vertical);return o[n.property].invalidMessage};m.prototype.$AdsNewProductSetDialogViewContainer16=function(){var n=true,o=this.state.filters.slice();o.forEach(function(p){if(p.plainText){n=false;p.error=this.$AdsNewProductSetDialogViewContainer15(p)}}.bind(this));if(!n)this.setState({filters:o});return n};m.prototype.$AdsNewProductSetDialogViewContainer17=function(){var n=true;if(this.state.name.trim().length===0){this.setState({nameError:k});n=false}if(!this.$AdsNewProductSetDialogViewContainer16())n=false;return n};m.prototype.$AdsNewProductSetDialogViewContainer18=function(n){var o=c('AdsProductSetUtils').getProductSetDataSpec(n.name,n.filters,this.state.globalLogicOperator),p=babelHelpers['extends']({},o);p.tempID=c('AdsProductSetPaneStore').getNewCreationID();p.isSuggested=!!this.props.isSuggested;c('AdsProductSetActions').createProductSet(this.props.productCatalogID,p,this.props.source);this.$AdsNewProductSetDialogViewContainer3(c('ProductCatalogBusinessEventName').PRODUCT_SETS_CREATION_DIALOG_CREATE,{globalLogicOperator:this.state.globalLogicOperator,filter:JSON.stringify(o.filter)})};m.prototype.$AdsNewProductSetDialogViewContainer3=function(event,n){c('ProductCatalogBusinessEventsLoggerHelper').getProductSetsCreationDialogLogger(this.props.productCatalogID).setEvent(event).setActionData(n).log()};f.exports=c('FluxContainer').create(m,{withProps:true})}),null);
__d('AdsNewProductSetDialog.react',['AdsNewProductSetDialogViewContainer.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){if(!this.props.shown)return null;return c('React').createElement(c('AdsNewProductSetDialogViewContainer.react'),{defaultCurrency:this.props.defaultCurrency,isSuggested:this.props.isSuggested,prefillProductSetFilters:this.props.prefillProductSetFilters,prefillProductSetName:this.props.prefillProductSetName,prefillProductSetNoticeMessage:this.props.prefillProductSetNoticeMessage,productCatalogID:this.props.productCatalogID,source:this.props.source,vertical:this.props.vertical,onClose:this.props.onClose,key:'dialog'})};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d('AdsProductCatalogSearchSource',['fbt','AdsDynamicCampaignUtils','SearchableEntry','StaticSearchSource'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('AdsDynamicCampaignUtils').NONE_OPTION;function j(){this.init()}j.prototype.init=function(){this.$AdsProductCatalogSearchSource1=null;this.$AdsProductCatalogSearchSource2=null};j.prototype.getSearchSource=function(k,l){if(k.length===0)return null;var m=l?k.length+1:k.length;if(this.$AdsProductCatalogSearchSource2&&this.$AdsProductCatalogSearchSource2.length===m)return this.$AdsProductCatalogSearchSource1;this.$AdsProductCatalogSearchSource2=k.map(function(n){return new (c('SearchableEntry'))({uniqueID:n.id,title:n.name,subtitle:h._("ID: {catalog id}",[h.param('catalog id',n.id)]),keywordString:n.id})});if(l)this.$AdsProductCatalogSearchSource2.unshift(new (c('SearchableEntry'))({uniqueID:i,title:h._("None"),subtitle:h._("removes dynamic options"),keywordString:'None'}));this.$AdsProductCatalogSearchSource1=new (c('StaticSearchSource'))(this.$AdsProductCatalogSearchSource2);return this.$AdsProductCatalogSearchSource1};j.prototype.getProductCatalogEntry=function(k){if(!this.$AdsProductCatalogSearchSource2||!k||!this.$AdsProductCatalogSearchSource2)return null;return this.$AdsProductCatalogSearchSource2.find(function(l){return l.getUniqueID()===k})};f.exports=new j()}),null);
__d('AdsProductSetSearchableEntryTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){var h=c('keyMirrorRecursive')({SUGGESTED_PRODUCT_SETS:'',PRODUCT_SETS:''},'PRODUCT_SET_SEARCHABLE_ENTRY');f.exports=h}),null);
__d('AdsProductSetSearchSource',['fbt','AdsProductSetSearchableEntryTypes','SearchableEntry','StaticSearchSource','shallowArrayEqual'],(function a(b,c,d,e,f,g,h){'use strict';function i(){this.init()}i.prototype.init=function(){this.$AdsProductSetSearchSource1=null;this.$AdsProductSetSearchSource2=null;this.$AdsProductSetSearchSource3=null;this.$AdsProductSetSearchSource4=[];this.$AdsProductSetSearchSource5=[]};i.prototype.getProductSetSearchSource=function(j){var k=arguments.length<=1||arguments[1]===undefined?null:arguments[1],l=arguments.length<=2||arguments[2]===undefined?[]:arguments[2];if(j.length===0)return null;if(this.$AdsProductSetSearchSource2&&this.$AdsProductSetSearchSource3.length===j.length&&this.$AdsProductSetSearchSource1===k&&c('shallowArrayEqual')(this.$AdsProductSetSearchSource4,l))return this.$AdsProductSetSearchSource2;this.$AdsProductSetSearchSource4=l;this.$AdsProductSetSearchSource5=this.$AdsProductSetSearchSource4.map(function(m){return new (c('SearchableEntry'))({keywordString:m.filter,subtitle:this.getSubtitle(m,c('AdsProductSetSearchableEntryTypes').SUGGESTED_PRODUCT_SETS),title:m.name,type:this.getType(c('AdsProductSetSearchableEntryTypes').SUGGESTED_PRODUCT_SETS),uniqueID:m.filter})}.bind(this));this.$AdsProductSetSearchSource3=j.map(function(m){return new (c('SearchableEntry'))({keywordString:m.id,subtitle:this.getSubtitle(m,c('AdsProductSetSearchableEntryTypes').PRODUCT_SETS),title:m.name,type:this.getType(c('AdsProductSetSearchableEntryTypes').PRODUCT_SETS),uniqueID:m.id})}.bind(this));this.$AdsProductSetSearchSource2=new (c('StaticSearchSource'))(this.$AdsProductSetSearchSource3.concat(this.$AdsProductSetSearchSource5));if(this.$AdsProductSetSearchSource2)this.$AdsProductSetSearchSource2.bootstrap();this.$AdsProductSetSearchSource1=k;return this.$AdsProductSetSearchSource2};i.prototype.getSelectedProductSetEntry=function(j){if(!this.$AdsProductSetSearchSource2||!j||!this.$AdsProductSetSearchSource3)return null;for(var k=0;k<this.$AdsProductSetSearchSource3.length;k++)if(this.$AdsProductSetSearchSource3[k]&&this.$AdsProductSetSearchSource3[k].getUniqueID()===j)return this.$AdsProductSetSearchSource3[k];return null};i.prototype.getSubtitle=function(j,k){switch(k){case c('AdsProductSetSearchableEntryTypes').SUGGESTED_PRODUCT_SETS:return h._("Size: {Product Count}",[h.param('Product Count',j.products_count||'Unavailable')]);default:return h._("ID: {Product Set ID} Size: {Product Count}",[h.param('Product Set ID',j.id),h.param('Product Count',j.product_count||'Unavailable')]);}};i.prototype.getType=function(j){switch(j){case c('AdsProductSetSearchableEntryTypes').SUGGESTED_PRODUCT_SETS:return h._("Recommended Product Sets").toString();default:return h._("Your Product Sets").toString();}};f.exports=new i()}),null);
__d('AdsBusinessBatchLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'businessBatchLoadError',actionType:'AdsBusiness.BATCH_LOAD_ERROR'};f.exports=h}),null);
__d('AdsBusinessBatchLoadErrorDataAction',['AdsBusinessBatchLoadErrorDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsBusinessBatchLoadErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsBusinessBatchLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'businessBatchLoaded',actionType:'AdsBusiness.BATCH_LOADED'};f.exports=h}),null);
__d('AdsBusinessBatchLoadedDataAction',['AdsBusinessBatchLoadedDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsBusinessBatchLoadedDataActionPlugin'));f.exports=h}),null);
__d('AdsBusinessActions',['AdsBusinessBatchLoadedDataAction','AdsBusinessBatchLoadErrorDataAction'],(function a(b,c,d,e,f,g){'use strict';var h={batchLoaded:function i(j){c('AdsBusinessBatchLoadedDataAction').dispatch({specs:j})},batchLoadError:function i(j){c('AdsBusinessBatchLoadErrorDataAction').dispatch({errors:j})}};f.exports=h}),null);
__d('AdsPageDpaEligibleProductCatalogsListBatchLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'pageDpaEligibleProductCatalogsListBatchLoaded',actionType:'PAGE_DPA_ELIGIBLE_PRODUCT_CATALOGS.LIST.BATCH_LOADED'};f.exports=h}),null);
__d('AdsPageDpaEligibleProductCatalogsListBatchLoadedDataAction',['AdsDataActionCreator','AdsPageDpaEligibleProductCatalogsListBatchLoadedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsPageDpaEligibleProductCatalogsListBatchLoadedDataActionPlugin'));f.exports=h}),null);
__d('AdsPageDpaEligibleProductCatalogsListLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'pageDpaEligibleProductCatalogsListLoadError',actionType:'PAGE_DPA_ELIGIBLE_PRODUCT_CATALOGS.LIST.LOAD_ERROR'};f.exports=h}),null);
__d('AdsPageDpaEligibleProductCatalogsListLoadErrorDataAction',['AdsDataActionCreator','AdsPageDpaEligibleProductCatalogsListLoadErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsPageDpaEligibleProductCatalogsListLoadErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsPageDpaEligibleProductCatalogsListLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'pageDpaEligibleProductCatalogsListLoaded',actionType:'PAGE_DPA_ELIGIBLE_PRODUCT_CATALOGS.LIST.LOADED'};f.exports=h}),null);
__d('AdsPageDpaEligibleProductCatalogsListLoadedDataAction',['AdsDataActionCreator','AdsPageDpaEligibleProductCatalogsListLoadedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsPageDpaEligibleProductCatalogsListLoadedDataActionPlugin'));f.exports=h}),null);
__d('AdsPageDpaEligibleProductCatalogsListPartialLoadDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'pageDpaEligibleProductCatalogsListPartialLoad',actionType:'PAGE_DPA_ELIGIBLE_PRODUCT_CATALOGS.LIST.PARTIAL_LOAD'};f.exports=h}),null);
__d('AdsPageDpaEligibleProductCatalogsListPartialLoadDataAction',['AdsDataActionCreator','AdsPageDpaEligibleProductCatalogsListPartialLoadDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsPageDpaEligibleProductCatalogsListPartialLoadDataActionPlugin'));f.exports=h}),null);
__d('AdsPageProductCatalogListLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'pageProductCatalogListLoadError',actionType:'PAGE_PRODUCT_CATALOG.LIST.LOAD_ERROR'};f.exports=h}),null);
__d('AdsPageProductCatalogListLoadErrorDataAction',['AdsDataActionCreator','AdsPageProductCatalogListLoadErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsPageProductCatalogListLoadErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsPageProductCatalogListLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'pageProductCatalogListLoaded',actionType:'PAGE_PRODUCT_CATALOG.LIST.LOADED'};f.exports=h}),null);
__d('AdsPageProductCatalogListLoadedDataAction',['AdsDataActionCreator','AdsPageProductCatalogListLoadedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsPageProductCatalogListLoadedDataActionPlugin'));f.exports=h}),null);
__d('AdsPageProductCatalogListPartialLoadDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'pageProductCatalogListPartialLoad',actionType:'PAGE_PRODUCT_CATALOG.LIST.PARTIAL_LOAD'};f.exports=h}),null);
__d('AdsPageProductCatalogListPartialLoadDataAction',['AdsDataActionCreator','AdsPageProductCatalogListPartialLoadDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsPageProductCatalogListPartialLoadDataActionPlugin'));f.exports=h}),null);
__d('AdsProductCatalogListLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productCatalogListLoadError',actionType:'PRODUCT_CATALOG.LIST.LOAD_ERROR'};f.exports=h}),null);
__d('AdsProductCatalogListLoadErrorDataAction',['AdsDataActionCreator','AdsProductCatalogListLoadErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductCatalogListLoadErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsProductCatalogListLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productCatalogListLoaded',actionType:'PRODUCT_CATALOG.LIST.LOADED'};f.exports=h}),null);
__d('AdsProductCatalogListLoadedDataAction',['AdsDataActionCreator','AdsProductCatalogListLoadedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductCatalogListLoadedDataActionPlugin'));f.exports=h}),null);
__d('AdsProductCatalogListPartialLoadDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productCatalogListPartialLoad',actionType:'PRODUCT_CATALOG.LIST.PARTIAL_LOAD'};f.exports=h}),null);
__d('AdsProductCatalogListPartialLoadDataAction',['AdsDataActionCreator','AdsProductCatalogListPartialLoadDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductCatalogListPartialLoadDataActionPlugin'));f.exports=h}),null);
__d('AdsProductCatalogListActions',['AdsPageDpaEligibleProductCatalogsListBatchLoadedDataAction','AdsPageDpaEligibleProductCatalogsListLoadedDataAction','AdsPageDpaEligibleProductCatalogsListLoadErrorDataAction','AdsPageDpaEligibleProductCatalogsListPartialLoadDataAction','AdsPageProductCatalogListLoadedDataAction','AdsPageProductCatalogListLoadErrorDataAction','AdsPageProductCatalogListPartialLoadDataAction','AdsProductCatalogListLoadedDataAction','AdsProductCatalogListLoadErrorDataAction','AdsProductCatalogListPartialLoadDataAction'],(function a(b,c,d,e,f,g){'use strict';var h={productCatalogListPartialLoad:function i(j,k){c('AdsProductCatalogListPartialLoadDataAction').dispatch({businessID:j,productCatalogs:k})},productCatalogListLoaded:function i(j,k){c('AdsProductCatalogListLoadedDataAction').dispatch({businessID:j,productCatalogs:k})},productCatalogListLoadError:function i(j){c('AdsProductCatalogListLoadErrorDataAction').dispatch({businessID:j})},pageProductCatalogListPartialLoad:function i(j,k){c('AdsPageProductCatalogListPartialLoadDataAction').dispatch({pageID:j,productCatalogs:k})},pageProductCatalogListLoaded:function i(j,k){c('AdsPageProductCatalogListLoadedDataAction').dispatch({pageID:j,productCatalogs:k})},pageProductCatalogListLoadError:function i(j){c('AdsPageProductCatalogListLoadErrorDataAction').dispatch({pageID:j})},pageDPAEligibleProductCatalogListBatchLoaded:function i(j){c('AdsPageDpaEligibleProductCatalogsListBatchLoadedDataAction').dispatch({responses:j})},pageDPAEligibleProductCatalogListPartialLoad:function i(j,k){c('AdsPageDpaEligibleProductCatalogsListPartialLoadDataAction').dispatch({pageID:j,productCatalogs:k})},pageDPAEligibleProductCatalogListLoaded:function i(j,k){c('AdsPageDpaEligibleProductCatalogsListLoadedDataAction').dispatch({pageID:j,productCatalogs:k})},pageDPAEligibleProductCatalogListLoadError:function i(j){c('AdsPageDpaEligibleProductCatalogsListLoadErrorDataAction').dispatch({pageID:j})}};f.exports=h}),null);
__d('AdsProductSetListLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productSetListLoadError',actionType:'PRODUCT_SET.LIST.LOAD_ERROR'};f.exports=h}),null);
__d('AdsProductSetListLoadErrorDataAction',['AdsDataActionCreator','AdsProductSetListLoadErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductSetListLoadErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsProductSetListLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productSetListLoaded',actionType:'PRODUCT_SET.LIST.LOADED'};f.exports=h}),null);
__d('AdsProductSetListLoadedDataAction',['AdsDataActionCreator','AdsProductSetListLoadedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductSetListLoadedDataActionPlugin'));f.exports=h}),null);
__d('AdsProductSetListPartialLoadDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'productSetListPartialLoad',actionType:'PRODUCT_SET.LIST.PARTIAL_LOAD'};f.exports=h}),null);
__d('AdsProductSetListPartialLoadDataAction',['AdsDataActionCreator','AdsProductSetListPartialLoadDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsProductSetListPartialLoadDataActionPlugin'));f.exports=h}),null);
__d('AdsProductSetListActions',['AdsProductSetListLoadedDataAction','AdsProductSetListLoadErrorDataAction','AdsProductSetListPartialLoadDataAction'],(function a(b,c,d,e,f,g){'use strict';var h={productSetListPartialLoad:function i(j,k){c('AdsProductSetListPartialLoadDataAction').dispatch({productCatalogID:j,productSets:k})},productSetListLoaded:function i(j,k){c('AdsProductSetListLoadedDataAction').dispatch({productCatalogID:j,productSets:k})},productSetListLoadError:function i(j){c('AdsProductSetListLoadErrorDataAction').dispatch({productCatalogID:j})}};f.exports=h}),null);
__d('AdsBusinessDataManager',['fbt','AdsBaseDataManager','AdsBusinessActions','AdsGraphAPI','CurrentUser','sprintf'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('AdsBaseDataManager'));j=i&&i.prototype;k.prototype.loadAll=function(l){l.forEach(function(m){return this.load(m)}.bind(this))};k.prototype.load=function(l){c('AdsGraphAPI').get(f.id).object('business',l).batched().get({fields:['id','name',c('sprintf')('userpermissions.fields(role).user(%s)',c('CurrentUser').getAccountID())]}).done(this.__handleSuccess.bind(this,['load'],l,null),this.__handleError.bind(this,['load'],l,null))};k.prototype.__onBatchLoaded=function(l){c('AdsBusinessActions').batchLoaded(l)};k.prototype.__onBatchLoadError=function(l){c('AdsBusinessActions').batchLoadError(l)};k.prototype.__getObjectTypeLabel=function(){return h._("Business")};function k(){i.apply(this,arguments)}f.exports=new k()}),null);
__d('AdsProductSetListDataManager',['fbt','AdsBaseListDataManager','AdsGraphAPI','AdsProductSetListActions','GraphAPIPaging'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=['created_time','id'];i=babelHelpers.inherits(l,c('AdsBaseListDataManager'));j=i&&i.prototype;l.prototype.loadFor=function(n){c('AdsGraphAPI').get(f.id).object('product_catalog',n).edge('product_sets').batched().get({fields:k,parent_id:0}).then(c('GraphAPIPaging').eachPage(function(o){return this.$AdsProductSetListDataManagerClass1(n,o.data)}.bind(this))).done(this.__handleSuccess.bind(this,['load'],n,null),this.__handleError.bind(this,['load'],n,null))};l.prototype.$AdsProductSetListDataManagerClass1=function(n,o){c('AdsProductSetListActions').productSetListPartialLoad(n,o)};l.prototype.__onBatchLoaded=function(n){n.forEach(function(o,p){c('AdsProductSetListActions').productSetListLoaded(p,o.data)})};l.prototype.__onBatchLoadError=function(n){n.forEach(function(o,p){c('AdsProductSetListActions').productSetListLoadError(p)})};l.prototype.__getObjectTypeLabel=function(){return h._("Product Catalog")};function l(){i.apply(this,arguments)}var m=new l();f.exports=m}),null);
__d('AdsBusinessStore',['AdsBaseDataStore','AdsBusinessDataManager','AdsDataActionTypes','AdsLoadState_LEGACY'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseDataStore'));i=h&&h.prototype;j.prototype.getDataManager=function(){return c('AdsBusinessDataManager')};j.prototype.__onDispatch=function(k){var l=k.action;switch(l.type){case c('AdsDataActionTypes').businessBatchLoaded:this.__handleData(l.specs,c('AdsLoadState_LEGACY').LOADED);break;case c('AdsDataActionTypes').businessBatchLoadError:this.__handleData(l.errors,c('AdsLoadState_LEGACY').ERROR);break;}};function j(){h.apply(this,arguments)}f.exports=new j()}),null);
__d('AdsProductSetListStore',['AdsActionTypes','AdsBaseListStore','AdsDataActionTypes','AdsLoadState_LEGACY','AdsProductSetListDataManager'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseListStore'));i=h&&h.prototype;j.prototype.getDataManager=function(){return c('AdsProductSetListDataManager')};j.prototype.__onDispatch=function(l){var m=l.action;switch(m.actionType){case c('AdsDataActionTypes').productSetListLoaded:this.__handleDataFor(m.productCatalogID,m.productSets,c('AdsLoadState_LEGACY').LOADED);break;case c('AdsDataActionTypes').productSetListLoadError:this.__handleDataFor(m.productCatalogID,null,c('AdsLoadState_LEGACY').ERROR);break;case c('AdsDataActionTypes').productSetListPartialLoad:this.__handleDataFor(m.productCatalogID,m.productSets,c('AdsLoadState_LEGACY').LOADING);break;case c('AdsActionTypes').PRODUCT_SET.BATCH_CREATED:this.$AdsProductSetListStoreClass1(m.productCatalogID);break;case c('AdsDataActionTypes').productSetBatchDeleted:this.$AdsProductSetListStoreClass1(m.productCatalogID);break;}};j.prototype.$AdsProductSetListStoreClass1=function(l){if(this.__invalidate(l))this.__emitChange();};function j(){h.apply(this,arguments)}var k=new j();f.exports=k}),null);
__d('AdsCanvasInitDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasInit',actionType:'INIT'};f.exports=h}),null);
__d('AdsCanvasInitDataAction',['AdsCanvasInitDataActionPlugin','AdsDataActionCreator'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataActionCreator').create([],c('AdsCanvasInitDataActionPlugin'));f.exports=h}),null);
__d('CommerceCurrencyInputUtils',['Currency'],(function a(b,c,d,e,f,g){'use strict';var h=100,i={convertPEFormatToPBFormat:function j(k,l){var m=k;if(m){var n=c('Currency').getOffset(l);m=n>0?m*n/h:m}return m},convertPBFormatToPEFormat:function j(k,l){var m=k;if(m){var n=c('Currency').getOffset(l);m=n>0?m*h/n:m}return m}};f.exports=i}),null);
__d('PageCommerceStripeRedirectConfirmationDialog.react',['cx','fbt','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogHeader.react','XUIDialogHeaderTitle.react','XUIText.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=500;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={dialogShown:false},this.show=function(){this.setState({dialogShown:true})}.bind(this),this.hide=function(){this.setState({dialogShown:false})}.bind(this),p}n.prototype.render=function(){if(!this.state.dialogShown)return null;return c('React').createElement(c('XUIDialog.react'),{width:m,onToggle:function(o){return this.setState({dialogShown:o})}.bind(this),shown:this.state.dialogShown},c('React').createElement(c('XUIDialogHeader.react'),null,c('React').createElement(c('XUIDialogHeaderTitle.react'),null,i._("You Have Pending Orders"))),c('React').createElement(c('XUIDialogBody.react'),{className:"_2ph_"},c('React').createElement(c('XUIText.react'),null,i._("Your shop has orders that haven't been shipped yet. If you connect to a different Stripe account, you'll no longer be able to receive payment for those orders. Consider completing and shipping your pending orders before changing the Stripe account for your shop."))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:i._("Change Stripe Account"),use:'default',onClick:this.props.onContinue}),c('React').createElement(c('XUIDialogButton.react'),{label:i._("Cancel"),use:'confirm',onClick:this.hide})))};n.propTypes={onContinue:l.func.isRequired};f.exports=n}),null);
__d("XCommerceSelfServeHasPendingOrdersQueryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/commerce\/self-serve\/has-pending-orders\/",{page_id:{type:"Int",required:true}})}),null);
__d('CommerceStripeConnectLink.react',['cx','AsyncRequest','DOM','DTSG','Link.react','PageCommerceStripeRedirectConfirmationDialog.react','React','ReactDOM','XStripeOnboardingController','XCommerceSelfServeHasPendingOrdersQueryController','XUIText.react','PaymentsTypeEnum'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$CommerceStripeConnectLink1=function(r){var s=c('XCommerceSelfServeHasPendingOrdersQueryController').getURIBuilder().setInt('page_id',this.props.pageID).getURI();new (c('AsyncRequest'))().setURI(s).setHandler(function(t){var u=t.payload.has_pending_orders;if(u){var v=c('ReactDOM').render(c('React').createElement(c('PageCommerceStripeRedirectConfirmationDialog.react'),{onContinue:function w(){return r()}}),c('DOM').create('div'));v.show()}else r();}).send()}.bind(this),n}l.prototype.render=function(){'use strict';var m=c('XStripeOnboardingController').getURIBuilder().setInt('page_id',this.props.pageID).setEnum('payment_type',c('PaymentsTypeEnum').BOF).getURI();return c('React').createElement('span',null,c('React').createElement('form',{className:"hidden_elem",action:m,method:'post',ref:'connectStripeForm',target:'_blank'},c('React').createElement('input',{type:'hidden',name:'fb_dtsg',value:c('DTSG').getToken()})),c('React').createElement(c('Link.react'),{onClick:this.$CommerceStripeConnectLink1.bind(this,function(){return this.refs.connectStripeForm.submit()}.bind(this))},c('React').createElement(c('XUIText.react'),{size:'small'},this.props.content)))};l.propTypes={confirmationURI:k.string,content:k.node.isRequired,pageID:k.string.isRequired};f.exports=l}),null);
__d('CommerceExceptionHandlerMixin.react',['fbt','AsyncRequest','CommerceErrorCode','CommerceErrorNotice.react','CommerceStripeConnectLink.react','React','XCommerceResponse'],(function a(b,c,d,e,f,g,h){'use strict';var i={getInitialState:function j(){return {xResponse:null}},sendAsync:function j(k,l,m,n){new (c('AsyncRequest'))(k).setData(l||{}).setHandler(function(o){var p=new (c('XCommerceResponse'))(o.payload);this.setState({xResponse:p});if(!p.hasErrors()){m&&m(o)}else n&&n(o);}.bind(this)).setErrorHandler(function(o){this.setGeneralError(c('CommerceErrorCode').COMMERCE__GENERIC_EXCEPTION);n&&n(o)}.bind(this)).send()},setGeneralError:function j(k){var l=this.state.xResponse?this.state.xResponse:new (c('XCommerceResponse'))({});l.setGeneralError(k);this.setState({xResponse:l})},addFieldError:function j(k,l){var m=this.state.xResponse?this.state.xResponse:new (c('XCommerceResponse'))({});m.addFieldError(k,l);this.setState({xResponse:m})},_getFullErrorMessage:function j(k){if(!k)return null;if(k.code.toString()===c('CommerceErrorCode').COMMERCE__STRIPE_DEFERRED_ACCOUNT_EMAIL_USED.code.toString()){var l=h._("connect your shop with an existing account");return h._("A Stripe account with this email address already exists. Please use a different email address or {connect to a different Stripe account link}.",[h.param('connect to a different Stripe account link',c('React').createElement(c('CommerceStripeConnectLink.react'),{pageID:this.props.pageID,content:l}))])}return k.title+': '+k.message},hasErrors:function j(){return !!this.state.xResponse&&this.state.xResponse.hasErrors()},hasGeneralError:function j(){return !!this.state.xResponse&&this.state.xResponse.hasGeneralError()},hasFieldErrors:function j(){return !!this.state.xResponse&&this.state.xResponse.hasFieldErrors()},renderAllErrors:function j(){var k=this.state.xResponse,l=[];if(this.hasFieldErrors()){var m=k.getFieldErrors();m.forEach(function(o){return l.push(o)})}if(this.hasGeneralError())l.push(k.getGeneralError());var n=l.map(function(o){return this._getFullErrorMessage(o)}.bind(this));return this.renderErrorMessages(n)},renderGeneralError:function j(){if(this.hasGeneralError()){return this.renderErrorMessages([this.getGeneralErrorMessage()])}else return null;},renderErrorMessages:function j(k){if(k.length===0){return null}else{var l=c('React').createElement('ul',null,k.map(function(m,n){return c('React').createElement('li',{key:n},m)}));return c('React').createElement(c('CommerceErrorNotice.react'),{error:l})}},getGeneralErrorMessage:function j(){if(this.hasGeneralError()){var k=this.state.xResponse.getGeneralError();return this._getFullErrorMessage(k)}else return null;},getFieldErrorMessage:function j(k){if(!this.hasFieldErrors())return null;return this._getFullErrorMessage(this.state.xResponse.getFieldErrors()[k])}};f.exports=i}),null);
__d('CommerceSelfServeProductTaxRatesTable.react',['ix','cx','fbt','invariant','xuiglyph','AdsNumberInput.react','CommerceUSAStates','Image.react','React','SUIAtlasTheme','SUICheckboxInput.react','SUITextInput.react','XUIButton.react','XUITable.react'],(function a(b,c,d,e,f,g,h,i,j,k,l){var m,n,o=c('React').PropTypes;m=babelHelpers.inherits(p,c('React').Component);n=m&&m.prototype;function p(){var q,r;'use strict';for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=n.constructor).call.apply(q,[this].concat(t)),this.state={newRateLocationError:false,newTaxRateLocation:'',newTaxRatePercentage:0,newIsAppliedToShipping:false,showNewRateRow:false},this.$CommerceSelfServeProductTaxRatesTable1=function(v,w){return c('React').createElement('tr',{key:'tax_rate_'+v},c('React').createElement('td',null,c('React').createElement('span',null,v)),c('React').createElement('td',null,c('React').createElement(c('AdsNumberInput.react'),{value:this.$CommerceSelfServeProductTaxRatesTable3(w.tax_rate,3),suffix:'%',className:"_2263",onChange:function(x){if(x!==null){x=this.$CommerceSelfServeProductTaxRatesTable4(x,3);this.$CommerceSelfServeProductTaxRatesTable5(v,x,w.is_applied_to_shipping)}}.bind(this)})),c('React').createElement('td',null,c('React').createElement(c('SUICheckboxInput.react'),{label:w.is_applied_to_shipping?j._("Yes"):j._("No"),onChange:function(x){this.$CommerceSelfServeProductTaxRatesTable5(v,w.tax_rate,x)}.bind(this),theme:c('SUIAtlasTheme'),value:w.is_applied_to_shipping})),c('React').createElement('td',{className:"_5rpt"},c('React').createElement(c('Image.react'),{className:"_ksy _3-9b",src:h("88982"),onClick:function(){this.$CommerceSelfServeProductTaxRatesTable6(v)}.bind(this)})))}.bind(this),this.$CommerceSelfServeProductTaxRatesTable2=function(){return c('React').createElement('tr',{key:'new_tax_rate_row'},c('React').createElement('td',null,c('React').createElement(c('SUITextInput.react'),{className:"_2263",onChange:function(v){this.setState({newTaxRateLocation:v.toUpperCase()})}.bind(this),theme:c('SUIAtlasTheme'),value:this.state.newTaxRateLocation})),c('React').createElement('td',null,c('React').createElement(c('AdsNumberInput.react'),{value:this.$CommerceSelfServeProductTaxRatesTable3(this.state.newTaxRatePercentage,3),suffix:'%',className:"_2263",onChange:function(v){if(v!==null){v=this.$CommerceSelfServeProductTaxRatesTable4(v,3);this.setState({newTaxRatePercentage:v})}}.bind(this)})),c('React').createElement('td',null,c('React').createElement(c('SUICheckboxInput.react'),{label:this.state.newIsAppliedToShipping?j._("Yes"):j._("No"),onChange:function(v){this.setState({newIsAppliedToShipping:v})}.bind(this),theme:c('SUIAtlasTheme'),value:this.state.newIsAppliedToShipping})),c('React').createElement('td',{className:"_5rpt"},c('React').createElement(c('XUIButton.react'),{label:j._("Confirm"),use:'confirm',disabled:!this.$CommerceSelfServeProductTaxRatesTable7(this.state.newTaxRateLocation),onClick:this.$CommerceSelfServeProductTaxRatesTable8})))}.bind(this),this.$CommerceSelfServeProductTaxRatesTable6=function(v){var w=this.$CommerceSelfServeProductTaxRatesTable9(v),x=this.props.taxRates;delete x[w][v];this.props.onChangeTaxRates(x)}.bind(this),this.$CommerceSelfServeProductTaxRatesTable5=function(v,w,x){var y=this.$CommerceSelfServeProductTaxRatesTable9(v),z=this.props.taxRates;z[y][v]={tax_rate:w,is_applied_to_shipping:x};this.props.onChangeTaxRates(z)}.bind(this),this.$CommerceSelfServeProductTaxRatesTable8=function(){var v=this.state.newTaxRateLocation;this.$CommerceSelfServeProductTaxRatesTable5(v,this.state.newTaxRatePercentage,this.state.newIsAppliedToShipping);this.setState({newTaxRatePercentage:0,newTaxRateLocation:'',newIsAppliedToShipping:false})}.bind(this),this.$CommerceSelfServeProductTaxRatesTable9=function(v){this.$CommerceSelfServeProductTaxRatesTable7(v)||k(0);if(this.$CommerceSelfServeProductTaxRatesTable10(v)){return 'zip_code'}else return 'state_abbr';}.bind(this),this.$CommerceSelfServeProductTaxRatesTable3=function(v,w){var x=Math.round(v*Math.pow(10,w+2));return x/Math.pow(10,w)},this.$CommerceSelfServeProductTaxRatesTable4=function(v,w){var x=Math.round(v*Math.pow(10,w));return x/Math.pow(10,w+2)},this.$CommerceSelfServeProductTaxRatesTable7=function(v){return this.$CommerceSelfServeProductTaxRatesTable10(v)||this.$CommerceSelfServeProductTaxRatesTable11(v)}.bind(this),this.$CommerceSelfServeProductTaxRatesTable10=function(v){var w=/^[0-9]{5}$/;return v.match(w)!==null},this.$CommerceSelfServeProductTaxRatesTable11=function(v){var w='STATE_';return w+v in c('CommerceUSAStates')},r}p.prototype.render=function(){'use strict';var q=[];for(var r in this.props.taxRates){var s=this.props.taxRates[r];for(var t in s)q[q.length]=this.$CommerceSelfServeProductTaxRatesTable1(t,s[t]);}q[q.length]=this.$CommerceSelfServeProductTaxRatesTable2();return c('React').createElement('div',null,c('React').createElement(c('XUITable.react'),{outerBorder:true},c('React').createElement('thead',null,c('React').createElement('tr',null,c('React').createElement('th',null,j._("Location")),c('React').createElement('th',null,j._("Tax Rate")),c('React').createElement('th',null,j._("Apply tax to shipping cost?")),c('React').createElement('th',null))),c('React').createElement('tbody',null,q)))};p.propTypes={taxRates:o.object.isRequired,onChangeTaxRates:o.func.isRequired};f.exports=p}),null);
__d('FreeformSearchSource',['AbstractSearchSource','RegexMatchSearchSource','SearchableEntry'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('AbstractSearchSource'));i=h&&h.prototype;function j(k,l,m){'use strict';i.constructor.call(this);this.$FreeformSearchSource1=k;this.$FreeformSearchSource2=new (c('RegexMatchSearchSource'))('\\S+');this.$FreeformSearchSource3=l;this.$FreeformSearchSource4=m}j.prototype.getBootstrappedEntries=function(k){'use strict';return typeof this.$FreeformSearchSource1.getBootstrappedEntries==='function'?this.$FreeformSearchSource1.getBootstrappedEntries(k):null};j.prototype.bootstrapImpl=function(k){'use strict';this.$FreeformSearchSource1.bootstrapImpl(k)};j.prototype.validateQuery=function(k){'use strict';return k.length>=this.$FreeformSearchSource4};j.prototype.searchImpl=function(k,l,m){'use strict';this.$FreeformSearchSource2.searchImpl(k,function(n,o){var p=[];if(n.length===1&&this.validateQuery(o)){p=[new (c('SearchableEntry'))({uniqueID:n[0].getUniqueID(),title:this.$FreeformSearchSource3(n[0].getTitle().trim())})];l(p,k)}this.$FreeformSearchSource1.searchImpl(k,function(q,r){if(q.length>0)l(q.concat(p),r);},m)}.bind(this),m)};f.exports=j}),null);
__d('CommerceInventoryToggle.react',['cx','fbt','AdsPopoverLink.react','React','FBToggleSwitch.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'CommerceInventoryToggle',propTypes:{disabled:j.bool.isRequired,inventory:j.number.isRequired,setInventoryInfo:j.func},render:function l(){var m=this.props.inventory>0?i._("In Stock"):i._("Out of Stock");return c('React').createElement('div',{className:"_3-95"},c('React').createElement('div',{className:"_2pim"},c('React').createElement(c('FBToggleSwitch.react'),{disabled:this.props.disabled,animate:true,checked:this.props.inventory>0,onToggle:this.props.setInventoryInfo}),c('React').createElement('span',{className:"_3jn"},m,c('React').createElement(c('AdsPopoverLink.react'),{popover:i._("Mark this product as in stock or out of stock"),position:'above',width:350}))))}});f.exports=k}),null);
__d("CommerceInventoryAvailabilityOptions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INVENTORY_IN_STOCK:100,INVENTORY_OUT_OF_STOCK:0})}),null);
__d("CommerceProductVariantType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SIZE:"Size",COLOR:"Color",MATERIAL:"Material",LENGTH:"Length",FIT:"Fit",WIDTH:"Width",SCENT:"Scent",FLAVOR:"Flavor",MODEL:"Model",FORMAT:"Format",PLATFORM:"Platform",EDITION:"Edition"})}),null);
__d("CommerceSelfServeSection",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CHECKOUT_URL:"checkout_url",COMMERCE_INSIGHTS:"commerce_insights",FEATURED_PRODUCT_TOGGLE:"featured_product_toggle",INVENTORY:"inventory",IN_STOCK_TOGGLE:"in_stock_toggle",PRODUCT_VISIBILITY:"product_visibility",SHIPPING_OPTIONS:"shipping_options",TAX_CATEGORY:"tax_category",TAX_TABLE:"tax_table",VARIANTS:"variants",MINIMUM_PRICE_ERROR:"minimum_price_error",SALE_PRICE:"sale_price",CATEGORY:"category"})}),null);
__d('PageCommerceProductVariantPage.react',['ix','cx','fbt','glyph','invariant','AccessibleTableParts.react','AdsCurrencyInput.react','AdsPopoverLink.react','CommerceInventoryAvailabilityOptions','CommerceInventoryToggle.react','CommerceProductVariantType','CommerceSelfServeSection','CommerceUI','DummySearchSource','FreeformSearchSource','Image.react','Layout.react','Link.react','NumberInput.atlas','CommerceCurrencyInputUtils','React','SearchableEntry','XUISingleSelector.react','XUITable.react','XUITokenizer.react','isEmpty'],(function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';var m=c('React').PropTypes,n=c('AccessibleTableParts.react').BodyRow,o=c('AccessibleTableParts.react').HeadRow,p=c('Layout.react').Column,q=c('Layout.react').FillColumn,r=c('XUISingleSelector.react').Option,s=c('React').createClass({displayName:'PageCommerceProductVariantPage',propTypes:{currencyCode:m.string.isRequired,defaultVariantPrice:m.number,getPriceError:m.func.isRequired,isOnSale:m.bool.isRequired,inventoryType:m.string.isRequired,setVariantInfo:m.func.isRequired,variants:m.arrayOf(m.shape({label:m.string,options:m.arrayOf(m.string)})).isRequired,variantItems:m.objectOf(m.shape({properties:m.object,price:m.number.isRequired,salePrice:m.number.isRequired,inventory:m.number,productID:m.number})).isRequired},_cachedItems:{},_deepClone:function t(u){return JSON.parse(JSON.stringify(u))},getInitialState:function t(){this._cachedItems=this._deepClone(this.props.variantItems);return {searchSource:new (c('FreeformSearchSource'))(new (c('DummySearchSource'))(),function(u){return u},0)}},render:function t(){var u=null;if(this.props.variants.length<c('CommerceUI').MAX_VARIANTS)u=c('React').createElement(c('Link.react'),{onClick:this._addNewVariantInput},j._("Add Option"));return c('React').createElement('div',{className:"_3-8j"},c('React').createElement('div',{ref:'variant_input_list'},this.props.variants.map(function(v,w){return this._getVariantInput(v,w,this._getVariantLabels())}.bind(this))),u,this._getVariantsTable())},_getVariantInput:function t(u,v,w){return c('React').createElement('div',{key:'variant'+v,className:"_3-95"},c('React').createElement(c('Layout.react'),null,c('React').createElement(p,null,this._getVariantOptions(u,v,w)),c('React').createElement(q,{className:"_2pis"},c('React').createElement(c('XUITokenizer.react'),{entries:this._getTokenizerEntries(u),searchSource:this.state.searchSource,onRemoveEntryAttempt:this._onRemoveVariantOptionAttempt.bind(this,u,v),onAddEntryAttempt:this._onAddVariantOptionAttempt.bind(this,u,v),tokenizeQueryString:this._tokenizeQueryString.bind(this,u,v),selectOnBlur:true})),c('React').createElement(p,null,c('React').createElement(c('Image.react'),{className:"_11dw",onClick:this._removeVariant.bind(this,u,v),src:h("101449")}))))},_getVariantsTable:function t(){if(c('isEmpty')(this.props.variants))return null;var u=[];for(var v in this.props.variantItems){var w=this.props.variantItems[v],x=w.properties,y=[];this.props.variants.forEach(function(ca,da){var ea=x&&x[ca.label]?x[ca.label]:'';y.push(c('React').createElement('td',{className:"_2ncv",key:da},ea))});y.push(c('React').createElement('td',{width:'50',key:v+'inventory'},this._getInventoryInput(v,w.inventory)));var z=c('CommerceCurrencyInputUtils').convertPEFormatToPBFormat(w.price,this.props.currencyCode),aa=c('CommerceCurrencyInputUtils').convertPEFormatToPBFormat(w.salePrice,this.props.currencyCode);y.push(c('React').createElement('td',{width:'50',key:v+'price'},c('React').createElement(c('AdsCurrencyInput.react'),{currency:this.props.currencyCode,onDataUpdate:this._updateVariantPrice.bind(this,v),value:z!==null?z:0,xuiError:this.props.getPriceError(w.price)})));if(this.props.isOnSale)y.push(c('React').createElement('td',{width:'50',key:v+'salePrice'},c('React').createElement(c('AdsCurrencyInput.react'),{currency:this.props.currencyCode,onDataUpdate:this._updateVariantSalePrice.bind(this,v),value:aa!==null?aa:0,xuiError:this.props.getPriceError(w.salePrice)})));u.push(c('React').createElement(n,{key:v},y))}var ba=[];this.props.variants.forEach(function(ca,da){ba.push(c('React').createElement('th',{key:ca.label+da},this._getVariantLabelDescription(String(ca.label))))}.bind(this));ba.push(c('React').createElement('th',{key:'inventory'},j._("Inventory")));ba.push(c('React').createElement('th',{key:'price'},j._("Price")));if(this.props.isOnSale)ba.push(c('React').createElement('th',{key:'salePrice'},j._("Sale Price"),c('React').createElement(c('AdsPopoverLink.react'),{popover:j._("You can disable individual \"Sale Prices\" by setting them equal to regular \"Prices\"."),position:'below',width:350})));return c('React').createElement(c('XUITable.react'),{outerBorder:true,className:"_2ncw"},c('React').createElement('thead',null,c('React').createElement(o,null,ba)),c('React').createElement('tbody',null,u))},_updateVariantPrice:function t(u,v){var w=c('CommerceCurrencyInputUtils').convertPBFormatToPEFormat(v,this.props.currencyCode);this._updateVariantItem(u,'price',w)},_getInventoryInput:function t(u,v){return this.props.inventoryType===c('CommerceSelfServeSection').IN_STOCK_TOGGLE?c('React').createElement(c('CommerceInventoryToggle.react'),{disabled:false,inventory:v!==null?v:0,setInventoryInfo:function(w){var x=w?c('CommerceInventoryAvailabilityOptions').INVENTORY_IN_STOCK:c('CommerceInventoryAvailabilityOptions').INVENTORY_OUT_OF_STOCK;this._updateVariantItem(u,'inventory',x)}.bind(this)}):c('React').createElement(c('NumberInput.atlas'),{isZeroValidValue:true,name:'inventory',nonnegative:true,value:v,formatNumber:false,onValueUpdated:this._updateVariantItem.bind(this,u,'inventory')})},_updateVariantSalePrice:function t(u,v){var w=c('CommerceCurrencyInputUtils').convertPBFormatToPEFormat(v,this.props.currencyCode);this._updateVariantItem(u,'salePrice',w)},_updateVariantItem:function t(u,v,w){var x=this.props.variantItems;x[u][v]=w;this._cachedItems[u][v]=w;this.props.setVariantInfo({variantItems:x})},_getVariantItems:function t(u){var v={};if(u.length===0)return v;this._getVariantCombos(u.slice(0)).forEach(function(w){var x=[];for(var y in w)x.push(y+w[y]);x.sort();var z=JSON.stringify(x);if(z in this._cachedItems){v[z]=this._deepClone(this._cachedItems[z])}else{v[z]={properties:w,price:this.props.defaultVariantPrice,salePrice:this.props.defaultVariantPrice,inventory:0};this._cachedItems[z]=this._deepClone(v[z])}}.bind(this));return v},_getVariantCombos:function t(u){if(u.length===0)return [{}];var v=[],w=u.shift(),x=this._getVariantCombos(u.slice(0));if(w.options.length==0)return x;w.options.forEach(function(y){x.forEach(function(z){var aa=Object.assign({},z);aa[w.label]=y;v.push(aa)})});return v},_getTokenizerEntries:function t(u){return u.options.map(function(v){return new (c('SearchableEntry'))({uniqueID:v,title:v})})},_onRemoveVariantOptionAttempt:function t(u,v,w){var x=w.getTitle().trim(),y=u.options.indexOf(x);if(y>=0)u.options.splice(y,1);this._updateVariant(u,v)},_onAddVariantOptionAttempt:function t(u,v,w){var x=w.getTitle().trim();if(u.options.indexOf(x)>=0||x.length===0)return;u.options.push(x);this._updateVariant(u,v)},_updateVariant:function t(u,v){var w=this.props.variants;w[v]=u;var x=this._getVariantItems(w);this.props.setVariantInfo({variants:w,variantItems:x})},_tokenizeQueryString:function t(u,v,w){if(!w||!w.includes(','))return null;var x=w.split(',').filter(function(z){return z!==''}),y=x.pop();x.map(function(z){this._onAddVariantOptionAttempt(u,v,new (c('SearchableEntry'))({uniqueID:z,title:z}))}.bind(this));return new (c('SearchableEntry'))({uniqueID:y,title:y})},_addNewVariantInput:function t(){var u=this.props.variants;u.push(this._getDefaultVariant());this.props.setVariantInfo({variants:u,variantItems:this._getVariantItems(u)})},_removeVariant:function t(u,v){var w=this.props.variants;w.splice(v,1);this.props.setVariantInfo({variants:w,variantItems:this._getVariantItems(w)})},_getVariantLabels:function t(){return this.props.variants.map(function(u){return String(u.label)})},_getDefaultVariant:function t(){var u=this._getVariantLabels(),v=void 0;for(var w in c('CommerceProductVariantType')){var x=c('CommerceProductVariantType')[w];if(u.indexOf(x)===-1){v=x;break}}return {label:v,options:[]}},_getVariantOptions:function t(u,v,w){var x=[];for(var y in c('CommerceProductVariantType')){var z=c('CommerceProductVariantType')[y];if(u.label!==z&&w.indexOf(z)!==-1)continue;x.push(c('React').createElement(r,{key:y+v,value:z},this._getVariantLabelDescription(z)))}return c('React').createElement(c('XUISingleSelector.react'),{className:"_11dy",onChange:this._onSelectorChange.bind(this,u,v),value:u.label,size:'large'},x)},_getVariantLabelDescription:function t(u){var v=u.toUpperCase();Object.prototype.hasOwnProperty.call(c('CommerceProductVariantType'),v)||l(0);switch(c('CommerceProductVariantType')[v]){case c('CommerceProductVariantType').SIZE:return j._("Size");case c('CommerceProductVariantType').COLOR:return j._("Color");case c('CommerceProductVariantType').MATERIAL:return j._("Material");case c('CommerceProductVariantType').LENGTH:return j._("Length");case c('CommerceProductVariantType').FIT:return j._("Fit");case c('CommerceProductVariantType').WIDTH:return j._("Width");case c('CommerceProductVariantType').SCENT:return j._("Scent");case c('CommerceProductVariantType').FLAVOR:return j._("Flavor");case c('CommerceProductVariantType').MODEL:return j._("Model");case c('CommerceProductVariantType').FORMAT:return j._("Format");case c('CommerceProductVariantType').PLATFORM:return j._("Platform");case c('CommerceProductVariantType').EDITION:return j._("Edition");default:return u;}},_onSelectorChange:function t(u,v,w){var x=this.props.variants;x[v].label=w.value;this.props.setVariantInfo({variants:x,variantItems:this._getVariantItems(x)});u.label=w.value;this._updateVariant(u,v)}});f.exports=s}),null);
__d("XPagesManagerProductDeleteController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pages\/content_tab\/products\/product_delete\/",{group_ids:{type:"StringVector"}})}),null);
__d("XPagesManagerProductUpdateInventoryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pages\/content_tab\/products\/update_inventory\/",{product_group_ids:{type:"IntVector"},inventory_in_stock:{type:"Bool",defaultValue:false}})}),null);
__d('PageProductActions',['fbt','ActorURI','AsyncRequest','PageContentTabCommonConfig','PageContentTabDispatcher','PageContentTabLoadingDialog','XPagesManagerProductDeleteController','XPagesManagerProductUpdateInventoryController'],(function a(b,c,d,e,f,g,h){'use strict';var i={deleteProducts:function j(k,l,m){c('PageContentTabLoadingDialog').show();var n=c('ActorURI').create(c('XPagesManagerProductDeleteController').getURIBuilder().setStringVector('group_ids',k).getURI(),l);new (c('AsyncRequest'))(n).setMethod('POST').setHandler(function(o){k.forEach(function(p){return c('PageContentTabDispatcher').handlePostRemoved(l,p)})}).setFinallyHandler(function(){c('PageContentTabLoadingDialog').hide();m&&m()}).send()},deleteProductsWithConfirmation:function j(k,l,m){var n=k.length===1?h._("Deleting this product will remove it from your shop"):h._("Deleting these products will remove them from your shop");c('PageContentTabCommonConfig').showConfirmationDialog(h._({"Product":"Delete Product ?","Products":"Delete Products ?"},[h['enum'](k.length===1?'Product':'Products',{Product:'Product',Products:'Products'})]),n,h._({"product":"Delete product","products":"Delete products"},[h['enum'](k.length===1?'product':'products',{product:'product',products:'products'})]),i.deleteProducts.bind(i,k,l,m),null)},MarkStockWithConfirmation:function j(k,l,m,n){var o=l.map(function(t){return t.id}),p=false;l.forEach(function(t){if(t.products.data.length>1)p=true;});var q=null;if(m){q=p?h._({"product":"Mark product as in stock. All variants will be affected","products":"Mark products as in stock. All variants will be affected"},[h['enum'](o.length===1?'product':'products',{product:'product',products:'products'})]):h._({"product":"Mark product as in stock","products":"Mark products as in stock"},[h['enum'](o.length===1?'product':'products',{product:'product',products:'products'})])}else q=p?h._({"product":"Mark product as out of stock. All variants will be affected","products":"Mark products as out of stock. All variants will be affected"},[h['enum'](o.length===1?'product':'products',{product:'product',products:'products'})]):h._({"product":"Mark product as out of stock","products":"Mark products as out of stock"},[h['enum'](o.length===1?'product':'products',{product:'product',products:'products'})]);var r=m?h._("Mark in stock"):h._("Mark out of stock"),s=m?h._("Mark in stock"):h._("Mark out of stock");c('PageContentTabCommonConfig').showConfirmationDialog(r,q,s,i.MarkStockProducts.bind(i,k,m,l,n),null,null)},MarkStockProducts:function j(k,l,m,n){c('PageContentTabLoadingDialog').show();var o=m.map(function(q){return q.id}),p=c('ActorURI').create(c('XPagesManagerProductUpdateInventoryController').getURIBuilder().setIntVector('product_group_ids',o).setBool('inventory_in_stock',l).getURI(),k);new (c('AsyncRequest'))(p).setMethod('POST').setHandler(function(q){var r=q.payload;m.forEach(function(s){if(s.id in r){var t=s.products.data[0];t.inventory=r[s.id];if(t.commerce_settings){t.commerce_settings.inventory=t.inventory;t.commerce_settings.total_inventory=t.inventory}c('PageContentTabDispatcher').handlePostChanged(s)}})}).setFinallyHandler(function(){c('PageContentTabLoadingDialog').hide();n&&n()}).send()}};f.exports=i}),null);
__d("BOFSellerLoggingSources",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADD_SECTION:"AddSection",FINISH_SETUP_BANNER:"FinishSetupBanner",PAGE_COMPOSER:"PageComposer",PRODUCT_TAGGING_TYPEAHEAD:"ProductTaggingTypeahead",PUBLISHING_TOOLS:"PublishingTools",QP:"QP",SHOP_TAB:"ShopTab",STRIPE_REDIRECT:"StripeRedirect",GRAPH_API:"GraphApi",DEV_TEST:"DevTest",SHOP_EDIT:"ShopEdit",PAGE_CARD:"PageCard"})}),null);
__d("CommerceB2CUnsupportedCurrencies",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CNY:"CNY",CUC:"CUC",IRR:"IRR",KPW:"KPW",SDG:"SDG",SYP:"SYP"})}),null);
__d('CommerceCurrencySelector.react',['CurrencyConfig','CommerceB2CUnsupportedCurrencies','React','XUISingleSelector.react'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('XUISingleSelector.react').Option,k=c('React').PropTypes,l=200,m='FBZ';h=babelHelpers.inherits(n,c('React').Component);i=h&&h.prototype;n.prototype.render=function(){var o=this.$CommerceCurrencySelector1(),p=this.props.selectedCurrency;o=o.filter(function(r){return !this.$CommerceCurrencySelector2(r.iso)}.bind(this));if(this.$CommerceCurrencySelector2(p))p='USD';var q=o.map(function(r){return c('React').createElement(j,{key:r.iso,value:r.iso},r.name)});return c('React').createElement(c('XUISingleSelector.react'),{maxheight:l,value:p,onChange:this.props.onChange},q)};n.prototype.$CommerceCurrencySelector2=function(o){return Object.values(c('CommerceB2CUnsupportedCurrencies')).indexOf(o)!==-1};n.prototype.$CommerceCurrencySelector1=function(){var o=c('CurrencyConfig').allCurrenciesByCode,p=Object.keys(o);return p.map(function(q){return o[q]}).filter(function(q){return q.iso!==m&&q.name!==null}).sort(function(q,r){return q.name.localeCompare(r.name)})};function n(){h.apply(this,arguments)}n.propTypes={onChange:k.func.isRequired,selectedCurrency:k.string.isRequired,selectedPaymentProvider:k.number};f.exports=n}),null);
__d("CommerceSelfServeProductTaxCategories",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NONE:0,TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD:4900000,TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION:4.9e+07,TAX_ITEM_CODE_COMMERCE_CLOTHING:53100000,TAX_ITEM_CODE_COMMERCE_SHOES:53110000,TAX_ITEM_CODE_COMMERCE_LUGGAGE_BAGS:53120000,TAX_ITME_CODE_COMMERCE_PERSONAL_CARE:53130000,TAX_ITEM_CODE_COMMERCE_JEWELRY:54100000,TAX_ITEM_CODE_COMMERCE_WATCHES:54111500,TAX_ITEM_CODE_COMMERCE_OTHERS:-1})}),null);
__d('PageProductComposerMarketplaceCategorySelector.react',['cx','fbt','BUIFormSelector.react','React','XUIGrayText.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('BUIFormSelector.react').Option;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.props.categories.map(function(o){return c('React').createElement(l,{value:o.id,key:o.id},o.text)});return c('React').createElement('div',{className:"_3-8x"},c('React').createElement(c('XUIGrayText.react'),{className:"_3-94",display:'block',weight:'bold',shade:'dark',size:'small'},i._("Product Category")),c('React').createElement(c('BUIFormSelector.react'),{density:'snug',onChange:function(o){return this.props.onCategoryClick(o.value)}.bind(this),value:this.props.value},n))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d('PageProductComposerShippingOptions.react',['ix','cx','fbt','xuiglyph','CommerceSelfServeUI','CurrencyInput.atlas','Image.react','LeftRight.react','Link.react','React','XUIGrayText.react','XUIText.react','XUITextInput.react'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m,n=c('React').PropTypes;l=babelHelpers.inherits(o,c('React').Component);m=l&&l.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=m.constructor).call.apply(p,[this].concat(s)),this.$PageProductComposerShippingOptions1=function(){return {shipping_country:'US',shipping_price_currency:this.props.currencyCode,shipping_price_value:0,shipping_service:null}}.bind(this),this.$PageProductComposerShippingOptions2=function(u,v){var w=this.props.shippingOptions;w[u].shipping_service=v;this.props.onShippingOptionsChange(w)}.bind(this),this.$PageProductComposerShippingOptions3=function(u,v){var w=this.props.shippingOptions;w[u].shipping_price_value=v;this.props.onShippingOptionsChange(w)}.bind(this),this.$PageProductComposerShippingOptions5=function(){var u=this.props.shippingOptions;u[u.length]=this.$PageProductComposerShippingOptions1();this.props.onShippingOptionsChange(u)}.bind(this),this.$PageProductComposerShippingOptions4=function(u){var v=this.props.shippingOptions;v.splice(u,1);this.props.onShippingOptionsChange(v);var w=u>0?u-1:0;this.refs[w].focusInput()}.bind(this),q}o.prototype.componentWillMount=function(){if(this.props.shippingOptions.length===0)this.props.onShippingOptionsChange([this.$PageProductComposerShippingOptions1()]);};o.prototype.componentWillReceiveProps=function(p){if(p.shippingOptions.length===0)this.props.onShippingOptionsChange([this.$PageProductComposerShippingOptions1()]);};o.prototype.render=function(){var p=this.props.shippingOptions.length,q=h("88985"),r=[];this.props.shippingOptions.forEach(function(x){var y=x.shipping_service,z=r.length;r[z]=c('React').createElement('tr',{className:"_5b1f",key:'option-'+z},c('React').createElement('td',{className:"_b3y"},c('React').createElement(c('XUITextInput.react'),{className:"_2mfs",disabled:this.props.disabled,height:'tall',value:y,placeholder:j._("Shipping method name"),onChange:function(aa){return this.$PageProductComposerShippingOptions2(z,aa.target.value)}.bind(this),ref:z})),c('React').createElement('td',{className:"_b3z"},c('React').createElement(c('CurrencyInput.atlas'),{className:"_5rpn",currency:x.shipping_price_currency,disabled:this.props.disabled,isZeroValidValue:true,value:Number(x.shipping_price_value)/100,onChange:function(aa){return this.$PageProductComposerShippingOptions3(z,aa*100)}.bind(this)})),p>c('CommerceSelfServeUI').MIN_SHIPPING_OPTIONS?c('React').createElement('td',{className:"_b3-"},c('React').createElement(c('Link.react'),{onClick:function(aa){this.props.disabled?null:this.$PageProductComposerShippingOptions4(z)}.bind(this)},c('React').createElement(c('Image.react'),{className:"_2_qb",src:q}))):null)}.bind(this));var s=void 0,t=c('React').createElement(c('XUIText.react'),{size:'small'},j._("Add Shipping Method"));if(p>=c('CommerceSelfServeUI').MAX_SHIPPING_OPTIONS){var u=j._("You have reached the maximum number of shipping options.");s=c('React').createElement(c('Link.react'),{'data-hover':'tooltip','data-tooltip-content':u,onClick:function x(y){return y.stopPropagation()}},t)}else s=c('React').createElement(c('Link.react'),{onClick:this.props.disabled?null:this.$PageProductComposerShippingOptions5},t);var v=null;if(this.props.settingsURI)v=c('React').createElement(c('Link.react'),{className:"_3-9b",href:this.props.settingsURI,target:'_blank'},j._("Edit Default Shipping Options"));var w=null;if(!this.props.hideTitle)w=c('React').createElement('div',{className:"_3-94"},c('React').createElement(c('XUIGrayText.react'),{display:'block',weight:'bold',shade:'dark',size:'small'},j._("Shipping Options"),v),c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'small'},j._("Customers will only be charged one shipping fee per order, even if they order more than one of this item.")));return c('React').createElement('div',{className:"_4qx _2pid"},w,c('React').createElement('table',{className:"_b40"},c('React').createElement('tbody',null,r)),c('React').createElement('div',{className:"_2pic _2pir"},s))};o.propTypes={currencyCode:n.string.isRequired,disabled:n.bool,hideTitle:n.bool,settingsURI:n.object,shippingOptions:n.arrayOf(n.shape({shipping_country:n.string,shipping_price_currency:n.string,shipping_price_value:n.number,shipping_service:n.string})).isRequired,onShippingOptionsChange:n.func.isRequired};f.exports=o}),null);
__d('PageProductComposerTaxCategorySelector.react',['cx','fbt','invariant','AdsPopoverLink.react','BUIFormSelector.react','CommerceSelfServeProductTaxCategories','React','XUIGrayText.react','forEachObject'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('BUIFormSelector.react').Option,n=c('React').PropTypes;k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;o.prototype.render=function(){var p=[];c('forEachObject')(c('CommerceSelfServeProductTaxCategories'),function(q,r){if(q!==c('CommerceSelfServeProductTaxCategories').NONE&&q!==c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD)p.push(c('React').createElement(m,{value:q,key:'UNSPSC_'+q},this.$PageProductComposerTaxCategorySelector1(r)));}.bind(this));return c('React').createElement('div',{className:"_3-8x"},c('React').createElement(c('XUIGrayText.react'),{className:"_3-94",display:'block',weight:'bold',shade:'dark',size:'small'},i._("Product Category"),c('React').createElement(c('AdsPopoverLink.react'),{popover:i._("This category is used to calculate taxes. You can also enter a tax rate under Custom Product Taxes in Advanced Options."),position:'below',width:350})),c('React').createElement(c('BUIFormSelector.react'),{density:'snug',onChange:this.props.onTaxCategoryChange,value:this.props.taxCategory},p))};o.prototype.$PageProductComposerTaxCategorySelector1=function(p){Object.prototype.hasOwnProperty.call(c('CommerceSelfServeProductTaxCategories'),p)||j(0);switch(c('CommerceSelfServeProductTaxCategories')[p]){case c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION:return i._("Sports and Recreation");case c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_CLOTHING:return i._("Clothing");case c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_SHOES:return i._("Shoes");case c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_LUGGAGE_BAGS:return i._("Luggage\/Bags");case c('CommerceSelfServeProductTaxCategories').TAX_ITME_CODE_COMMERCE_PERSONAL_CARE:return i._("Personal Care");case c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_JEWELRY:return i._("Jewelry");case c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_WATCHES:return i._("Watches");case c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_OTHERS:return i._("Other physical goods");default:j(0);}};function o(){k.apply(this,arguments)}o.propTypes={onTaxCategoryChange:n.func,taxCategory:n.number};o.defaultProps={taxCategory:c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_OTHERS};f.exports=o}),null);
__d('PageProductReviewNUX.react',['cx','fbt','React','ReactLayeredComponentMixin_DEPRECATED','XUIDialog.react','XUIDialogBody.react','XUICloseButton.react','XUIDialogFooter.react','XUIDialogOkayButton.react','XUIGrayText.react','classWithMixins','mixin'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=500;j=babelHelpers.inherits(n,c('classWithMixins')(c('React').Component,c('mixin')(c('ReactLayeredComponentMixin_DEPRECATED'))));k=j&&j.prototype;function n(){k.constructor.call(this);this.state={dialogShown:true}}n.prototype.render=function(){return c('React').createElement('span',null)};n.prototype.renderLayers=function(){if(!this.state.dialogShown)return {};return {dialog:c('React').createElement(c('XUIDialog.react'),{width:m,onToggle:function(o){return this.$PageProductReviewNux1.bind(this,o)}.bind(this),shown:this.state.dialogShown,layerHideOnBlur:false},c('React').createElement('div',{className:"_2pie _2pij"},c('React').createElement(c('XUICloseButton.react'),{label:this.props.closeButtonText,className:"layerCancel rfloat"})),c('React').createElement(c('XUIDialogBody.react'),{className:"_4o_9"},c('React').createElement('h1',{className:"_4o_a"},this.$PageProductReviewNux2()),c('React').createElement(c('XUIGrayText.react'),{size:'medium'},this.$PageProductReviewNux3())),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogOkayButton.react'),{use:'confirm',action:'button',onClick:this.$PageProductReviewNux1.bind(this,false)})))}};n.prototype.$PageProductReviewNux2=function(){return i._("You just added your first product!")};n.prototype.$PageProductReviewNux3=function(){return i._("All products are processed before they are visible to your customers. You will receive a notification when this is done, usually within a few minutes.")};n.prototype.$PageProductReviewNux1=function(o){this.setState({dialogShown:o});if(!o&&this.props.onDialogClosed)this.props.onDialogClosed();};n.propTypes={onDialogClosed:l.func};f.exports=n}),null);
__d("ProductVisibility",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LEGACY_PUBLIC:"",STAGING:"staging",PUBLISHED:"published"})}),null);
__d('ProductVisibilitySelector.react',['fbt','BUIFormSelector.react','ProductVisibility','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('BUIFormSelector.react').Option,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;m.prototype.render=function(){var n=this.props,o=n.onChange,p=n.value,q=babelHelpers.objectWithoutProperties(n,['onChange','value']);return c('React').createElement(c('BUIFormSelector.react'),babelHelpers['extends']({onChange:function(r){function s(t){return r.apply(this,arguments)}s.toString=function(){return r.toString()};return s}(function(r){return o(r.value)}),value:p},q),c('React').createElement(k,{value:c('ProductVisibility').PUBLISHED},h._("Public")),c('React').createElement(k,{value:c('ProductVisibility').STAGING},h._("Unpublished")))};function m(){i.apply(this,arguments)}m.propTypes=babelHelpers['extends']({onChange:l.func.isRequired,value:l.string.isRequired},c('BUIFormSelector.react').propTypes);f.exports=m}),null);
__d("XCommerceSelfServeParam",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EXPLANATION:"explanation",PAGE_ID:"page_id",AMOUNT:"amount",ADDRESS:"address",STREET_1:"street1",CITY:"city",STATE:"region",ZIP:"postalCode",ACCEPTED_TOS:"accepted_tos",ALERT_EMAIL:"alert_email",COLLECTION_NAME:"collection_name",CONTACT_EMAIL:"contact_email",SECONDARY_CTA:"secondary_product_cta",PAYMENT_PROVIDER:"payment_provider",PAYPAL_MERCHANT_EMAIL:"paypal_merchant_email",RETURN_POLICY_TIME:"return_policy_time",SETTINGS_ID:"settings_id",SHIPPING_POLICY_TIME:"shipping_policy_time",STRIPE_DEFERRED_EMAIL:"stripe_deferred_email",TAX_NEXUS_LOCATIONS:"tax_nexus_locations",VISIBILITY:"visibility",CHECKOUT_URL:"checkout_url",COLLECTION_ID:"collection_id",CURRENCY_CODE:"currency_code",DEFAULT_SHIPPING_OPTIONS_JSON:"default_shipping_options_json",FEATURED_PRODUCT:"featured_product",INVENTORY:"inventory",IS_ON_SALE:"is_on_sale",PRODUCT_CATALOG_ID:"catalog_id",PRODUCT_DESCRIPTION:"product_desc",PRODUCT_ID:"product_id",PRODUCT_PHOTO_IDS:"photo_ids",PRODUCT_VIDEO_IDS:"video_ids",PRODUCT_PRICE:"product_price",PRODUCT_SALE_PRICE:"product_sale_price",PRODUCT_TITLE:"product_title",SHARE_TO_TIMELINE:"share_to_timeline",SHIPPING_OPTION_NAMES:"shipping_option_names",SHIPPING_OPTION_VALUES:"shipping_option_values",TAX_APPLIED_TO_SHIPPING_MAP:"tax_applied_to_shipping_map",TAX_CATEGORY:"tax_category",TAX_LOCATIONS:"tax_locations",TAX_PERCENT_MAP:"tax_percent_map",VARIANT_NAMES:"variant_names",VARIANT_INVENTORY:"variant_inventory_map",VARIANT_PRICE:"variant_price_map",VARIANT_SALE_PRICE:"variant_sale_price_map",VARIANT_DATA:"variant_serial_data_map",VARIANT_PRODUCT_ID:"variant_product_id_map",CATEGORY_ID:"category_id"})}),null);
__d("XPagesManagerFeaturedItemsCountController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pages\/content_tab\/featured_items_count\/",{})}),null);
__d("XPagesManagerProductCreateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pages\/content_tab\/products\/product_create\/",{})}),null);
__d("XPagesManagerProductVariantsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pages\/content_tab\/product_variants\/",{product_group_id:{type:"String",required:true}})}),null);
__d("XPagesManagerProductViewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pages\/content_tab\/product\/",{product_id:{type:"String",required:true}})}),null);
__d('PageProductComposerDialog.react',['ix','cx','fbt','AdsPopoverLink.react','AsyncRequest','ActorURI','BOFSellerLogger','BOFSellerLoggerEvent','BOFSellerLoggingSources','BUIFormButton.react','CommerceCurrencySelector.react','CommerceExceptionHandlerMixin.react','CommerceInventoryToggle.react','CommerceSelfServeSection','CommerceSelfServeProductTaxCategories','CommerceSelfServeProductTaxRatesTable.react','CommerceInventoryAvailabilityOptions','Currency','AdsCurrencyInput.react','DOM','FBNumberInput.react','FBToggleSwitch.react','Image.react','InlineBlock.react','Link.react','CommerceCurrencyInputUtils','PageCommerceProductVariantPage.react','PageContentTabDispatcher','PageContentTabProductPhotoUploader.react','PagesManagerProductToolsConstants','PageProductActions','PageProductComposerShippingOptions.react','PageProductComposerMarketplaceCategorySelector.react','PageProductComposerTaxCategorySelector.react','PageProductReviewNUX.react','PageSettingsRef','PECurrency','ProductVisibility','ProductVisibilitySelector.react','React','ReactDOM','XCommerceSelfServeParam','XPagesManagerFeaturedItemsCountController','XPagesManagerProductCreateController','XPagesManagerProductVariantsController','XPagesManagerSettingsController','XPagesManagerProductViewController','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogHeader.react','XUIDialogHeaderTitle.react','XUIDialogTitle.react','XUIError.react','XUIGrayText.react','XUINotice.react','XUISpinner.react','XUITextInput.react','areEqual','fbglyph','getOwnObjectValues','PageContentTabConstants'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('React').PropTypes,l=c('PageContentTabConstants').TABS,m='USD',n=500,o=80,p=3,q=50,r=1,s=100,t=100,u={main:'main',variant:'variant'},v={edit:'Edit',advanced:'Advanced'},w='0',x=c('React').createClass({displayName:'PageProductComposerDialog',mixins:[c('CommerceExceptionHandlerMixin.react')],propTypes:{categories:k.array,checkoutURL:k.string,collectionID:k.string,currencyCode:k.string,defaultShippingOptions:k.array,onProductChanged:k.func,onProductCreated:k.func,onProductDeleted:k.func,pageContentTabAccessToken:k.string.isRequired,pageID:k.string.isRequired,pageHasShop:k.bool.isRequired,productCatalogID:k.string.isRequired,productID:k.string,productGroupID:k.string,requireDescription:k.bool.isRequired,sections:k.array.isRequired,shownInitially:k.bool,showShareToTimelineToggle:k.bool,showTOS:k.bool,showVideoUploadButton:k.bool,source:k.oneOf(c('getOwnObjectValues')(c('BOFSellerLoggingSources'))).isRequired,tosURI:k.string,onClose:k.func,shouldCreateShopFromProduct:k.bool},getDefaultProps:function y(){return {showShareToTimelineToggle:true}},getInitialState:function y(){return {categoryID:null,checkoutURL:this.props.checkoutURL||'',currencyCode:this.props.currencyCode||m,currentTabKey:v.edit,currentPage:u.main,dialogShown:this.props.shownInitially,errorTabs:[],featuredCount:0,hasAttemptedSave:false,inventory:c('CommerceInventoryAvailabilityOptions').INVENTORY_IN_STOCK,isOnSale:false,loading:false,saving:false,photos:[],videos:[],productDesc:'',productPrice:0,productSalePrice:0,productTitle:'',productVisibility:c('ProductVisibility').PUBLISHED,shareToTimeline:false,shippingOptions:this.props.defaultShippingOptions||[],taxCategory:c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_OTHERS,taxRates:{state_abbr:{},zip_code:{}},showVariants:false,visibilityNotice:null,variants:[],variantItems:{}}},componentWillMount:function y(){this._reviewedProductData=this._getReviewableDataFromState(this.state);if(this.props.productID)this._fetchProductDetails(this.props.pageID,this.props.productID);if(this.props.productGroupID)this._fetchVariants(this.props.pageID,this.props.productGroupID);this._fetchFeaturedCount(this.props.pageID)},componentDidMount:function y(){var event=this.props.productID?c('BOFSellerLoggerEvent').ACTN_EDIT_PRODUCT_CLICK:c('BOFSellerLoggerEvent').ACTN_ADD_PRODUCT_CLICK;this._logEvent(event)},componentWillReceiveProps:function y(z){if(this.props.pageID!==z.pageID||this.props.productID!==z.productID||this.props.productGroupID!==z.productGroupID){this._fetchProductDetails(z.pageID,z.productID);this._fetchVariants(z.pageID,z.productGroupID)}},_fetchFeaturedCount:function y(z){this.setState({loading:true});var aa=c('ActorURI').create(c('XPagesManagerFeaturedItemsCountController').getURIBuilder().getURI(),z);new (c('AsyncRequest'))().setURI(aa).setHandler(function(ba){var ca=ba.payload.featured_count;this.setState({loading:false,featuredCount:ca})}.bind(this)).send()},_fetchProductDetails:function y(z,aa){this.setState({loading:true});var ba=c('ActorURI').create(c('XPagesManagerProductViewController').getURIBuilder().setString(c('XCommerceSelfServeParam').PRODUCT_ID,aa).getURI(),z);new (c('AsyncRequest'))().setURI(ba).setHandler(this._onProductDetailsFetched).send()},_fetchVariants:function y(z,aa){this.setState({loading:true});var ba=c('ActorURI').create(c('XPagesManagerProductVariantsController').getURIBuilder().setString('product_group_id',aa).getURI(),z);new (c('AsyncRequest'))().setURI(ba).setHandler(function(ca){var da=ca.payload,ea={variants:da.variants,variantItems:da.variantItems};this._oldVariants=this._deepClone(ea);this._reviewedProductData=this._getReviewableDataFromState(babelHelpers['extends']({},this.state,da));this.setState(da)}.bind(this)).send()},_oldVariants:{variants:[],variantItems:{}},_deepClone:function y(z){return JSON.parse(JSON.stringify(z))},onPhotosSelected:function y(z){this.setState({photos:this.state.photos.concat(z)})},onPhotoRemoved:function y(z){this.setState({photos:this.state.photos.filter(function(aa){return aa.fbid!==z.fbid})})},onPhotoEdited:function y(z,aa){var ba=this.state.photos.findIndex(function(da){return da.fbid===z});if(ba!==undefined){c('BOFSellerLogger').log(c('BOFSellerLoggerEvent').ACTN_PHOTO_EDITED,this.props.pageID,{target_class:'Photo',target_id:aa.fbid});var ca=this.state.photos.slice();ca[ba]=aa;this.setState({photos:ca})}},_onVideoSelected:function y(z){var aa=this.state.videos;aa=aa.concat({requestID:z,fbid:z,src:null,ready:false,error:false});this.setState({videos:aa})},_onVideoRemoved:function y(z){this.setState({videos:this.state.videos.filter(function(aa){return aa.fbid!==z.fbid})})},_onVideoUploadFinished:function y(z,aa,ba){var ca=this.state.videos;for(var da=0;da<ca.length;da++)if(ca[da].requestID===z){ca[da].fbid=aa;ca[da].src=ba;ca[da].ready=true}this.setState({videos:ca})},_onVideoUploadError:function y(z){var aa=this.state.videos;for(var ba=0;ba<aa.length;ba++)if(aa[ba].requestID===z){aa[ba].error=true;aa[ba].ready=false}this.setState({videos:aa})},_getDialogHeader:function y(){switch(this.state.currentPage){case u.main:return c('React').createElement(c('XUIDialogHeader.react'),{activeTabKey:this.state.currentTabKey,onTabClick:this._handleTabChange},this._getTabHeaders());case u.variant:return c('React').createElement(c('XUIDialogTitle.react'),null,this._getTitle());}return c('React').createElement('div',null)},_getTabHeaders:function y(){var z=[c('React').createElement(c('XUIDialogHeaderTitle.react'),{href:'#',key:v.edit},this._getTitle())];if(this._showSection(c('CommerceSelfServeSection').TAX_TABLE))z.push(c('React').createElement(c('XUIDialogHeaderTitle.react'),{href:'#',key:v.advanced},j._("Advanced Options")));return z},_getPhotoUploader:function y(){var z=this.state.hasAttemptedSave?this._getPhotosError(this.state.photos):null;return c('React').createElement(c('PageContentTabProductPhotoUploader.react'),{className:"_2anr",pageID:this.props.pageID,photoEditingEnabled:true,photos:this.state.photos,onPhotosSelected:this.onPhotosSelected,onPhotoRemoved:this.onPhotoRemoved,onPhotoEdited:this.onPhotoEdited,productCatalogID:this.props.productCatalogID,pageContentTabAccessToken:this.props.pageContentTabAccessToken,videos:this.state.videos,onVideoSelected:this._onVideoSelected,onVideoUploadFinished:this._onVideoUploadFinished,onVideoUploadError:this._onVideoUploadError,onVideoRemoved:this._onVideoRemoved,showVideoUploadButton:this.props.showVideoUploadButton,xuiError:z})},_getPhotoTooltip:function y(){if(this.state.photos.length>0||this.state.videos.length>0)return null;if(this.props.source===c('BOFSellerLoggingSources').PRODUCT_TAGGING_TYPEAHEAD&&!this.props.pageHasShop)return c('React').createElement(c('XUINotice.react'),{size:'small'},c('React').createElement('div',{className:"_45zv"},j._("Adding a product lets you tag it in posts, photos and videos on your Page.")));return c('React').createElement(c('XUINotice.react'),{size:'small'},c('React').createElement('div',{className:"_1mxl"},j._("Check out our {link} for tips on making your product images look good on Facebook.",[j.param('link',c('React').createElement(c('Link.react'),{href:'https://www.facebook.com/business/help/481150918755515',target:'_blank'},j._("recommended photo guidelines")))])))},_getTabBodies:function y(){var z=this.state.currentTabKey==v.edit,aa=[c('React').createElement('div',{className:z?"_2pi1":"hidden_elem",key:'basic_product_edit_tab'},c('React').createElement('div',{dangerouslySetInnerHTML:this.state.visibilityNotice}),c('React').createElement('div',null,this._getPhotoUploader(),this._getPhotoTooltip()),c('React').createElement('div',{className:"clearfix"}),this._getNamePriceDescriptionInputs(),this._getCheckoutURLInput(),this._getFeaturedToggleSwitch(),this._getShareToTimelineToggle(),c('React').createElement('div',{className:"_3p77"},c('React').createElement('div',{className:"_4o5s"},this._getInventoryInput()),c('React').createElement('div',{className:"_4o5t"},this._getTaxCategorySelector())),c('React').createElement('div',{className:"_3p77"},c('React').createElement('div',{className:"_4o5s"},this._getVariantsButton()),c('React').createElement('div',{className:"_4o5t"},this._getVisibilitySelector())),this._getEditWarning(),this._getShippingOptionsSection(),this._getShopCreationNoticeSection(),this._getTOSSection())];if(this._showSection(c('CommerceSelfServeSection').TAX_TABLE))aa.push(c('React').createElement('div',{className:(z?"hidden_elem":'')+(' '+"_2pi1")+(' '+"_5dz6"),key:'advanced_product_edit_tab'},this._getTaxTable()));return aa},_getShopCreationNoticeSection:function y(){if(this.props.pageHasShop||!this.props.shouldCreateShopFromProduct)return null;return c('React').createElement('div',{className:"_3-8x _4u1-"},j._("When you add a product we will create a shop section for your page. You can easily edit and manage your products within your shop."))},_getTOSSection:function y(){if(!this.props.showTOS)return null;return c('React').createElement('div',{className:"_3-8x _1otd"},j._("By clicking {Label displayed on button to save a product}, you agree to the {Merchant Terms and Policies link}",[j.param('Label displayed on button to save a product',this._getSaveButtonText()),j.param('Merchant Terms and Policies link',c('React').createElement(c('Link.react'),{href:this.props.tosURI,target:'_blank'},'Merchant Terms and Policies'))]))},_getMerchantSettingsURI:function y(){return c('XPagesManagerSettingsController').getURIBuilder().setString('page_token',this.props.pageID).setString('tab','shop').setString('ref',c('PageSettingsRef').PRODUCT_COMPOSER).getURI()},_getTaxTable:function y(){return c('React').createElement('div',null,c('React').createElement('div',{display:'block',className:"_3-96"},c('React').createElement(c('XUIGrayText.react'),{weight:'bold',shade:'dark',size:'medium'},j._("Custom Product Taxes")),c('React').createElement(c('AdsPopoverLink.react'),{popover:j._("You can enter specific taxes for products taxed at special rates, such as some foods and beverages."),position:'below',width:350})),c('React').createElement(c('CommerceSelfServeProductTaxRatesTable.react'),{taxRates:this.state.taxRates,onChangeTaxRates:this._onChangeTaxRates}),c('React').createElement('div',{display:'block',className:"_3-8x"},c('React').createElement(c('Link.react'),{href:this._getMerchantSettingsURI(),target:'_blank'},j._("View Default Shop Taxes"))))},_getInnerContent:function y(){if(this.state.loading)return c('React').createElement(c('XUISpinner.react'),{className:"_2_i8",size:'large'});switch(this.state.currentPage){case u.main:return c('React').createElement('div',null,this._getTabBodies());case u.variant:return c('React').createElement('div',null,c('React').createElement('div',{className:"_1go"},c('React').createElement(c('InlineBlock.react'),{alignv:'middle',className:"_1gp",onClick:this._onVariantsSaveButtonClicked},c('React').createElement(c('Image.react'),{src:h("141823")})),c('React').createElement(c('InlineBlock.react'),{alignv:'middle',className:"_1gq"},j._("More options"))),c('React').createElement('div',{className:"_3-8j"},c('React').createElement(c('XUIGrayText.react'),{display:'block'},j._("Add options like sizes, colors or materials that your product comes in."))),c('React').createElement(c('PageCommerceProductVariantPage.react'),{currencyCode:this.state.currencyCode,defaultVariantPrice:this.state.productPrice,getPriceError:this._getPriceError,inventoryType:this._showSection(c('CommerceSelfServeSection').IN_STOCK_TOGGLE)?c('CommerceSelfServeSection').IN_STOCK_TOGGLE:c('CommerceSelfServeSection').INVENTORY,isOnSale:this.state.isOnSale,setVariantInfo:function(z){return this.setState(z)}.bind(this),variants:this.state.variants,variantItems:this.state.variantItems}));}return c('React').createElement('div',null)},_backToMainPage:function y(){this.setState({currentPage:u.main})},_getVariantsButton:function y(){if(!this._showSection(c('CommerceSelfServeSection').VARIANTS))return null;return c('React').createElement('div',{className:"_3-8x"},c('React').createElement(c('XUIGrayText.react'),{weight:'bold',shade:'dark',size:'small',display:'block'},j._("Options"),c('React').createElement(c('AdsPopoverLink.react'),{popover:j._("Add options like sizes, colors or materials that your product comes in."),position:'below',width:350})),c('React').createElement(c('BUIFormButton.react'),{className:"_3-8w",density:'snug',label:j._("Edit Options"),onClick:function(){return this.setState({currentPage:u.variant})}.bind(this)}))},_getCheckoutURLInput:function y(){if(!this._showSection(c('CommerceSelfServeSection').CHECKOUT_URL))return null;var z=this.getFieldErrorMessage(c('XCommerceSelfServeParam').CHECKOUT_URL)||(this.state.hasAttemptedSave?this._getCheckoutURLError(this.state.checkoutURL):null);return c('React').createElement('div',{className:"_3-97"},c('React').createElement(c('XUIGrayText.react'),{display:'inline',shade:'dark',size:'small',weight:'bold'},j._("Checkout URL")),c('React').createElement(c('AdsPopoverLink.react'),{popover:j._("The website where users will be directed to purchase this product"),position:'above',width:350}),c('React').createElement(c('XUITextInput.react'),{className:"_2mfs",disabled:this.state.loading,height:'tall',name:'checkoutURL',onChange:function(event){return this.setState({checkoutURL:event.target.value})}.bind(this),placeholder:j._("http:\/\/www.example.com"),value:this.state.checkoutURL,xuiError:z}))},_getDialogFooter:function y(){switch(this.state.currentPage){case u.main:return this._getMainFooter();case u.variant:return this._getVariantsFooter();}return null},_getMainFooter:function y(){var z=null;if(this.props.productID&&!this.state.loading)z=c('React').createElement(c('Link.react'),{onClick:this.state.saving?null:this._onDeleteProductClicked},c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'small'},j._("Delete Product")));var aa=this.state.saving?c('React').createElement(c('XUISpinner.react'),{size:'small',className:"_3-90"}):null;return c('React').createElement(c('XUIDialogFooter.react'),{leftContent:z},aa,c('React').createElement(c('XUIDialogCancelButton.react'),{disabled:this.state.saving||this.state.loading}),c('React').createElement(c('XUIDialogButton.react'),{use:'confirm',label:this._getSaveButtonText(),action:'button',disabled:this.state.saving||this.state.loading,onClick:this._onSubmitButtonClicked}))},_getVariantsFooter:function y(){return c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:j._("Cancel"),action:'button',use:'default',onClick:this._onVariantsCancelButtonClicked}),c('React').createElement(c('XUIDialogButton.react'),{label:j._("Apply"),action:'button',use:'confirm',onClick:this._onVariantsSaveButtonClicked}))},_onVariantsCancelButtonClicked:function y(){this.setState(this._deepClone(this._oldVariants));this._backToMainPage()},_onVariantsSaveButtonClicked:function y(){this._oldVariants=this._deepClone({variants:this.state.variants,variantItems:this.state.variantItems});this._backToMainPage()},show:function y(){this.setState({currentPage:u.main,dialogShown:true})},hide:function y(){this.props.onClose&&this.props.onClose();this.setState({dialogShown:false})},_onDeleteProductClicked:function y(){c('PageProductActions').deleteProductsWithConfirmation(Array(this.props.productGroupID),this.props.pageID,function(){this.hide();if(this.props.onProductDeleted)this.props.onProductDeleted();}.bind(this))},_getCategoryInput:function y(){if(!this._showSection(c('CommerceSelfServeSection').CATEGORY))return null;var z=this.state.categoryID?this.state.categoryID:w,aa={id:w,text:j._("Select category (optional)")};return c('React').createElement(c('PageProductComposerMarketplaceCategorySelector.react'),{categories:[aa].concat(this.props.categories),value:z,onCategoryClick:function(ba){if(ba===w)ba=null;this.setState({categoryID:ba})}.bind(this)})},_getNamePriceDescriptionInputs:function y(){var z=null;if(this.props.requireDescription){z=j._("Add details about your item")}else z=j._("Add details about your item (Optional)");var aa=null;if(this.state.variants.length===0){var ba=c('CommerceCurrencyInputUtils').convertPEFormatToPBFormat(this.state.productPrice,this.state.currencyCode);aa=c('React').createElement(c('AdsCurrencyInput.react'),{className:"_5rpn",currency:this.state.currencyCode,disabled:this.state.loading||this.state.variants.length>0,invalidInputIsNull:true,nonnegative:true,onDataUpdate:function(ga){this.setState({productPrice:c('CommerceCurrencyInputUtils').convertPBFormatToPEFormat(ga,this.state.currencyCode)})}.bind(this),placeholder:j._("Enter price"),value:ba!==null?ba:0,xuiError:this.state.hasAttemptedSave?this._getPriceError(this.state.productPrice):null});if(!this.props.currencyCode)aa=c('React').createElement('div',null,c('React').createElement('div',{className:"_4tjr"},c('React').createElement(c('CommerceCurrencySelector.react'),{onChange:function(event){return this.setState({currencyCode:event.value})}.bind(this),selectedCurrency:this.state.currencyCode})),c('React').createElement('div',{className:"_4tke"},aa));}else aa=c('React').createElement('div',{className:"_4o5u"},c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'medium',className:"_4o5v"},this._getVariantsPriceRange('price')),c('React').createElement(c('Link.react'),{size:'small',className:"_20ac _2pii",onClick:function(){return this.setState({currentPage:u.variant})}.bind(this)},j._("Edit")));var ca=null;if(this.state.isOnSale){var da=void 0;if(this.state.variants.length===0){var ea=c('CommerceCurrencyInputUtils').convertPEFormatToPBFormat(this.state.productSalePrice,this.state.currencyCode);da=c('React').createElement(c('AdsCurrencyInput.react'),{className:"_5rpn",currency:this.state.currencyCode,disabled:this.state.loading||this.state.variants.length>0,invalidInputIsNull:true,nonnegative:true,onDataUpdate:function(ga){this.setState({productSalePrice:c('CommerceCurrencyInputUtils').convertPBFormatToPEFormat(ga,this.state.currencyCode)})}.bind(this),placeholder:j._("Enter price"),value:ea!==null?ea:0,xuiError:this.state.hasAttemptedSave?this._getSalePriceError(this.state.productSalePrice):null})}else da=c('React').createElement('div',{className:"_4o5u"},c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'medium',className:"_4o5v"},this._getVariantsPriceRange('salePrice')),c('React').createElement(c('Link.react'),{size:'small',className:"_20ac _2pii",onClick:function(){return this.setState({currentPage:u.variant})}.bind(this)},j._("Edit")));ca=c('React').createElement('div',{className:"_4o5t"},c('React').createElement(c('XUIGrayText.react'),{className:"_3-8x _3-94",display:'block',weight:'bold',shade:'dark',size:'small'},j._("Sale Price")),da)}var fa=this.state.hasAttemptedSave?this._getProductDescriptionError(this.state.productDesc):null;return c('React').createElement('div',{className:"_2pin"},this._getNameInput(),c('React').createElement('div',{className:this.state.isOnSale?"_4o5s":''},c('React').createElement(c('XUIGrayText.react'),{className:"_3-8x _3-94",display:'block',weight:'bold',shade:'dark',size:'small'},j._("Price")),aa),ca,c('React').createElement('div',{className:"clearfix"}),this._getSaleToggleSwitch(),c('React').createElement(c('XUIGrayText.react'),{className:"_3-8x _3-94",display:'block',weight:'bold',shade:'dark',size:'small'},j._("Description")),c('React').createElement(c('XUIError.react'),{xuiError:fa},c('React').createElement('textarea',{name:'productDescription',className:"_3jm _2ph-",disabled:this.state.loading,rows:p,value:this.state.productDesc,onChange:function(event){return this.setState({productDesc:event.target.value})}.bind(this),placeholder:z})),this._getCategoryInput())},_getNameInput:function y(){var z=this.getFieldErrorMessage(c('XCommerceSelfServeParam').PRODUCT_TITLE)||(this.state.hasAttemptedSave?this._getProductTitleError(this.state.productTitle):null);return c('React').createElement('div',null,c('React').createElement(c('XUIGrayText.react'),{className:"_3-94",display:'block',weight:'bold',shade:'dark',size:'small'},j._("Name")),c('React').createElement(c('XUITextInput.react'),{name:'productTitle',className:"_2mfs",disabled:this.state.loading,value:this.state.productTitle,height:'tall',maxLength:o,onChange:function(event){return this.setState({productTitle:event.target.value})}.bind(this),xuiError:z}))},_getVariantsPriceRange:function y(z){var aa=Number.MAX_VALUE,ba=Number.MIN_VALUE;for(var ca in this.state.variantItems){var da=this.state.variantItems[ca];if(da[z]<aa)aa=da[z];if(da[z]>ba)ba=da[z];}var ea=this.state.currencyCode;if(aa===ba){return c('PECurrency').formatAmount(ea,aa,true,false,false)}else return c('PECurrency').formatAmount(ea,aa,true,false,false)+' - '+c('PECurrency').formatAmount(ea,ba,true,false,false);},_getTaxCategorySelector:function y(){if(!this._showSection(c('CommerceSelfServeSection').TAX_CATEGORY))return null;var z=this.state.taxCategory||c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_OTHERS;if(z===c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD)z=c('CommerceSelfServeProductTaxCategories').TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION;return c('React').createElement(c('PageProductComposerTaxCategorySelector.react'),{className:"_3-8y",onTaxCategoryChange:this._handleTaxCategoryChange,taxCategory:z})},_getVisibilitySelector:function y(){if(!this._showSection(c('CommerceSelfServeSection').PRODUCT_VISIBILITY))return null;return c('React').createElement('div',null,c('React').createElement(c('XUIGrayText.react'),{className:"_3-94 _3-8x",display:'block',weight:'bold',shade:'dark',size:'small'},j._("Visibility")),c('React').createElement(c('ProductVisibilitySelector.react'),{density:'snug',onChange:function(z){return this.setState({productVisibility:z})}.bind(this),value:this.state.productVisibility}))},_getInventoryInput:function y(){var z=null;z=this._getInventoryNumberInput()!==null?this._getInventoryNumberInput():this._getInventoryStockToggle();if(z===null)return null;return c('React').createElement('div',null,c('React').createElement(c('XUIGrayText.react'),{className:"_3-94 _3-8x",display:'block',weight:'bold',shade:'dark',size:'small'},j._("Inventory")),z)},_getInventoryNumberInput:function y(){if(!this._showSection(c('CommerceSelfServeSection').INVENTORY))return null;var z=null;if(this.state.variants.length===0){z=c('React').createElement(c('FBNumberInput.react'),{className:"_3jm _2ph-",disabled:this.state.loading,name:'productInventory',nonnegative:true,value:this.state.inventory,onValueChange:function(ca){return this.setState({inventory:ca})}.bind(this)})}else{var aa=0;for(var ba in this.state.variantItems)aa+=this.state.variantItems[ba].inventory;z=c('React').createElement('div',{className:"_4o5u"},c('React').createElement('div',{className:"_4o5v"},c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'medium'},aa)),c('React').createElement(c('Link.react'),{size:'small',className:"_20ac _2pii",onClick:function(){return this.setState({currentPage:u.variant})}.bind(this)},j._("Edit Inventory")))}return z},_getInventoryStockToggle:function y(){if(!this._showSection(c('CommerceSelfServeSection').IN_STOCK_TOGGLE))return null;var z=null;if(this.state.variants.length===0){z=c('React').createElement(c('CommerceInventoryToggle.react'),{disabled:this.state.loading,inventory:this.state.inventory,setInventoryInfo:function(ca){this.setState({inventory:ca?c('CommerceInventoryAvailabilityOptions').INVENTORY_IN_STOCK:c('CommerceInventoryAvailabilityOptions').INVENTORY_OUT_OF_STOCK})}.bind(this)})}else{var aa=0;for(var ba in this.state.variantItems)aa+=this.state.variantItems[ba].inventory;z=c('React').createElement('div',null,c('React').createElement(c('CommerceInventoryToggle.react'),{disabled:true,inventory:aa}),c('React').createElement('div',{className:"_4ul8"},c('React').createElement(c('Link.react'),{size:'small',onClick:function(){return this.setState({currentPage:u.variant})}.bind(this)},j._("Edit Option Inventory"))))}return z},_getSaleToggleSwitch:function y(){if(!this._showSection(c('CommerceSelfServeSection').SALE_PRICE))return null;return c('React').createElement('div',{className:"_3-8x"},c('React').createElement(c('FBToggleSwitch.react'),{disabled:this.state.loading,animate:true,checked:this.state.isOnSale,onToggle:function(z){return this.setState({isOnSale:z})}.bind(this)}),c('React').createElement('span',{className:"_3jn"},j._("This product is on sale"),c('React').createElement(c('AdsPopoverLink.react'),{popover:j._("Show people you're selling this product at a discount by setting a sale price in addition to the regular price."),position:'below',width:350})))},_getShippingOptionsSection:function y(){if(!this._showSection(c('CommerceSelfServeSection').SHIPPING_OPTIONS))return null;return c('React').createElement(c('PageProductComposerShippingOptions.react'),{currencyCode:this.state.currencyCode,disabled:this.state.loading,shippingOptions:this.state.shippingOptions,settingsURI:this.props.productID?undefined:this._getMerchantSettingsURI(),onShippingOptionsChange:function(z){return this.setState({shippingOptions:z})}.bind(this)})},_getShareToTimelineToggle:function y(){if(this.props.productID||!this.props.showShareToTimelineToggle)return null;var z=null;if(this.state.shareToTimeline)z=c('React').createElement('div',{className:"_4lw_"},j._("Your product will be shared on your Page as soon as it's approved."));return c('React').createElement('div',null,c('React').createElement(c('FBToggleSwitch.react'),{disabled:this.state.loading,animate:true,checked:this.state.shareToTimeline,onToggle:function(aa){return this.setState({shareToTimeline:aa})}.bind(this)}),c('React').createElement('span',{className:"_3jn"},j._("Share this product on your page"),c('React').createElement(c('AdsPopoverLink.react'),{popover:j._("Automatically post this product to your Page's Timeline as soon as it's approved."),position:'above',width:350})),z)},_unpackTaxRates:function y(){var z=[],aa={},ba={};for(var ca in this.state.taxRates){var da=this.state.taxRates[ca];for(var ea in da){z[z.length]=ea;aa[ea]=da[ea].tax_rate;ba[ea]=da[ea].is_applied_to_shipping}}return {tax_locations:z,tax_percent_map:aa,tax_applied_to_shipping_map:ba}},_getFeaturedToggleSwitch:function y(){if(!this._showSection(c('CommerceSelfServeSection').FEATURED_PRODUCT_TOGGLE))return null;return c('React').createElement('div',{className:"_3-95"},c('React').createElement(c('FBToggleSwitch.react'),{disabled:this.state.loading||this._isFeatureProductToggleDisabled(),animate:true,checked:this.state.featuredProduct,onToggle:this._handleFeatureProductToggleChange}),c('React').createElement('span',{className:"_3jn"},j._("Feature this product"),c('React').createElement(c('AdsPopoverLink.react'),{popover:this._getHelpText(),position:'above',width:350})))},_handleFeatureProductToggleChange:function y(z){var aa=z?this.state.featuredCount+1:this.state.featuredCount-1;this.setState({featuredProduct:z,featuredCount:aa})},_isFeatureProductToggleDisabled:function y(){return !this.state.featuredProduct&&this.state.featuredCount>=c('PagesManagerProductToolsConstants').MAX_FEATURED_ITEM_COUNT},_getHelpText:function y(){if(this._isFeatureProductToggleDisabled())return j._({"*":"You've already chosen {Maximum number of products that can be featured} to feature. Stop featuring one of your currently selected products to feature this one instead."},[j.param('Maximum number of products that can be featured',c('PagesManagerProductToolsConstants').MAX_FEATURED_ITEM_COUNT,[0])]);return j._({"*":"Featured products appear at the top of your page and are listed first in your shop. You can feature up to {Maximum number of products that can be featured} products."},[j.param('Maximum number of products that can be featured',c('PagesManagerProductToolsConstants').MAX_FEATURED_ITEM_COUNT,[0])])},_getTitle:function y(){if(this.state.currentPage===u.variant)return j._("Edit Options");if(this.props.productID)return j._("Edit Product");return j._("Add Product")},_getSaveButtonText:function y(){return j._("Save")},_onProductDetailsFetched:function y(z){var aa=z.payload,ba=aa.visibility_notice===null?null:aa.visibility_notice.markup;for(var ca=0;ca<aa.videos.length;ca++){aa.videos[ca].ready=true;aa.videos[ca].error=false}var da=aa.price,ea=aa.sale_price,fa={categoryID:aa.commerce_category_id,checkoutURL:aa.checkout_url,currentTabKey:v.edit,currentPage:u.main,dialogShown:true,productTitle:aa.name,productDesc:aa.description,productPrice:da,productSalePrice:ea,productVisibility:aa.visibility,photos:aa.images,videos:aa.videos,featuredProduct:aa.featured_product,inventory:aa.inventory,shippingOptions:aa.shipping_options,taxCategory:aa.tax_category,showVariants:aa.show_variants,visibilityNotice:ba,loading:false,featuredCount:aa.featured_count,taxRates:aa.tax_rates};this._reviewedProductData=this._getReviewableDataFromState(babelHelpers['extends']({},this.state,fa));this.setState(fa)},_reviewedProductData:{},_getReviewableDataFromState:function y(z){var aa=z.checkoutURL,ba=z.productTitle,ca=z.productDesc,da=z.photos,ea=z.videos,fa=z.variants;return this._deepClone({checkoutURL:aa,productTitle:ba,productDesc:ca,photos:da,videos:ea,variants:fa})},_logEvent:function y(event){var z=this.props.productID?{target_class:'EntProductItem',target_id:this.props.productID}:null;c('BOFSellerLogger').log(event,this.props.pageID,babelHelpers['extends']({source:this.props.source},z))},_onToggleDialog:function y(z){this.setState({dialogShown:z});if(z)return;this.props.onClose&&this.props.onClose();var event=this.props.productID?c('BOFSellerLoggerEvent').ACTN_CANCEL_EDIT_PRODUCT:c('BOFSellerLoggerEvent').ACTN_CANCEL_ADD_PRODUCT;this._logEvent(event)},_getPriceError:function y(z){var aa=this._getMinimumPrice(),ba=null;if(this._showSection(c('CommerceSelfServeSection').MINIMUM_PRICE_ERROR)&&(!z||z<aa)){var ca=c('PECurrency').formatAmount(this.state.currencyCode,aa,true,false,false);ba=j._("Price must be at least {Minimum Product Price}",[j.param('Minimum Product Price',ca)])}else if(z==null||z<0)ba=j._("Non-negative price is required");return ba},_getSalePriceError:function y(z){var aa=this._getPriceError(z);if(!aa&&this.state.productPrice<=this.state.productSalePrice)aa=j._("Sale price must be lower than regular price");return aa},_getMinimumPrice:function y(){var z=q;if(this.state.currencyCode!=='USD'){var aa=c('Currency').getOffset(this.state.currencyCode);z=aa==t?r:s}return z},_getCheckoutURLError:function y(z){var aa=null;if(z==='')aa=j._("Missing Checkout URL: This product must have a valid url, like \"http:\/\/www.example.com\"");return aa},_getPhotosError:function y(z){var aa=null;if(this.state.photos.length===0)aa=j._("Product Photo Required: Please provide at least one photo of this product");return aa},_getProductTitleError:function y(z){var aa=null;if(z==='')aa=j._("Field is Empty: Can't have this field be blank");return aa},_getEditWarning:function y(){if(!this.props.productID||this.state.visibilityNotice)return null;if(c('areEqual')(this._reviewedProductData,this._getReviewableDataFromState(this.state)))return null;return c('React').createElement(c('XUINotice.react'),{size:'small',className:"_3-8y"},j._("This product has been approved and is visible to anyone who visits your shop. If you edit this product, we'll review any changes before they're made publicly visible."))},_getProductDescriptionError:function y(z){var aa=null;if(this.props.requireDescription&&z.trim()==='')aa=j._("Description Required: Please provide a description for this product.");return aa},_handleTabChange:function y(z){this.setState({currentTabKey:z})},_handleTaxCategoryChange:function y(z){this.setState({taxCategory:z.value})},_validatePrices:function y(){var z=this.state.variants,aa=this.state.variantItems;if(!z||z.length===0){if(this._getPriceError(this.state.productPrice)||this.state.isOnSale&&this._getSalePriceError(this.state.productSalePrice)){this._navigateToTab(v.edit);return false}return true}for(var ba in this.state.variantItems){var ca=this._getMinimumPrice();if(aa[ba].price<ca||this.state.isOnSale&&this.state.variantItems[ba].salePrice<ca){this._navigateToTab(u.variant);return false}}return true},_validateVariants:function y(){return !this._getVariantsError()},_getVariantsError:function y(){var z=this.state.variants;if(!z||z.length===0)return null;var aa=z.map(function(ca){return ca.options});for(var ba=0;ba<aa.length;ba++)if(aa[ba].length<=1)return j._("Please add more than one type for each option.");return null},_validateCheckoutURL:function y(){if(!this._showSection(c('CommerceSelfServeSection').CHECKOUT_URL))return true;return !this._getCheckoutURLError(this.state.checkoutURL)},_validatePhotos:function y(){return !this._getPhotosError(this.state.photos)},_validateProductTitle:function y(){return !this._getProductTitleError(this.state.productTitle)},_onSubmitButtonClicked:function y(){this.setState({saving:true,hasAttemptedSave:true});if(!this._validatePrices()||!this._validateCheckoutURL()||!this._validatePhotos()||!this._validateProductTitle()||!this._validateVariants()){this.setState({saving:false});return}var z=[];this.state.photos.forEach(function(ta){z.push(ta.fbid)});var aa=[];this.state.videos.forEach(function(ta){if(ta.ready&&!ta.error)aa.push(ta.fbid);});var ba=this.state.shippingOptions.filter(function(ta){return ta.shipping_service&&!!ta.shipping_service.trim()});this.setState({shippingOptions:ba});var ca=[],da=[];ba.forEach(function(ta){ca.push(ta.shipping_service);da.push(Math.round(ta.shipping_price_value))});var ea=this._unpackTaxRates(),fa=this.state.variants,ga=fa.map(function(ta){return ta.label}),ha=fa.map(function(ta){return ta.options}),ia=this.state.variantItems,ja={},ka={},la={},ma={},na={};for(var oa in ia){var pa=ia[oa];ja[oa]=pa.inventory;ka[oa]=pa.price;la[oa]=pa.salePrice;ma[oa]=JSON.stringify(pa.properties);na[oa]=pa.productID}var qa={};qa.source=this.props.source;qa[c('XCommerceSelfServeParam').PRODUCT_TITLE]=this.state.productTitle;qa[c('XCommerceSelfServeParam').PRODUCT_DESCRIPTION]=this.state.productDesc;qa[c('XCommerceSelfServeParam').PRODUCT_PRICE]=this.state.productPrice;qa[c('XCommerceSelfServeParam').PRODUCT_SALE_PRICE]=this.state.productSalePrice;qa[c('XCommerceSelfServeParam').IS_ON_SALE]=this.state.isOnSale;qa[c('XCommerceSelfServeParam').COLLECTION_ID]=this.props.collectionID;qa[c('XCommerceSelfServeParam').CATEGORY_ID]=this.state.categoryID;qa[c('XCommerceSelfServeParam').CURRENCY_CODE]=this.state.currencyCode;qa[c('XCommerceSelfServeParam').PRODUCT_PHOTO_IDS]=z;qa[c('XCommerceSelfServeParam').PRODUCT_VIDEO_IDS]=aa;qa[c('XCommerceSelfServeParam').PRODUCT_CATALOG_ID]=this.props.productCatalogID;qa[c('XCommerceSelfServeParam').PRODUCT_ID]=this.props.productID;qa[c('XCommerceSelfServeParam').FEATURED_PRODUCT]=this.state.featuredProduct;qa[c('XCommerceSelfServeParam').SHARE_TO_TIMELINE]=this.props.showShareToTimelineToggle&&this.state.shareToTimeline;qa[c('XCommerceSelfServeParam').INVENTORY]=this.state.inventory;qa[c('XCommerceSelfServeParam').SHIPPING_OPTION_NAMES]=ca;qa[c('XCommerceSelfServeParam').SHIPPING_OPTION_VALUES]=da;qa[c('XCommerceSelfServeParam').TAX_CATEGORY]=this.state.taxCategory;qa[c('XCommerceSelfServeParam').TAX_LOCATIONS]=ea.tax_locations;qa[c('XCommerceSelfServeParam').TAX_APPLIED_TO_SHIPPING_MAP]=ea.tax_applied_to_shipping_map;qa[c('XCommerceSelfServeParam').TAX_PERCENT_MAP]=ea.tax_percent_map;qa[c('XCommerceSelfServeParam').VARIANT_NAMES]=ga;qa[c('XCommerceSelfServeParam').VARIANT_INVENTORY]=ja;qa[c('XCommerceSelfServeParam').VARIANT_PRICE]=ka;qa[c('XCommerceSelfServeParam').VARIANT_SALE_PRICE]=la;qa[c('XCommerceSelfServeParam').VARIANT_DATA]=ma;qa[c('XCommerceSelfServeParam').VARIANT_PRODUCT_ID]=na;qa[c('XCommerceSelfServeParam').VISIBILITY]=this.state.productVisibility;qa[c('XCommerceSelfServeParam').CHECKOUT_URL]=this.state.checkoutURL;qa[c('XCommerceSelfServeParam').ACCEPTED_TOS]=this.props.showTOS;for(var ra=0;ra<ha.length;ra++)qa['variant'+ra+'_options']=ha[ra];var sa=c('ActorURI').create(c('XPagesManagerProductCreateController').getURIBuilder().getURI(),this.props.pageID);this.sendAsync(sa,qa,this._onProductUpdated,function(){return this.setState({saving:false})}.bind(this))},_navigateToTab:function y(z){switch(z){case u.variant:this.setState({currentPage:u.variant});break;case v.edit:this.setState({currentTabKey:v.edit});break;case v.advanced:this.setState({currentTabKey:v.advanced});break;}},_onChangeTaxRates:function y(z){this.setState({taxRates:z})},_onProductUpdated:function y(z){this.setState({saving:false,dialogShown:false});if(this.props.productID){c('PageContentTabDispatcher').handlePostChanged(z.payload)}else{if(this.props.onProductCreated)this.props.onProductCreated(z.payload);c('PageContentTabDispatcher').handlePostCreated(l.COMMERCE_PRODUCTS,z.payload,this.props.pageID)}if(z.payload.show_creation_nux){c('ReactDOM').render(c('React').createElement(c('PageProductReviewNUX.react'),{onDialogClosed:function(){if(this.props.onProductChanged)this.props.onProductChanged(z.payload);}.bind(this)}),c('DOM').create('div'))}else if(this.props.onProductChanged)this.props.onProductChanged(z.payload);c('ReactDOM').unmountComponentAtNode(c('ReactDOM').findDOMNode(this).parentNode)},render:function y(){if(!this.state.dialogShown)return null;var z=[];if(this.hasFieldErrors())z.push(j._("Your product can't be saved as is. Please check the product info, options and advanced options and try again."));if(this.hasGeneralError()){z.push(this.getGeneralErrorMessage())}else if(this.state.hasAttemptedSave&&this._getVariantsError())z.push(this._getVariantsError());var aa=null;if(z.length>0)aa=c('React').createElement('div',{className:"_2pib _2piq"},this.renderErrorMessages(z));return c('React').createElement(c('XUIDialog.react'),{width:n,causalElementRef:function(){return this.refs.createButton}.bind(this),onToggle:this._onToggleDialog,shown:this.state.dialogShown,key:'dialog'},this._getDialogHeader(),c('React').createElement(c('XUIDialogBody.react'),{useCustomPadding:true},this._getInnerContent()),aa,this._getDialogFooter())},_showSection:function y(z){return this.props.sections.indexOf(z)>=0}});f.exports=x}),null);
__d("XCommerceProductDialogLoaderController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/commerce\/product_composer_dialog\/loader\/",{page_id:{type:"Int",required:true}})}),null);
__d('PageProductComposerDialogLoader.react',['AsyncRequest','BOFSellerLoggingSources','LoadingDialog.react','PageProductComposerDialog.react','React','XCommerceProductDialogLoaderController','XCommerceSelfServeParam','getOwnObjectValues'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=440,j=c('React').createClass({displayName:'PageProductComposerDialogLoader',propTypes:{collectionID:h.string,onClose:h.func,onProductChanged:h.func,onProductCreated:h.func,onProductDeleted:h.func,productID:h.string,productGroupID:h.string,pageID:h.string.isRequired,source:h.oneOf(c('getOwnObjectValues')(c('BOFSellerLoggingSources'))).isRequired},getInitialState:function k(){return {loading:true}},componentWillMount:function k(){this._fetchPageDetails(this.props.pageID)},_fetchPageDetails:function k(l){var m=c('XCommerceProductDialogLoaderController').getURIBuilder().setInt(c('XCommerceSelfServeParam').PAGE_ID,l).getURI();new (c('AsyncRequest'))().setURI(m).setHandler(this._onPageDetailsFetched).send()},_onPageDetailsFetched:function k(l){var m=l.payload;this.setState({categories:m.categories,currencyCode:m.currency_code,defaultShippingOptions:m.default_shipping_options,hasValidTOS:m.has_valid_tos,loading:false,pageContentTabAccessToken:m.page_content_tab_access_token,pageHasShop:m.page_has_shop,productCatalogID:m.product_catalog_id,requireDescription:m.require_description,sections:m.sections,shouldCreateShopFromProduct:m.should_create_shop_from_product,showVideoUploadButton:m.show_video_upload_button,tosURI:m.tos_uri})},render:function k(){if(this.state.loading)return c('React').createElement(c('LoadingDialog.react'),{shown:true,width:i});return c('React').createElement(c('PageProductComposerDialog.react'),{categories:this.state.categories,collectionID:this.props.collectionID,currencyCode:this.state.currencyCode,defaultShippingOptions:this.state.defaultShippingOptions,onClose:this.props.onClose,onProductChanged:this.props.onProductChanged,onProductCreated:this.props.onProductCreated,onProductDeleted:this.props.onProductDeleted,pageContentTabAccessToken:this.state.pageContentTabAccessToken,pageID:this.props.pageID,pageHasShop:this.state.pageHasShop,productCatalogID:this.state.productCatalogID,productID:this.props.productID,productGroupID:this.props.productGroupID,requireDescription:this.state.requireDescription,sections:this.state.sections,shouldCreateShopFromProduct:this.state.shouldCreateShopFromProduct,shownInitially:true,showShareToTimelineToggle:this.state.pageHasShop,showTOS:!this.state.hasValidTOS,showVideoUploadButton:this.state.showVideoUploadButton,source:this.props.source,tosURI:this.state.tosURI})}});f.exports=j}),null);
__d("XMobileCanvasAdPreviewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/canvas_preview\/",{node_id:{type:"String"},page_id:{type:"String",required:true},user_ids:{type:"IntVector"},is_id_encoded:{type:"Bool",defaultValue:false},is_instagram_enabled:{type:"Bool",defaultValue:false},__asyncDialog:{type:"Int"}})}),null);