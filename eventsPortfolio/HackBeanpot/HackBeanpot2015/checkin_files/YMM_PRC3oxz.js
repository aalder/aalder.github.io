if (self.CavalryLogger) { CavalryLogger.start_js(["SeCsi"]); }

__d('getContextualLayerCursorOffset',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){var l=i.getOrientation(),m=l.getPosition(),n=l.getAlignment(),o=i.getContent().getBoundingClientRect(),p=i.getContext().getBoundingClientRect(),q=j-p.left,r=k-p.top;switch(n){case 'left':q-=o.width;break;case 'center':q-=p.width*.5;break;case 'right':q-=p.width-o.width;break;default:throw new Error('invalid alignment');}switch(m){case 'above':r*=-1;break;case 'left':q+=o.width;r-=o.height*.5;break;case 'right':q-=o.width;r-=o.height*.5;break;case 'below':r-=p.height;break;default:throw new Error('invalid position');}return {offsetX:q,offsetY:r}}f.exports=h}),null);
__d('VideoAutoplayControllerAbortLoadingHelper',['invariant','VideoPlayerLoggerSource','VideoPlayerExperiments','VideoPlayerAbortLoadingExperiment','getViewportDimensions','Set','Map'],(function a(b,c,d,e,f,g,h){function i(){'use strict';this.$VideoAutoplayControllerAbortLoadingHelper1=new (c('Set'))();this.$VideoAutoplayControllerAbortLoadingHelper2=new (c('Map'))()}i.prototype.maybeAbortLoading=function(){'use strict';for(var j=this.$VideoAutoplayControllerAbortLoadingHelper1,k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var m;if(k){if(l>=j.length)break;m=j[l++]}else{l=j.next();if(l.done)break;m=l.value}var n=m,o=c('VideoPlayerExperiments').deferWhichVideoToAbortLoadingDecisioningLogic,p=n.getVideoPlayerController(),q=p?p.isLiveVideo():null;if(q!==null&&(o==='vod'&&q||o==='live'&&!q))continue;if(!n.isState('playing')&&typeof n.abortLoading==='function'&&i.shouldAbortLoadingVideoUnit(n)){if(c('VideoPlayerExperiments').abortLoadingHelperNegativeYAbortLoading){this.$VideoAutoplayControllerAbortLoadingHelper3(n)}else this.$VideoAutoplayControllerAbortLoadingHelper4(n);}else if(c('VideoPlayerExperiments').abortLoadingHelperNegativeYAbortLoading&&n.isState('playing')){var r=this.$VideoAutoplayControllerAbortLoadingHelper2.get(n);!!r||h(0);if(r&&r.abortedLoading)r.abortedLoading=false;}}};i.prototype.$VideoAutoplayControllerAbortLoadingHelper3=function(j){'use strict';if(c('VideoPlayerExperiments').abortLoadingHelperBoundedReloading){var k=c('getViewportDimensions')().height/-2;if(j.getDistanceToViewport()<c('VideoPlayerExperiments').abortedLoadingPixelBoundary+k&&!j.isVisible()){this.$VideoAutoplayControllerAbortLoadingHelper5(j)}else if(j.getDistanceToViewport()>c('VideoPlayerExperiments').reloadingPixelBoundary+k)this.$VideoAutoplayControllerAbortLoadingHelper6(j);}else if(j.getDistanceToViewport()<0&&!j.isVisible())this.$VideoAutoplayControllerAbortLoadingHelper5(j);};i.prototype.addVideoUnit=function(j){'use strict';if(!this.$VideoAutoplayControllerAbortLoadingHelper1.has(j)){this.$VideoAutoplayControllerAbortLoadingHelper1.add(j);this.$VideoAutoplayControllerAbortLoadingHelper2.set(j,{y:j.getDistanceToViewport(),timestamp:new Date().valueOf(),v:0,abortedLoading:false})}};i.prototype.removeVideoUnit=function(j){'use strict';this.$VideoAutoplayControllerAbortLoadingHelper1['delete'](j);this.$VideoAutoplayControllerAbortLoadingHelper2['delete'](j)};i.prototype.calculateFutureScrollPosition=function(j){'use strict';var k=j.y1-j.y0,l=j.t1-j.t0,m=k/l,n=m-j.v0,o=n/l,p=j.t,q=o*p*p/2+p*m+j.y1;return {v1:m,a:o,S:q}};i.prototype.preloadClosestVideoUnits=function(j){'use strict';this.$VideoAutoplayControllerAbortLoadingHelper7(j).forEach(function(k){return this.$VideoAutoplayControllerAbortLoadingHelper6(k)}.bind(this))};i.prototype.$VideoAutoplayControllerAbortLoadingHelper7=function(j){'use strict';return Array.from(this.$VideoAutoplayControllerAbortLoadingHelper1).filter(function(k){return k.getDistanceToViewport()>=0}).sort(function(k,l){return k.getDistanceToViewport()-l.getDistanceToViewport()}).slice(0,j)};i.prototype.$VideoAutoplayControllerAbortLoadingHelper6=function(j){'use strict';var k=this.$VideoAutoplayControllerAbortLoadingHelper2.get(j);!!k||h(0);var l=void 0;if(k){l=k.abortedLoading;k.abortedLoading=false}if(l&&typeof j.preload==='function')j.preload();};i.prototype.$VideoAutoplayControllerAbortLoadingHelper5=function(j){'use strict';var k=this.$VideoAutoplayControllerAbortLoadingHelper2.get(j);!!k||h(0);var l=void 0;if(k){l=k.abortedLoading;k.abortedLoading=true}if(!l&&typeof j.abortLoading==='function')j.abortLoading();};i.prototype.$VideoAutoplayControllerAbortLoadingHelper4=function(j){'use strict';var k=c('getViewportDimensions')().height,l=1600,m=k/2,n=m+l,o=-m,p=o-l,q=this.$VideoAutoplayControllerAbortLoadingHelper2.get(j);!!q||h(0);if(!q)return;var r=j.getDistanceToViewport(),s=q.y;q.y=r;var t=new Date().valueOf(),u=q.timestamp;q.timestamp=t;var v=q.v;if(p<=r&&n>=r){if(q.abortedLoading)this.$VideoAutoplayControllerAbortLoadingHelper6(j);return}var w=500,x=this.calculateFutureScrollPosition({y0:s,y1:r,t0:u,t1:t,v0:v,t:w});q.v=x.v1;var y=x.S;if(q.abortedLoading){if(r<p&&y>p||r>n&&y<n)this.$VideoAutoplayControllerAbortLoadingHelper6(j);}else this.$VideoAutoplayControllerAbortLoadingHelper5(j);};i.prototype.$VideoAutoplayControllerAbortLoadingHelper8=function(j){'use strict';var k=j.getVideoPlayerController();return k?k.getVideoPlayerID():null};i.shouldAbortLoadingVideoUnit=function(j){'use strict';var k=!c('VideoPlayerExperiments').abortLoadingDecisioningLogic,l=true;if(j){if(typeof j.getIsInChannel==='function')l=j.getIsInChannel();if(typeof j.getSource==='function'&&c('VideoPlayerExperiments').abortLoadingDecisioningLogic)k=j.getSource()===c('VideoPlayerLoggerSource').TAHOE;return c('VideoPlayerAbortLoadingExperiment').canAbort&&!l&&!k}return false};f.exports=i}),null);
__d('VideoAutoplayControllerBase',['Arbiter','DesktopHscrollUnitEventConstants','Event','VideoPlayerExperiments','VideoPlayerAbortLoadingExperiment','VideoAutoplayControllerAbortLoadingHelper','VideoPlayerLoggerSource','VideoPlayerReason','Visibility','destroyOnUnload','SubscriptionsHandler','throttle','setTimeoutAcrossTransitions','emptyFunction'],(function a(b,c,d,e,f,g){var h=c('VideoPlayerExperiments').abortLoadingDelay;function i(l,m){var n=[];return function(){var o=Date.now();n.unshift(o);var p=0;while(n[++p]+m>o);n=n.slice(0,p);return n.length<=l}}function j(l,m,n){var o=null;return function(){var p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];if(m()){l.apply(undefined,r);return c('emptyFunction').thatReturnsFalse}else if(!o)(function(){var t=setTimeout(function(){o=null;l.apply(undefined,r)},n);o=function u(){if(!o)return false;clearTimeout(t);o=null;return true}})();return o}}function k(l){'use strict';this.$VideoAutoplayControllerBase3=null;this.$VideoAutoplayControllerBase2=null;this.$VideoAutoplayControllerBase8=[];this.$VideoAutoplayControllerBase1=l;this.$VideoAutoplayControllerBase4=null;this.$VideoAutoplayControllerBase5=new (c('SubscriptionsHandler'))();c('destroyOnUnload')(function(){this.$VideoAutoplayControllerBase8=[];this.$VideoAutoplayControllerBase3=null;if(this.$VideoAutoplayControllerBase4){this.$VideoAutoplayControllerBase4.remove();this.$VideoAutoplayControllerBase4=null}this.$VideoAutoplayControllerBase5.release()}.bind(this));if(c('VideoPlayerExperiments').autoplayMaxCallsPerWindow)this.$VideoAutoplayControllerBase6=j(function(m){var n=this.$VideoAutoplayControllerBase3;if(n)n.playWithoutUnmute(m);}.bind(this),i(c('VideoPlayerExperiments').autoplayMaxCallsPerWindow,c('VideoPlayerExperiments').autoplayThrottleWindow),c('VideoPlayerExperiments').autoplayThrottleDelay);this.$VideoAutoplayControllerBase7=c('emptyFunction').thatReturnsFalse}k.prototype.getVideoUnits=function(){'use strict';return this.$VideoAutoplayControllerBase8};k.prototype.setVideoUnits=function(l){'use strict';this.$VideoAutoplayControllerBase8=l};k.prototype.addVideoUnit=function(l){'use strict';this.$VideoAutoplayControllerBase8.push(l)};k.prototype.removeVideoUnit=function(l){'use strict';var m=this.$VideoAutoplayControllerBase8.findIndex(function(n){return n===l});if(m>-1)this.$VideoAutoplayControllerBase8.splice(m,1);};k.prototype.getPlayingVideoUnit=function(){'use strict';return this.$VideoAutoplayControllerBase3};k.prototype.setPlayingVideoUnit=function(l){'use strict';this.$VideoAutoplayControllerBase3=l;if(this.$VideoAutoplayControllerBase3)this.setupPlayingVideoUnitSubscriptions();};k.prototype.playVideo=function(l,m){'use strict';if(c('VideoPlayerExperiments').disableAutoplayForInactiveTab&&c('Visibility').isHidden()){this.$VideoAutoplayControllerBase2=l;return}this.setPlayingVideoUnit(l);if(this.$VideoAutoplayControllerBase3){var n=this.$VideoAutoplayControllerBase6;if(n){this.$VideoAutoplayControllerBase7=n.call(this,m)}else this.$VideoAutoplayControllerBase3.playWithoutUnmute(m);}};k.prototype.setupPlayingVideoUnitSubscriptions=function(){'use strict';throw new Error('Should be overridden')};k.prototype.addSubscriberVideoUnit=function(){'use strict';if(!this.getVideoUnits().length){this.$VideoAutoplayControllerBase5.addSubscriptions(c('Event').listen(window,'resize',this.updateAutoplay.bind(this)),c('Event').listen(window,'blur',this.$VideoAutoplayControllerBase9.bind(this)),c('Event').listen(window,'focus',this.$VideoAutoplayControllerBase10.bind(this)),c('Visibility').addListener(c('Visibility').HIDDEN,this.$VideoAutoplayControllerBase9.bind(this)),c('Visibility').addListener(c('Visibility').VISIBLE,this.$VideoAutoplayControllerBase10.bind(this)),c('Arbiter').subscribe(c('DesktopHscrollUnitEventConstants').HSCROLL_ITEM_SHOWN_EVENT,this.updateAutoplay.bind(this)));if(!this.$VideoAutoplayControllerBase11())this.$VideoAutoplayControllerBase12();}};k.prototype.$VideoAutoplayControllerBase9=function(){'use strict';if(!this.$VideoAutoplayControllerBase2){this.$VideoAutoplayControllerBase2=this.getPlayingVideoUnit();this.$VideoAutoplayControllerBase13(c('VideoPlayerReason').PAGE_VISIBILITY)}};k.prototype.$VideoAutoplayControllerBase10=function(){'use strict';if(this.$VideoAutoplayControllerBase2){this.playVideo(this.$VideoAutoplayControllerBase2,c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoAutoplayControllerBase2=null}};k.prototype.$VideoAutoplayControllerBase12=function(){'use strict';if(this.$VideoAutoplayControllerBase4)this.$VideoAutoplayControllerBase4.remove();this.$VideoAutoplayControllerBase4=c('Event').listen(window,'scroll',c('throttle')(this.updateAutoplay.bind(this),this.$VideoAutoplayControllerBase1))};k.prototype.$VideoAutoplayControllerBase11=function(){'use strict';return !!this.$VideoAutoplayControllerBase4};k.prototype.getClosestVideoUnits=function(l){'use strict';return this.$VideoAutoplayControllerBase8.filter(function(m){return m.getDistanceToViewport()>=0}).sort(function(m,n){return m.getDistanceToViewport()-n.getDistanceToViewport()}).slice(0,l)};k.prototype.getVisibleUnits=function(){'use strict';var l=[];this.$VideoAutoplayControllerBase8.forEach(function(m){if(m.isVisible()){l.push(m);if(!m.wasVisible){m.wasVisible=true;m.logDisplayed()}}else m.wasVisible=false;});return l};k.prototype.$VideoAutoplayControllerBase14=function(l){'use strict';var m=c('VideoPlayerExperiments').deferWhichVideoToAbortLoadingDecisioningLogic,n=l.getVideoPlayerController(),o=n?n.isLiveVideo():null;if(o!==null&&(m==='vod'&&o||m==='live'&&!o))return false;return c('VideoAutoplayControllerAbortLoadingHelper').shouldAbortLoadingVideoUnit(l)};k.prototype.pausePlayingVideo=function(l,m){'use strict';var n=this.$VideoAutoplayControllerBase3,o=!c('VideoPlayerExperiments').abortLoadingDecisioningLogic,p=true;if(n){if(!this.$VideoAutoplayControllerBase7())n.pause(l);if(!c('VideoPlayerExperiments').decoupleAbortLoadingFromPause)if(this.$VideoAutoplayControllerBase14(n)&&!m)c('setTimeoutAcrossTransitions')(function(){if(!n.isState('playing')&&typeof n.abortLoading==='function')n.abortLoading();},h);this.$VideoAutoplayControllerBase3=null}};k.prototype.$VideoAutoplayControllerBase13=function(l){'use strict';this.pausePlayingVideo(l,true)};k.prototype.updateAutoplay=function(){'use strict';throw new Error('Should be overridden')};f.exports=k}),null);
__d("XVideoAutoplayNuxAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/autoplay\/nux\/",{})}),null);
__d("XVideoAutoplayNuxDismissAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/autoplay\/nux\/dismiss\/",{})}),null);
__d("XVideoAutoplayNuxLogViewAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/autoplay\/nux\/log\/view\/",{})}),null);
__d('VideoAutoplayControllerX',['csx','AsyncRequest','DOM','Event','Network','ifRequired','Run','SubscriptionsHandler','VideoAutoplayControllerBase','VideoPlayerExperiments','VideoPlayerPreloadExperiment','VideoPlayerReason','XVideoAutoplayNuxAsyncController','XVideoAutoplayNuxDismissAsyncController','XVideoAutoplayNuxLogViewAsyncController','VideoAutoplayControllerAbortLoadingHelper','destroyOnUnload','getViewportDimensions'],(function a(b,c,d,e,f,g,h){var i,j,k=null,l=200,m=false;function n(){return !c('VideoPlayerExperiments').delayAutoplayUntilAfterLoad||m}i=babelHelpers.inherits(o,c('VideoAutoplayControllerBase'));j=i&&i.prototype;function o(){'use strict';j.constructor.call(this,l);this.$VideoAutoplayControllerX1=new (c('VideoAutoplayControllerAbortLoadingHelper'))();this.$VideoAutoplayControllerX2=new (c('SubscriptionsHandler'))();this.$VideoAutoplayControllerX3=new (c('SubscriptionsHandler'))();this.$VideoAutoplayControllerX4=true;this.$VideoAutoplayControllerX5=true;this.$VideoAutoplayControllerX6=null;this.$VideoAutoplayControllerX7=null;this.$VideoAutoplayControllerX8=false;this.$VideoAutoplayControllerX9=null;this.$VideoAutoplayControllerX10=false;this.$VideoAutoplayControllerX11=false;this.$VideoAutoplayControllerX12=false;var p=c('XVideoAutoplayNuxAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))(p).setAllowCrossPageTransition().send();c('destroyOnUnload')(function(){this.$VideoAutoplayControllerX13();if(this===k)k=null;}.bind(this));c('Run').onAfterLoad(function(){m=true;if(c('VideoPlayerExperiments').delayAutoplayUntilAfterLoad)if(k)k.updateAutoplay();if(!document.hasFocus())c('Event').fire(window,'blur');})}o.registerVideoUnit=function(p){'use strict';if(k==null)k=new o();k.addSubscriberVideoUnit();k.addVideoUnit(p);var q=new (c('SubscriptionsHandler'))();q.addSubscriptions.apply(q,k.$VideoAutoplayControllerX14(p));k.$VideoAutoplayControllerX15();if(p.isVisible()&&n())k.updateAutoplay();if(k.shouldRestoreAllSubsequentStreamBufferSizes())k.restoreStreamBufferSize();return function(){k&&k.removeVideoUnit(p);q.release();if(k&&p===k.getPlayingVideoUnit()){k.$VideoAutoplayControllerX3.release();k.setPlayingVideoUnit(null)}}};o.setShouldAutoplay=function(p){'use strict';if(k==null)k=new o();k.$VideoAutoplayControllerX4=p;k.$VideoAutoplayControllerX5=p;k.updateAutoplay()};o.prototype.$VideoAutoplayControllerX13=function(){'use strict';this.$VideoAutoplayControllerX2.release();this.$VideoAutoplayControllerX3.release()};o.setAutoplayNux=function(p,q){'use strict';if(k==null)return;k.$VideoAutoplayControllerX6=p;k.$VideoAutoplayControllerX7=q;k.$VideoAutoplayControllerX8=true;var r=c('DOM').find(q.getContentRoot(),"._5cqr");c('Event').listen(r,'click',function(){k.$VideoAutoplayControllerX16()});var s=c('DOM').scry(q.getContentRoot(),"._36gl")[0];if(s)c('Event').listen(s,'click',function(){k.$VideoAutoplayControllerX16()});};o.prototype.$VideoAutoplayControllerX16=function(){'use strict';this.$VideoAutoplayControllerX7.hide();this.$VideoAutoplayControllerX8=false;var p=c('XVideoAutoplayNuxDismissAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))(p).setAllowCrossPageTransition().send()};o.prototype.setupPlayingVideoUnitSubscriptions=function(){'use strict';if(this.getPlayingVideoUnit().addListener){this.$VideoAutoplayControllerX2.release();this.$VideoAutoplayControllerX2.engage();if(!this.getPlayingVideoUnit().isLooping())this.$VideoAutoplayControllerX2.addSubscriptions(this.getPlayingVideoUnit().addListener('finishPlayback',function(){this.setPlayingVideoUnit(null)}.bind(this)));this.$VideoAutoplayControllerX2.addSubscriptions(this.getPlayingVideoUnit().addListener('turnOffAutoplay',function(){this.setPlayingVideoUnit(null)}.bind(this)),this.getPlayingVideoUnit().addListener('pausePlayback',function(){this.$VideoAutoplayControllerX15()}.bind(this)),this.getPlayingVideoUnit().addListener('finishPlayback',function(){this.$VideoAutoplayControllerX15()}.bind(this)),c('Network').addListener('online',function(){this.$VideoAutoplayControllerX15()}.bind(this)),c('Network').addListener('offline',function(){this.$VideoAutoplayControllerX15()}.bind(this)))}};o.prototype.$VideoAutoplayControllerX15=function(){'use strict';if(c('VideoPlayerExperiments').webVideosBlockAutoplayWhenOffline)if(c('Network').isOnline()){this.$VideoAutoplayControllerX4=this.$VideoAutoplayControllerX5}else{this.$VideoAutoplayControllerX5=this.$VideoAutoplayControllerX4;this.$VideoAutoplayControllerX4=false;return}var p=this.getVideoUnits();for(var q=0;q<p.length;q++){var r=p[q].getVideoPlayerController();if(r!==null){if(r.getDataInsertionPosition()==='0'){this.$VideoAutoplayControllerX10=true;if(this.$VideoAutoplayControllerX11===false){r.restoreStreamBufferSize();r.once('beginPlayback',function(){this.$VideoAutoplayControllerX12=true;this.restoreStreamBufferSize()}.bind(this));this.$VideoAutoplayControllerX11=true}}if(!c('VideoPlayerExperiments').autoplayBlockBlacklist)r.updateAutoplayRestrained();}}if(!this.$VideoAutoplayControllerX10)this.restoreStreamBufferSize();};o.prototype.shouldRestoreAllSubsequentStreamBufferSizes=function(){'use strict';if(!this.$VideoAutoplayControllerX10)return true;return this.$VideoAutoplayControllerX12};o.prototype.restoreStreamBufferSize=function(){'use strict';var p=this.getVideoUnits();for(var q=0;q<p.length;q++){var r=p[q].getVideoPlayerController();if(r!==null)r.restoreStreamBufferSize();}};o.prototype.$VideoAutoplayControllerX14=function(p){var q;'use strict';if(!p.addListener)return [];var r=function(){var t=p.getVideoPlayerController();if(!t.isMuted()&&t.isState('playing')){if(this.$VideoAutoplayControllerX9&&this.$VideoAutoplayControllerX9!==p){var u=this.$VideoAutoplayControllerX9.getVideoPlayerController(),v=u.getOption('VideoWithLiveBroadcast','isLive');if(v){u.mute()}else u.pause(c('VideoPlayerReason').USER);}this.$VideoAutoplayControllerX9=p}}.bind(this),s=[p.addListener('beginPlayback',r),p.addListener('changeVolume',r),p.addListener('unmuteVideo',r)];(q=this.$VideoAutoplayControllerX3).addSubscriptions.apply(q,s);return s};o.prototype.$VideoAutoplayControllerX17=function(){'use strict';var p=this.getVisibleUnits(),q=p.length,r=null;if(q===1){r=p[0];r=r.isAutoplayable()?r:null}else if(q>1){var s=c('getViewportDimensions')().height/2;p.forEach(function(t){if(!t.isAutoplayable())return;var u=t.getDOMPosition(),v=u.y+u.height/2,w=Math.abs(v-s);t.playPriority=w;if(!r||t.playPriority<r.playPriority)r=t;})}return r};o.prototype.showAutoplayNUX=function(p){'use strict';if(this.$VideoAutoplayControllerX7&&!this.$VideoAutoplayControllerX7.isShown()){var q=p.getVideoPlayerController().getRootNode();c('DOM').prependContent(q,this.$VideoAutoplayControllerX6);this.$VideoAutoplayControllerX7.show();var r=c('XVideoAutoplayNuxLogViewAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))(r).setAllowCrossPageTransition().send()}this.$VideoAutoplayControllerX8=false};o.getChannelVideos=function(){'use strict';if(k)return k.getVideoUnits().filter(function(p){return p.getIsInChannel()});return null};o.prototype.addVideoUnit=function(p){'use strict';j.addVideoUnit.call(this,p);if(c('VideoPlayerExperiments').decoupleAbortLoadingFromPause&&p)this.$VideoAutoplayControllerX1.addVideoUnit(p);};o.prototype.removeVideoUnit=function(p){'use strict';j.removeVideoUnit.call(this,p);if(c('VideoPlayerExperiments').decoupleAbortLoadingFromPause&&p)this.$VideoAutoplayControllerX1.removeVideoUnit(p);};o.prototype.updateAutoplay=function(){'use strict';if(!this.$VideoAutoplayControllerX4){this.pausePlayingVideo(c('VideoPlayerReason').AUTOPLAY);return}if(!c('VideoPlayerExperiments').decoupleAbortLoadingFromPause){this.getClosestVideoUnits(c('VideoPlayerPreloadExperiment').preloadVideosCount).forEach(function(t){return t.preload()})}else if(c('VideoPlayerExperiments').abortLoadingHelperDefaultPreloading)this.$VideoAutoplayControllerX1.preloadClosestVideoUnits(c('VideoPlayerPreloadExperiment').preloadVideosCount);var p=this.$VideoAutoplayControllerX17(),q=this.getPlayingVideoUnit();if(q){if(p!=q){var r=null;r=q.getVideoPlayerController();if(r)r.setSmartBufferAdjustmentEnabled(false);if(p){var s=null;s=p.getVideoPlayerController();if(s)s.setSmartBufferAdjustmentEnabled(true);}this.pausePlayingVideo(c('VideoPlayerReason').AUTOPLAY);this.playVideo(p,c('VideoPlayerReason').AUTOPLAY);if(this.$VideoAutoplayControllerX8)this.showAutoplayNUX(p);}}else if(p){this.playVideo(p,c('VideoPlayerReason').AUTOPLAY);if(this.$VideoAutoplayControllerX8)this.showAutoplayNUX(p);}if(c('VideoPlayerExperiments').decoupleAbortLoadingFromPause)this.$VideoAutoplayControllerX1.maybeAbortLoading();};f.exports=o}),null);
__d('VideoAutoplayPlayerBase',['EventEmitter','JSLog'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(){var k,l;'use strict';for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.wasVisible=false,l}j.prototype.isVisible=function(){'use strict';throw new Error('Should be overridden')};j.prototype.getDistanceToViewport=function(){'use strict';throw new Error('Should be overridden')};j.prototype.getVideoPlayerController=function(){'use strict';c('JSLog').warn(['VideoAutoplayPlayerBase.getVideoPlayerController()','was called and returned null.'].join(' '));return null};j.prototype.logDisplayed=function(){'use strict';throw new Error('Should be overridden')};j.prototype.playWithoutUnmute=function(k){'use strict';throw new Error('Should be overridden')};j.prototype.pause=function(k){'use strict';throw new Error('Should be overridden')};j.prototype.isAutoplayable=function(){'use strict';throw new Error('Should be overridden')};j.prototype.getDOMPosition=function(){'use strict';throw new Error('Should be overridden')};j.prototype.isLooping=function(){'use strict';throw new Error('Should be overridden')};j.prototype.isState=function(k){'use strict';throw new Error('Should be overridden')};f.exports=j}),null);
__d('MountedContextMenu.react',['cx','ContextualLayer.react','DOMQuery','Event','Focus','LayerHideOnEscape','PopoverMenu.react','PopoverMenuInterface','React','ReactDOM','SubscriptionsHandler','isNode','getContextualLayerCursorOffset'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=Object.prototype.hasOwnProperty,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={shown:false,lastOpenedX:0,lastOpenedY:0,offsetX:0,offsetY:0},this.$MountedContextMenu6=function(s){var t=s.clientX,u=s.clientY;s.preventDefault();s.stopPropagation();this.showAt(t,u)}.bind(this),this.$MountedContextMenu7=function(s){var t=this.$MountedContextMenu3(),u=t&&c('DOMQuery').contains(t,s.target),v=s.button===0;if(!(u&&v))this.hide();}.bind(this),this.$MountedContextMenu8=function(){if(this.props.disableFocusOutline)c('Focus').setWithoutOutline(this.$MountedContextMenu2());}.bind(this),this.$MountedContextMenu9=function(){var s=this.$MountedContextMenu2();if(this.props.disableFocusOutline){c('Focus').setWithoutOutline(s)}else c('Focus').set(s);if(this.state.shown)this.hide();}.bind(this),this.$MountedContextMenu10=function(){this.hide()}.bind(this),o}m.prototype.getDefaultProps=function(){return {disableFocusOutline:false}};m.prototype.$MountedContextMenu2=function(){return this.props.mountedTriggerElem};m.prototype.$MountedContextMenu3=function(){var n=this.refs.popover.getMenu();return n&&n.getRoot()};m.prototype.$MountedContextMenu4=function(){return this.refs.menuLayer.layer};m.prototype.renderLayers=function(){return c('React').createElement(c('ContextualLayer.react'),{alignment:'right',behaviors:[c('LayerHideOnEscape')],contextRef:function(){return this.$MountedContextMenu2()}.bind(this),offsetX:this.state.offsetX,offsetY:this.state.offsetY,position:'below',ref:'menuLayer',shown:this.state.shown,key:'menu'},c('React').createElement(c('PopoverMenu.react'),{alignh:'left',menu:this.props.menu,position:'below',ref:'popover'},c('React').createElement('div',{className:"_4345",ref:'fakeTrigger'})))};m.prototype.render=function(){if(this.props.mountedTriggerElem)return c('React').createElement('span',null,this.renderLayers());return null};m.prototype.$MountedContextMenu5=function(n,o){var p=this.$MountedContextMenu4(),q=c('getContextualLayerCursorOffset')(p,n,o),r=q.offsetX,s=q.offsetY;p.setOffsetX(r).setOffsetY(s);this.setState({offsetX:r,offsetY:s})};m.prototype.componentDidMount=function(){var n=this.$MountedContextMenu2(),o=c('ReactDOM').findDOMNode(this.refs.fakeTrigger),p=this.$MountedContextMenu4(),q=this.refs.popover;this.$MountedContextMenu1=new (c('SubscriptionsHandler'))();this.$MountedContextMenu1.addSubscriptions(c('Event').listen(n,'contextmenu',this.$MountedContextMenu6),c('Event').listen(document.body,'mousedown',this.$MountedContextMenu7),c('Event').listen(n,'focus',this.$MountedContextMenu8),c('Event').listen(o,'focus',this.$MountedContextMenu9),c('Event').listen(window,'blur',this.$MountedContextMenu10),p.subscribe('show',function(){var r=this.state.lastOpenedX,s=this.state.lastOpenedY;this.$MountedContextMenu5(r,s);q.showPopover()}.bind(this)),p.subscribe('hide',function(){q.hidePopover()}))};m.prototype.componentWillUnmount=function(){this.$MountedContextMenu1&&this.$MountedContextMenu1.release()};m.prototype.show=function(){this.setState({shown:true})};m.prototype.showAt=function(n,o){this.setState({lastOpenedX:n,lastOpenedY:o});this.show()};m.prototype.hide=function(){this.setState({shown:false})};m.propTypes={disableFocusOutline:l.bool,menu:function n(o,p,q){if(!k.call(o,p))return new Error(q+'.'+p+' is required');var r=o[p],s=r&&r.type;if(!(s&&s.prototype instanceof c('PopoverMenuInterface')))return new Error(p+' must implement PopoverMenuInterface');return null},mountedTriggerElem:function n(o,p,q){if(!k.call(o,p)){return new Error(q+'.'+p+' is required')}else if(!c('isNode')(o[p]))return new Error(q+'.'+p+' must be a raw DOM node');return null}};f.exports=m}),null);
__d('VideoPlayerHTML5ContextMenu.react',['cx','fbt','ContextualLayer.react','DOMQuery','Event','Focus','FullScreen','getFullScreenElement','Keys','LayerAutoFocus','LayerHideOnEscape','MountedContextMenu.react','React','ReactDOM','ReactXUIMenu','SubscriptionsHandler','VideoContextMenuGK','isNode'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=Object.prototype.hasOwnProperty,m=c('ReactXUIMenu').Item,n=c('React').PropTypes,o=.35,p=6,q=60;j=babelHelpers.inherits(r,c('React').Component);k=j&&j.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=k.constructor).call.apply(s,[this].concat(v)),this.state={permalinkVisible:false,fullscreened:false,screenWidth:screen.width,screenHeight:screen.height},this.$VideoPlayerHTML5ContextMenu2=function(){var x=c('getFullScreenElement')(),y=this.props.videoElem,z=!!(c('FullScreen').isFullScreen()&&x&&y&&c('DOMQuery').contains(x,y));this.setState({fullscreened:z})}.bind(this),this.$VideoPlayerHTML5ContextMenu5=function(){if(this.props.paused){return i._("Play")}else return i._("Pause");}.bind(this),this.$VideoPlayerHTML5ContextMenu6=function(){if(this.props.muted){return i._("Unmute")}else return i._("Mute");}.bind(this),this.$VideoPlayerHTML5ContextMenu7=function(){this.props.onTogglePause&&this.props.onTogglePause()}.bind(this),this.$VideoPlayerHTML5ContextMenu8=function(){this.props.onToggleMute&&this.props.onToggleMute()}.bind(this),this.$VideoPlayerHTML5ContextMenu4=function(){c('Focus').set(c('ReactDOM').findDOMNode(this.refs.permalinkText));this.setState({permalinkVisible:true})}.bind(this),this.$VideoPlayerHTML5ContextMenu3=function(){this.setState({permalinkVisible:false})}.bind(this),this.$VideoPlayerHTML5ContextMenu9=function(){c('ReactDOM').findDOMNode(this.refs.permalinkText).select()}.bind(this),this.$VideoPlayerHTML5ContextMenu10=function(x){if(c('Event').getKeyCode(x)==c('Keys').ESC)this.setState({permalinkVisible:false});}.bind(this),this.$VideoPlayerHTML5ContextMenu11=function(x){x.preventDefault()},this.$VideoPlayerHTML5ContextMenu12=function(){var x=void 0,y=void 0;if(this.state.fullscreened){x=this.state.screenWidth;y=this.state.screenHeight}else{var z=this.props.videoElem.getBoundingClientRect();x=z.width;y=z.height}return {width:x,height:y}}.bind(this),this.$VideoPlayerHTML5ContextMenu13=function(x){var y=this.props.permalinkURL;if(y){var z={width:x+'px'};return c('React').createElement('div',{className:"_26oo",style:z},c('React').createElement('input',{className:"_26op autofocus",onFocus:this.$VideoPlayerHTML5ContextMenu9,onKeyDown:this.$VideoPlayerHTML5ContextMenu10,onMouseUp:this.$VideoPlayerHTML5ContextMenu11,readOnly:true,ref:'permalinkText',type:'text',value:y}),c('React').createElement('button',{className:"_26oq",onClick:this.$VideoPlayerHTML5ContextMenu3},i._("Close")))}}.bind(this),this.renderLayers=function(){var x=this.props.permalinkURL&&this.state.permalinkVisible,y=0,z=0,aa=null,ba=this.$VideoPlayerHTML5ContextMenu12(),ca=ba.width,da=ba.height,ea=ca*o;y=ca/2-ea/2;z=-da+p;if(this.state.fullscreened)z+=q;aa=this.$VideoPlayerHTML5ContextMenu13(ea);return c('React').createElement(c('ContextualLayer.react'),{alignment:'left',behaviors:[c('LayerHideOnEscape'),c('LayerAutoFocus')],contextRef:function(){return this.props.videoElem}.bind(this),offsetX:y,offsetY:z,position:'below',ref:'permalinkLayer',shown:x,key:'permalinkOverlay'},aa)}.bind(this),this.$VideoPlayerHTML5ContextMenu14=function(){if(this.props.permalinkURL)return c('React').createElement(m,{onclick:this.$VideoPlayerHTML5ContextMenu4,ref:'permalinkMenuItem'},i._("Show video URL"));}.bind(this),t}r.prototype.componentDidMount=function(){var s=this.refs.permalinkLayer.layer;this.$VideoPlayerHTML5ContextMenu1=new (c('SubscriptionsHandler'))();this.$VideoPlayerHTML5ContextMenu1.addSubscriptions(c('FullScreen').subscribe('changed',this.$VideoPlayerHTML5ContextMenu2),s.subscribe('hide',this.$VideoPlayerHTML5ContextMenu3),s.subscribe('show',this.$VideoPlayerHTML5ContextMenu4))};r.prototype.componentWillUnmount=function(){this.$VideoPlayerHTML5ContextMenu1&&this.$VideoPlayerHTML5ContextMenu1.release()};r.prototype.hidePermalinkOverlay=function(){this.$VideoPlayerHTML5ContextMenu3()};r.prototype.render=function(){var s=this.props.paused!==null&&c('React').createElement(m,{onclick:this.$VideoPlayerHTML5ContextMenu7},this.$VideoPlayerHTML5ContextMenu5()),t=c('React').createElement(c('ReactXUIMenu'),{className:c('VideoContextMenuGK').menuRedesign?"_45di":''},s,c('React').createElement(m,{onclick:this.$VideoPlayerHTML5ContextMenu8},this.$VideoPlayerHTML5ContextMenu6()),this.$VideoPlayerHTML5ContextMenu14(),this.props.children);return c('React').createElement('span',null,c('React').createElement(c('MountedContextMenu.react'),{mountedTriggerElem:this.props.videoElem,menu:t,ref:'menu'}),this.renderLayers())};r.propTypes={videoElem:function s(t,u,v){if(!l.call(t,u)){return new Error(v+'.'+u+' is required')}else if(!c('isNode')(t[u]))return new Error(v+'.'+u+' must be a raw DOM node');},paused:n.bool,muted:n.bool,permalinkURL:n.string,onTogglePause:n.func.isRequired,onToggleMute:n.func.isRequired};f.exports=r}),null);
__d('VideoContextMenu',['EventListener','Bootloader','URI','React','ReactDOM','VideoPlayerHTML5ContextMenu.react','VideoPlayerReason','VideoPlayerStates','UserAgent','CurrentUser','isFacebookURI'],(function a(b,c,d,e,f,g){var h=/(instagram)/g;function i(j,k,l){'use strict';this.$VideoContextMenu10=function(){for(var o in this.$VideoContextMenu8){var p=this.$VideoContextMenu8[o].name,q=this.$VideoContextMenu8[o].option,r=this.$VideoContextMenu8[o].description,s=this.$VideoContextMenu8[o].closeMessage;if(this.$VideoContextMenu2.hasOption(p,q)){this.$VideoContextMenu13(p,q,r,s)}else this.$VideoContextMenu12(p,q);}this.$VideoContextMenu9()}.bind(this);this.$VideoContextMenu9=function(){if(this.$VideoContextMenu6)this.$VideoContextMenu14();}.bind(this);this.$VideoContextMenu11=function(o){var p=/^a$/i.test(o.target.nodeName||''),q=p||c('CurrentUser').isEmployee()&&(c('UserAgent').isPlatform('Mac OS X')?o.getModifiers().meta:o.getModifiers().ctrl);if(q&&this.$VideoContextMenu6){c('ReactDOM').unmountComponentAtNode(this.$VideoContextMenu4);delete this.$VideoContextMenu6}else if(!q&&!this.$VideoContextMenu6){o.preventDefault();this.$VideoContextMenu14()}}.bind(this);this.$VideoContextMenu8={debugOverlay:{name:'DebugOverlay',option:'hidden',description:'Employee Debug Info',closeMessage:'Hide Debug Information'},statsForNerds:{name:'StatsForNerds',option:'hidden',description:'Stats for nerds',closeMessage:'Hide stats for nerds'}};this.$VideoContextMenu2=j;this.$VideoContextMenu3=l;this.$VideoContextMenu4=k;this.$VideoContextMenu1={};this.$VideoContextMenu5=null;if(this.$VideoContextMenu3.permalinkURL){var m=new (c('URI'))(this.$VideoContextMenu3.permalinkURL).getQualifiedURI();if(!c('isFacebookURI')(m)){m.setSubdomain('www');m.setDomain(m.getDomain().replace(h,'facebook'))}this.$VideoContextMenu5=m.toString()}var n=['muteVideo','unmuteVideo','changeVolume','beginPlayback','pausePlayback','finishPlayback','adBreakIndicatorShowing'];['enterWatchAndScroll','exitWatchAndScroll'].forEach(function(o){return j.addListener(o,function(){if(this.$VideoContextMenu6)this.$VideoContextMenu6.hidePermalinkOverlay();this.$VideoContextMenu9()}.bind(this))}.bind(this));j.addListener('optionsChange',this.$VideoContextMenu10);this.$VideoContextMenu10();n.forEach(function(o){return j.addListener(o,this.$VideoContextMenu9)}.bind(this));c('EventListener').listen(this.$VideoContextMenu2.getRootNode(),'contextmenu',this.$VideoContextMenu11)}i.prototype.setPermalinkURL=function(j){'use strict';this.$VideoContextMenu5=j;this.$VideoContextMenu9()};i.prototype.$VideoContextMenu12=function(j,k){'use strict';if(this.$VideoContextMenu7)this.$VideoContextMenu7.removeMenuItem(j,k);};i.prototype.$VideoContextMenu13=function(j,k,l,m){'use strict';c('Bootloader').loadModules(["VideoComponentOptionMenuItems"],function(n){if(!this.$VideoContextMenu7)this.$VideoContextMenu7=new n(this.$VideoContextMenu2,this.$VideoContextMenu9);this.$VideoContextMenu7.addComponentOptionMenuItem(j,k,l,m)}.bind(this),'VideoContextMenu')};i.prototype.$VideoContextMenu15=function(j,k){'use strict';if(!this.$VideoContextMenu7)return undefined;return this.$VideoContextMenu7.getComponentOptionMenuItem(j,k)};i.prototype.$VideoContextMenu14=function(){'use strict';var j=this.$VideoContextMenu15(this.$VideoContextMenu8.debugOverlay.name,this.$VideoContextMenu8.debugOverlay.option),k=this.$VideoContextMenu15(this.$VideoContextMenu8.statsForNerds.name,this.$VideoContextMenu8.statsForNerds.option),l=this.$VideoContextMenu2.getRootNode(),m=false;if(this.$VideoContextMenu2.hasOption('VideoContextMenu','disablePauseMenuItem'))m=this.$VideoContextMenu2.getOption('VideoContextMenu','disablePauseMenuItem')&&!this.$VideoContextMenu2.isState(c('VideoPlayerStates').PAUSED);this.$VideoContextMenu6=c('ReactDOM').render(c('React').createElement(c('VideoPlayerHTML5ContextMenu.react'),{videoElem:l,paused:m?null:!this.$VideoContextMenu2.isState(c('VideoPlayerStates').PLAYING),muted:this.$VideoContextMenu2.isMuted(),permalinkURL:this.$VideoContextMenu5,onTogglePause:function(){return this.$VideoContextMenu16()}.bind(this),onToggleMute:function(){return this.$VideoContextMenu17()}.bind(this)},j,k),this.$VideoContextMenu4)};i.prototype.$VideoContextMenu17=function(){'use strict';if(this.$VideoContextMenu2.isMuted()){this.$VideoContextMenu2.unmute()}else this.$VideoContextMenu2.mute();};i.prototype.$VideoContextMenu16=function(){'use strict';if(!this.$VideoContextMenu2.isState('playing')){this.$VideoContextMenu2.play(c('VideoPlayerReason').USER)}else this.$VideoContextMenu2.pause(c('VideoPlayerReason').USER);};f.exports=i}),null);
__d('VideoCover',['Bootloader','CSS','EventListener'],(function a(b,c,d,e,f,g){function h(i,j,k,l){var m=arguments.length<=4||arguments[4]===undefined?null:arguments[4];'use strict';this.$VideoCover1=j;this.$VideoCover2=k[0];this.$VideoCover3=l;this.$VideoCover4=i;if(m){this.$VideoCover5=m.hiddenAfterFinish;this.$VideoCover6=m.showWhileBuffering;this.$VideoCover7=m.showAfterFallback}if(i.getState()==='playing')this.$VideoCover8();i.addListener('stateChange',function(){return this.$VideoCover9()}.bind(this));i.addListener('beginPlayback',this.$VideoCover8.bind(this));i.addListener('finishPlayback',this.$VideoCover10.bind(this));i.addListener('buffering',this.$VideoCover11.bind(this));i.addListener('buffered',this.$VideoCover12.bind(this));c('EventListener').listen(this.$VideoCover1,'click',this.$VideoCover13.bind(this))}h.prototype.$VideoCover11=function(){'use strict';if(this.$VideoCover6)c('CSS').show(this.$VideoCover1);};h.prototype.$VideoCover12=function(){'use strict';if(this.$VideoCover6)c('CSS').hide(this.$VideoCover1);};h.prototype.getCurrentCover=function(){'use strict';return this.$VideoCover2};h.prototype.setSnowLiftURI=function(i){'use strict';this.$VideoCover3=i};h.prototype.$VideoCover13=function(){'use strict';if(this.$VideoCover3!=null&&this.$VideoCover3.length>0){c('Bootloader').loadModules(["PhotoSnowlift"],function(i){return i.bootstrap(this.$VideoCover3)}.bind(this),'VideoCover')}else this.$VideoCover4.clickVideo();};h.prototype.$VideoCover8=function(){'use strict';c('CSS').hide(this.$VideoCover1)};h.prototype.$VideoCover10=function(){'use strict';var i=this.$VideoCover4.getOption('Looping','isLooping');if(this.$VideoCover5||i)return;c('CSS').show(this.$VideoCover1)};h.prototype.$VideoCover9=function(){'use strict';if(this.$VideoCover4.isState('fallback')&&this.$VideoCover7)c('CSS').show(this.$VideoCover1);};f.exports=h}),null);
__d("AdBreakInsertionDisabledReason",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BRANDED_CONTENT:"branded_content",BROADCAST:"broadcast",HAS_LIVE_AD_BREAKS:"has_live_ad_breaks",NO_PERMISSION:"no_permission",NOT_ONBOARDED:"not_onboarded",NOT_ORGANIC_UPLOAD:"not_organic_upload",VIDEO_TOO_SHORT:"video_too_short"})}),null);
__d('VideoInstreamUtils',['fbt','AdBreakInsertionDisabledReason','DateConsts','Set','VideoInstreamAdsConstants'],(function a(b,c,d,e,f,g,h){var i={convertFormattedTimeToSeconds:function j(k){var l=0,m=k.split('.');if(m.length>2)return null;if(m.length===2){if(m[1].length===0)return null;var n=m[1];while(n.length<3)n+='0';var o=Number(n);if(isNaN(o)||o<0||o>=c('DateConsts').MS_PER_SEC)return null;l+=o/c('DateConsts').MS_PER_SEC}var p=m[0].split(':');if(p.length>3)return null;for(var q=0;q<p.length;q++){if(p[q].length===0)return null;var r=Number(p[q]);if(isNaN(r)||r<0||r>=60)return null;l+=r*Math.pow(60,p.length-q-1)}return l},convertTimestampToFormattedString:function j(k){k=Math.round(k*c('DateConsts').MS_PER_SEC)/c('DateConsts').MS_PER_SEC;var l=Math.floor(k/c('DateConsts').SEC_PER_HOUR),m=k-l*c('DateConsts').SEC_PER_HOUR,n=Math.floor(m/c('DateConsts').SEC_PER_MIN),o=Math.floor(m-n*c('DateConsts').SEC_PER_MIN),p=Math.round(m*c('DateConsts').MS_PER_SEC),q=('0'+l).slice(-2),r=('0'+n).slice(-2),s=('0'+o).slice(-2),t=('00'+p).slice(-3),u='';if(l>0)u+=q+':';return u+=r+':'+s+'.'+t},getMaxPossibleAdBreaks:function j(k){var l=Math.ceil(k)*c('DateConsts').MS_PER_SEC;if(l<c('VideoInstreamAdsConstants').AD_INSERTION_MINIMUM_VIDEO_LENGTH_MS)return 0;var m=(l-c('VideoInstreamAdsConstants').AD_INSERTION_END_TIME_OFFSET_MS-c('VideoInstreamAdsConstants').AD_INSERTION_START_TIME_OFFSET_MS)/c('VideoInstreamAdsConstants').AD_INSERTION_INTERVAL_MS;return Math.max(0,Math.floor(m)+1)},getEligibleTimeSegments:function j(k,l){if(i.getMaxPossibleAdBreaks(l)===0)return [];var m=c('VideoInstreamAdsConstants').AD_INSERTION_START_TIME_OFFSET_MS/c('DateConsts').MS_PER_SEC,n=l-c('VideoInstreamAdsConstants').AD_INSERTION_END_TIME_OFFSET_MS/c('DateConsts').MS_PER_SEC,o=c('VideoInstreamAdsConstants').AD_INSERTION_INTERVAL_MS/c('DateConsts').MS_PER_SEC;if(k.length===0)return [{start:m,end:n}];var p=[];k.forEach(function(q,r){if(r===0){var s=q.timeOffset-o;if(s>=m)p.push({start:m,end:s});}if(r-1>=0){var t=k[r-1].timeOffset+o,u=q.timeOffset-o;if(t<=u)p.push({start:t,end:u});}if(r===k.length-1){var v=q.timeOffset+o;if(v<=n)p.push({start:v,end:n});}});return p},isInEligibleTimeSegments:function j(k,l,m){if(k===null||k===undefined)return false;var n=i.getEligibleTimeSegments(m,l);for(var o=0;o<n.length;o++)if(k>=n[o].start&&k<=n[o].end)return true;return false},getAdBreakTabState:function j(k,l,m){var n=new (c('Set'))(k);if(i.getMaxPossibleAdBreaks(m)===0)n.add(c('AdBreakInsertionDisabledReason').VIDEO_TOO_SHORT);if(l)n.add(c('AdBreakInsertionDisabledReason').BRANDED_CONTENT);return this._getAdBreakTabStateFromDisabledReasons(n)},_getAdBreakTabStateFromDisabledReasons:function j(k){if(k.size===0){return {disabled:false,errorMessageHeader:null,errorMessageContent:null}}else if(k.has(c('AdBreakInsertionDisabledReason').VIDEO_TOO_SHORT)){return {disabled:true,errorMessageHeader:h._({"*":"Videos Must Be {insertion interval} Seconds or Longer"},[h.param('insertion interval',c('VideoInstreamAdsConstants').AD_INSERTION_MINIMUM_VIDEO_LENGTH,[0])]),errorMessageContent:h._("Your video is too short to include ad breaks.")}}else if(k.has(c('AdBreakInsertionDisabledReason').NOT_ORGANIC_UPLOAD)){return {disabled:true,errorMessageHeader:h._("Ad Breaks Not Available"),errorMessageContent:h._("Ad breaks can only be placed in original videos, not crossposted or reshared videos.")}}else if(k.has(c('AdBreakInsertionDisabledReason').BRANDED_CONTENT))return {disabled:true,errorMessageHeader:h._("Ad Breaks Not Available"),errorMessageContent:h._("Ad breaks can't be used in this video because it contains tagged business partners.")};return {disabled:true,errorMessageHeader:h._("Ad Breaks Not Available"),errorMessageContent:null}}};f.exports=i}),null);
__d("VideoStereoFormat",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MONO:"mono",LEFT_RIGHT:"left-right",TOP_BOTTOM:"top-bottom"})}),null);