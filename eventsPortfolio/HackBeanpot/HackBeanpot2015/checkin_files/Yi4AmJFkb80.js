if (self.CavalryLogger) { CavalryLogger.start_js(["Xc4xD"]); }

__d("LiveVideoBroadcastStatusUpdateWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1528668480484478",queryID:"213402205795051"})}),null);
__d('LiveVideoBroadcastStatusUpdateSubscription',['BaseGraphQLSubscription','GraphQLSubscriptionsConfig','LiveVideoBroadcastStatusUpdateWebGraphQLSubscription','uuid'],(function a(b,c,d,e,f,g){var h=babelHelpers['extends']({},c('BaseGraphQLSubscription'),{_getTopic:function i(j){return 'gqls/live_video_broadcast_status_update_subscribe/video_id_'+j},_getQueryID:function i(){return c('GraphQLSubscriptionsConfig').shouldUseGraphQL2DocumentIDs?c('LiveVideoBroadcastStatusUpdateWebGraphQLSubscription').getDocID():c('LiveVideoBroadcastStatusUpdateWebGraphQLSubscription').getLegacyQueryID()},_getQueryParameters:function i(j){return {input:JSON.stringify({client_subscription_id:c('uuid')(),video_id:j})}},_getSubscriptionCallName:function i(){return 'live_video_broadcast_status_update_subscribe'}});f.exports=h}),null);
__d('LiveVideoBroadcastStatusUpdateSubscriptionHack',['LiveVideoBroadcastStatusUpdateSubscription','Map'],(function a(b,c,d,e,f,g){var h=new (c('Map'))(),i=new (c('Map'))(),j={subscribe:function k(l,m){var n;if(!h.has(l))(function(){var p=[];h.set(l,p);var q=c('LiveVideoBroadcastStatusUpdateSubscription').subscribe(l,function(r){for(var s=p,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}var w=v;w(r)}});i.set(l,q)})();var o=h.get(l);if(o)o.push(m);return {unsubscribe:function p(){var q=h.get(l);if(q){q=q.filter(function(s){return s!==m});h.set(l,q);if(q.length===0){var r=i.get(l);if(r&&r.unsubscribe)r.unsubscribe();h['delete'](l);i['delete'](l)}}}}}};f.exports=j}),null);
__d("VideoBroadcastScheduleSetStartTimeWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1142602422519364",queryID:"1333509503376136"})}),null);
__d('VideoBroadcastScheduleSetStartTimeSubscription',['BaseGraphQLSubscription','GraphQLSubscriptionsConfig','VideoBroadcastScheduleSetStartTimeWebGraphQLSubscription','uuid'],(function a(b,c,d,e,f,g){var h=babelHelpers['extends']({},c('BaseGraphQLSubscription'),{_getTopic:function i(j){return 'gqls/video_broadcast_schedule_set_start_time_subscribe/video_broadcast_schedule_id_'+j},_getQueryID:function i(){return c('GraphQLSubscriptionsConfig').shouldUseGraphQL2DocumentIDs?c('VideoBroadcastScheduleSetStartTimeWebGraphQLSubscription').getDocID():c('VideoBroadcastScheduleSetStartTimeWebGraphQLSubscription').getLegacyQueryID()},_getQueryParameters:function i(j){return {input:JSON.stringify({client_subscription_id:c('uuid')(),video_broadcast_schedule_id:j})}},_getSubscriptionCallName:function i(){return 'video_broadcast_schedule_set_start_time_subscribe'}});f.exports=h}),null);
__d('LiveVideoScheduleCountdown',['cx','CSS','DOM','DOMQuery'],(function a(b,c,d,e,f,g,h){function i(j,k){'use strict';this.$LiveVideoScheduleCountdown2=k;this.$LiveVideoScheduleCountdown3=j;this.$LiveVideoScheduleCountdown4();this.$LiveVideoScheduleCountdown1=setInterval(this.$LiveVideoScheduleCountdown4.bind(this),1000)}i.prototype.$LiveVideoScheduleCountdown5=function(){'use strict';var j=this.$LiveVideoScheduleCountdown2-Date.now()/1000,k=Math.floor(j%60),l=Math.floor(j/60%60);return {total:j,minutes:l,seconds:k}};i.prototype.$LiveVideoScheduleCountdown4=function(){'use strict';var j=c('DOMQuery').find(this.$LiveVideoScheduleCountdown3,'#display_text'),k=this.$LiveVideoScheduleCountdown5(),l=('0'+k.minutes).slice(-2),m=('0'+k.seconds).slice(-2),n=l+':'+m;if(k.total<=0){c('DOM').setContent(j,'00:00');c('CSS').addClass(j,"_32_g");clearInterval(this.$LiveVideoScheduleCountdown1)}else c('DOM').setContent(j,n);};f.exports=i}),null);
__d("XLiveScheduleStatusTransitionController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/schedule\/status\/",{story_dom_id:{type:"String"},story_target_id:{type:"String"},fb_feed_context:{type:"String"}})}),null);
__d("XLiveVideoBroadcastStatusController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live_video\/broadcast_status\/",{video_id:{type:"FBID",required:true}})}),null);
__d('LiveVideoScheduleNewsFeedTransitions',['AsyncRequest','clearTimeout','setTimeout','DOM','LiveVideoBroadcastStatusUpdateSubscriptionHack','LiveVideoScheduleCountdown','Map','Run','VideoBroadcastScheduleSetStartTimeSubscription','VideoBroadcastStatus','Visibility','XLiveScheduleStatusTransitionController','XLiveVideoBroadcastStatusController'],(function a(b,c,d,e,f,g){function h(i,j,k,l,m,n,o,p,q,r){'use strict';this.$LiveVideoScheduleNewsFeedTransitions4=i;this.$LiveVideoScheduleNewsFeedTransitions6=j;this.$LiveVideoScheduleNewsFeedTransitions7=k;this.$LiveVideoScheduleNewsFeedTransitions1=new (c('Map'))(Object.entries(l));this.$LiveVideoScheduleNewsFeedTransitions2=new (c('Map'))(Object.entries(m));this.$LiveVideoScheduleNewsFeedTransitions3=n;this.$LiveVideoScheduleNewsFeedTransitions11=o;this.$LiveVideoScheduleNewsFeedTransitions12=p;this.$LiveVideoScheduleNewsFeedTransitions13=q;this.$LiveVideoScheduleNewsFeedTransitions5=false;this.$LiveVideoScheduleNewsFeedTransitions8=[];this.$LiveVideoScheduleNewsFeedTransitions14=r;var s=c('LiveVideoBroadcastStatusUpdateSubscriptionHack').subscribe(i,function(u){return this.$LiveVideoScheduleNewsFeedTransitions15(u)}.bind(this));this.$LiveVideoScheduleNewsFeedTransitions16();var t=c('VideoBroadcastScheduleSetStartTimeSubscription').subscribe(j,function(u){return this.$LiveVideoScheduleNewsFeedTransitions17(u)}.bind(this));c('Visibility').addListener(c('Visibility').VISIBLE,function(){return this.$LiveVideoScheduleNewsFeedTransitions16()}.bind(this));c('Run').onLeave(function(){s&&s.unsubscribe();t&&t.unsubscribe()});this.$LiveVideoScheduleNewsFeedTransitions18()}h.prototype.$LiveVideoScheduleNewsFeedTransitions19=function(){'use strict';this.$LiveVideoScheduleNewsFeedTransitions1=new (c('Map'))();for(var i=this.$LiveVideoScheduleNewsFeedTransitions8,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var l;if(j){if(k>=i.length)break;l=i[k++]}else{k=i.next();if(k.done)break;l=k.value}var m=l;c('clearTimeout')(m)}this.$LiveVideoScheduleNewsFeedTransitions8=[]};h.prototype.$LiveVideoScheduleNewsFeedTransitions18=function(){'use strict';var i=Date.now()/1000;for(var j=this.$LiveVideoScheduleNewsFeedTransitions1,k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var m;if(k){if(l>=j.length)break;m=j[l++]}else{l=j.next();if(l.done)break;m=l.value}var n=m,o=n[0],p=n[1],q=parseInt(o,10),r=q-i,s=this.$LiveVideoScheduleNewsFeedTransitions2.get(p);if(r<=0){this.$LiveVideoScheduleNewsFeedTransitions20(s)}else{var t=c('setTimeout')(this.$LiveVideoScheduleNewsFeedTransitions20.bind(this,s),r*1000);this.$LiveVideoScheduleNewsFeedTransitions8.push(t)}}};h.prototype.$LiveVideoScheduleNewsFeedTransitions20=function(i){'use strict';if(!i)return;c('DOM').setContent(this.$LiveVideoScheduleNewsFeedTransitions3,i);var j=document.getElementById('date_text'+this.$LiveVideoScheduleNewsFeedTransitions6);if(j&&this.$LiveVideoScheduleNewsFeedTransitions9)c('DOM').setContent(j,this.$LiveVideoScheduleNewsFeedTransitions9);var k=document.getElementById('live_video_countdown'+this.$LiveVideoScheduleNewsFeedTransitions6);if(k&&this.$LiveVideoScheduleNewsFeedTransitions10)new (c('LiveVideoScheduleCountdown'))(k,this.$LiveVideoScheduleNewsFeedTransitions10+this.$LiveVideoScheduleNewsFeedTransitions7);};h.prototype.$LiveVideoScheduleNewsFeedTransitions17=function(i){'use strict';var j=i.video_broadcast_schedule_set_start_time_subscribe.video_broadcast_schedule,k=j.start_time,l=k-j.lobby_open_time,m=k+j.running_late_start_time,n=k+j.expiration_time;this.$LiveVideoScheduleNewsFeedTransitions9=j.formatted_start_time;this.$LiveVideoScheduleNewsFeedTransitions10=k;this.$LiveVideoScheduleNewsFeedTransitions19();this.$LiveVideoScheduleNewsFeedTransitions20(this.$LiveVideoScheduleNewsFeedTransitions2.get('RESCHEDULED'));this.$LiveVideoScheduleNewsFeedTransitions1.set(''+l,'LOBBY_OPEN');this.$LiveVideoScheduleNewsFeedTransitions1.set(''+m,'RUNNING_LATE');this.$LiveVideoScheduleNewsFeedTransitions1.set(''+n,'TIMED_OUT');this.$LiveVideoScheduleNewsFeedTransitions18()};h.prototype.$LiveVideoScheduleNewsFeedTransitions16=function(){'use strict';var i=c('XLiveVideoBroadcastStatusController').getURIBuilder().setFBID('video_id',this.$LiveVideoScheduleNewsFeedTransitions4).getURI();new (c('AsyncRequest'))().setURI(i).setHandler(function(j){if(j.payload.broadcast_status==c('VideoBroadcastStatus').LIVE){this.$LiveVideoScheduleNewsFeedTransitions21()}else if(this.$LiveVideoScheduleNewsFeedTransitions14&&!this.$LiveVideoScheduleNewsFeedTransitions5)c('setTimeout')(this.$LiveVideoScheduleNewsFeedTransitions16.bind(this),1000);}.bind(this)).send()};h.prototype.$LiveVideoScheduleNewsFeedTransitions15=function(i){'use strict';var j=i.live_video_broadcast_status_update_subscribe,k=j.video_broadcast_status;if(k===c('VideoBroadcastStatus').LIVE){this.$LiveVideoScheduleNewsFeedTransitions21()}else if(k===c('VideoBroadcastStatus').SCHEDULED_CANCELED){this.$LiveVideoScheduleNewsFeedTransitions19();this.$LiveVideoScheduleNewsFeedTransitions20(this.$LiveVideoScheduleNewsFeedTransitions2.get('CANCELED'))}};h.prototype.$LiveVideoScheduleNewsFeedTransitions21=function(){'use strict';if(this.$LiveVideoScheduleNewsFeedTransitions5)return;this.$LiveVideoScheduleNewsFeedTransitions5=true;var i=c('XLiveScheduleStatusTransitionController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(i).setData({story_dom_id:this.$LiveVideoScheduleNewsFeedTransitions12,story_target_id:this.$LiveVideoScheduleNewsFeedTransitions13,fb_feed_context:this.$LiveVideoScheduleNewsFeedTransitions11}).setMethod('POST').send()};f.exports=h}),null);