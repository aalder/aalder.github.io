if (self.CavalryLogger) { CavalryLogger.start_js(["rVuxT"]); }

__d('EncryptedImg',['EncryptedImgUtils','URI','XHRRequest','getCrossOriginTransport'],(function a(b,c,d,e,f,g){var h={insertIntoStyleBackgroundImage:function m(n,o){var p=function(q,r){if(q){q.style.backgroundImage="url('"+r+"')"}}.bind(undefined,o);h.load(n,p)},insertIntoDOM:function m(n,o){var p=function(q,r){if(q){q.setAttribute('src',r)}}.bind(undefined,o);h.load(n,p)},load:function m(n,o){var p=arguments.length<=2||arguments[2]===undefined?true:arguments[2],q=new (c('URI'))(n),r=c('EncryptedImgUtils').extractKey(q),s=i.bind(undefined,r,o,p);s.includeHeaders=true;new (c('XHRRequest'))(q.toString()).setTransportBuilder(c('getCrossOriginTransport')).setMethod('GET').setResponseType('arraybuffer').setResponseHandler(s).send()},dataUrlPrefix:function m(n){var o=arguments.length<=1||arguments[1]===undefined?32:arguments[1];if(!n.startsWith('data:'))return n;var p=n.indexOf(',');if(p<0||p>o)p=o;return n.slice(0,p)}};Object.assign(h,c('EncryptedImgUtils'));f.exports=h;function i(m,n,o,p,q){if(!m){n(l(p,k(q)));return}var r=j(m),s=new Uint8Array(p),t=s.subarray(2,14);s=s.subarray(14,s.length);var u={name:'AES-GCM',iv:t,tagLength:128};window.crypto.subtle.importKey('raw',r,u,false,['encrypt','decrypt']).then(function(v){return window.crypto.subtle.decrypt(u,v,s)}).then(function(v){if(o){n(l(v,k(q)))}else n(v);})['catch'](function(){})}function j(m){if(typeof m=='string'){var n=new Uint8Array(Math.floor(m.length/2)),o=0;m.replace(/(..)/g,function(p){n[o++]=parseInt(p,16)});return n}return null}function k(m){var n='image/jpeg',o=m.toLowerCase().match(/content-type:\s?([\w\/]*)\s/);if(o&&o.length>1)n=o[1];return n}function l(m,n){var o=new Uint8Array(m),p='';for(var q=0,r=o.byteLength;q<r;++q)p+=String.fromCharCode(o[q]);return 'data:'+n+';base64,'+window.btoa(p)}}),null);
__d('getDOMImageSize',['EncryptedImg','URI'],(function a(b,c,d,e,f,g){function h(m){m.onload=null;m.onerror=null;m.onreadystatechange=null;m._callback=null;m._thisObj=null;m._srcStr=null;m.parentNode&&m.parentNode.removeChild(m)}function i(){var m=this;if(m._callback)m._callback.call(m._thisObj,m.naturalWidth||m.width,m.naturalHeight||m.height,m._srcStr);h(m)}function j(){var m=this;if(m.readyState==='complete')i.call(m);}function k(){var m=this;if(m._callback)m._callback.call(m._thisObj,0,0,m._srcStr);h(m)}function l(m,n,o){o=o||null;if(!m){n.call(o,0,0,'');return}var p=document.body;if(!p){setTimeout(l.bind(this,m,n,o),500);return}var q;if(typeof m==='string'){q=m}else if(typeof m==='object')if(typeof m.width==='number'&&typeof m.height==='number'){if(typeof m.src==='string'){q=m.src;if(m.naturalWidth&&m.naturalHeight){n.call(o,m.naturalWidth,m.naturalHeight,q);return}}if(typeof m.uri==='string'){q=m.uri;if(m.width&&m.height){n.call(o,m.width,m.height,q);return}}}else if(m instanceof c('URI'))q=m.toString();if(!q){n(0,0,m);return}var r=document.createElement('img');r.onreadystatechange=j;r.onload=i;r.onerror=k;r._callback=n;r._thisObj=o;r._srcStr=q;if(c('EncryptedImg').isEncrypted(q)){c('EncryptedImg').insertIntoDOM(q,r)}else r.src=q;r.style.cssText='\n    position:absolute;\n    left:-5000px;\n    top:-5000px;\n    width:auto;\n    height:auto;\n    clip:rect(0 0 0 0);\n  '.replace(/\s+/,' ');p.insertBefore(r,p.firstChild)}f.exports=l}),null);
__d('CachedDOMImageSizePool',['debounce','getDOMImageSize'],(function a(b,c,d,e,f,g){function h(i,j){'use strict';this.$CachedDOMImageSizePool1={};this.$CachedDOMImageSizePool2=j;this.$CachedDOMImageSizePool3=0;this.$CachedDOMImageSizePool4=i;this.$CachedDOMImageSizePool5=c('debounce')(this.$CachedDOMImageSizePool6,5000,this);this.$CachedDOMImageSizePool7={};this.$CachedDOMImageSizePool8={}}h.prototype.get=function(i,j,k){'use strict';if(!i){j.call(k,0,0,i);return}var l=this.$CachedDOMImageSizePool1[i];if(l){l.lastAccessTime=Date.now();j.call(k,l.width,l.height,l.src)}else if(this.$CachedDOMImageSizePool7[i]){this.$CachedDOMImageSizePool7[i].push(j);this.$CachedDOMImageSizePool8[i].push(k)}else{this.$CachedDOMImageSizePool7[i]=[j];this.$CachedDOMImageSizePool8[i]=[k];c('getDOMImageSize')(i,this.$CachedDOMImageSizePool9,this)}};h.prototype.set=function(i,j,k){'use strict';if(this.$CachedDOMImageSizePool3>this.$CachedDOMImageSizePool4)this.$CachedDOMImageSizePool5();var l=this.$CachedDOMImageSizePool1;if(i&&!l[i]){var m={width:j,height:k,src:i,lastAccessTime:Date.now()};l[i]=m;this.$CachedDOMImageSizePool3++}};h.prototype.$CachedDOMImageSizePool9=function(i,j,k){'use strict';this.set(k,i,j);var l=this.$CachedDOMImageSizePool7[k],m=this.$CachedDOMImageSizePool8[k];for(var n=0,o=l.length;n<o;n++)l[n].call(m[n],i,j,k);delete this.$CachedDOMImageSizePool7[k];delete this.$CachedDOMImageSizePool8[k]};h.prototype.$CachedDOMImageSizePool6=function(){'use strict';var i=Date.now(),j=this.$CachedDOMImageSizePool1,k=this.$CachedDOMImageSizePool3,l=this.$CachedDOMImageSizePool2;for(var m in j){var n=j[m];if(i-n.lastAccessTime>l){delete j[m];k--}}this.$CachedDOMImageSizePool3=k};f.exports=h}),null);
__d('BackgroundImage.react',['cx','invariant','CachedDOMImageSizePool','Image.react','React','XUISpinner.react','joinClasses','clamp'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k='(-?(\\d+\\.)?\\d+(px|\\%))',l=new RegExp('^'+k+'?(\\s'+k+')?$','g'),m=new (c('CachedDOMImageSizePool'))(50,10*60*1000),n=c('React').createClass({displayName:'BackgroundImage',propTypes:{src:j.string,width:j.number.isRequired,height:j.number.isRequired,backgroundSize:j.oneOf(['contain','cover','containinside','coverinside']),loadingIndicatorStyle:j.oneOf(['none','large','small']),backgroundPosition:function o(p,q,r){var s=p[q];if(s){typeof s==='string'||i(0);s.match(l)||i(0)}p.backgroundFocus==null||p.backgroundPosition==null||i(0)},backgroundFocus:function o(p,q,r){var s=p[q];if(s){typeof s==='string'||i(0);s.match(l)||i(0)}p.backgroundFocus==null||p.backgroundPosition==null||i(0)},onImageLoad:j.func,optimizeResizeSpeed:j.bool,onContextMenu:j.func},getInitialState:function o(){return {imageWidth:null,imageHeight:null,imageSrc:this.props.src,loading:true}},getDefaultProps:function o(){return {optimizeResizeSpeed:false,loadingIndicatorStyle:'none'}},componentDidMount:function o(){this._resolveImageSize()},componentDidUpdate:function o(p){if(this.props.src!==this.state.imageSrc)this.setState({imageWidth:0,imageHeight:0,imageSrc:this.props.src,loading:true},this._resolveImageSize);},_resolveImageSize:function o(){var p=this.state.imageSrc;if(p)m.get(p,this._onImageSizeResolved,this);},render:function o(){var p={width:this.props.width+'px',height:this.props.height+'px'},q=c('joinClasses')(this.props.className,"_5f0d");return c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,q),style:babelHelpers['extends']({},this.props.style||{},p),onContextMenu:this.props.onContextMenu}),this._renderImage(),this._renderContent(),this._renderLoadingIndicator())},_renderLoadingIndicator:function o(){if(!this.state.loading||this.props.loadingIndicatorStyle==='none')return null;return c('React').createElement('div',{className:"_1qe- _5lar"},c('React').createElement('div',{className:"_1qe_"},c('React').createElement('div',{className:"_1qf0"},c('React').createElement(c('XUISpinner.react'),{size:this.props.loadingIndicatorStyle}))))},_renderContent:function o(){if(this.props.children)return c('React').createElement('div',{className:"_1qe-"},c('React').createElement('div',{className:"_1qe_"},c('React').createElement('div',{className:"_1qf0"},this.props.children)));},_renderImage:function o(){if(!this.state.imageWidth||!this.state.imageHeight)return;var p=this.props.width,q=this.props.height,r,s;switch(this.props.backgroundSize){case 'cover':r='cover';s=false;break;case 'coverinside':r='cover';s=true;break;case 'contain':r='contain';s=false;break;case 'containinside':r='contain';s=true;}var t=this.state.imageWidth,u=this.state.imageHeight,v=p/q,w=t/u;if(r==='contain')if((t>p||!s)&&w>=v){t=p;u=t/w}else if(u>q||!s){u=q;t=u*w}if(r==='cover')if((t>p||!s)&&w>=v){u=q;t=u*w}else if(u>q||!s){t=p;u=t/w}var x=this._getImageStyle(t,u);return c('React').createElement(c('Image.react'),{alt:this.props.alt,className:"_5i4g"+(this.props.optimizeResizeSpeed?' '+"_5sjv":''),style:x,src:this.state.imageSrc})},_getImageStyle:function o(p,q){var r=['50%','50%'],s=this._getBackgroundPositionPxValue;if(this.props.backgroundPosition){r=this.props.backgroundPosition.split(' ')}else if(this.props.backgroundFocus){r=this.props.backgroundFocus.split(' ');s=this._getBackgroundFocusPxValue}return {width:Math.round(p)+'px',height:Math.round(q)+'px',left:s(r[0],p,this.props.width),top:s(r[1]||r[0],q,this.props.height)}},_getBackgroundPositionPxValue:function o(p,q,r){var s=parseFloat(p),t=p.substr(s.toString().length);if(t==='px')return p;return Math.round((r-q)*(s/100))+'px'},_getBackgroundFocusPxValue:function o(p,q,r){var s=parseFloat(p),t=p.substr(s.toString().length);if(q<r)return '0';var u=t==='px'?s:Math.round(q*(s/100)),v=u-r/2;v=c('clamp')(v,0,q-r);return -v+'px'},_onImageSizeResolved:function o(p,q,r){if(!this.isMounted()||this.state.imageSrc!==r)return;var s=this.props.onImageLoad?this.props.onImageLoad.bind(null,p,q):null;this.setState({imageWidth:p,imageHeight:q,loading:false},s)}});f.exports=n}),null);
__d('AbstractActionList.react',['React','ReactFragment'],(function a(b,c,d,e,f,g){var h,i,j=c('React').createElement('span',{role:'presentation','aria-hidden':'true'},' \u00b7 ');h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){'use strict';var l=true,m=c('React').Children.map(this.props.children,function(n){if(!n)return n;if(l){l=false;return n}return c('ReactFragment').create({BULLET:j,child:n})});return c('React').createElement('div',this.props,m)};function k(){'use strict';h.apply(this,arguments)}f.exports=k}),null);
__d('ActionList.react',['AbstractActionList.react','joinClasses','React'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){'use strict';return c('React').createElement(c('AbstractActionList.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"fsm fwn fcg")}),this.props.children)};function j(){'use strict';h.apply(this,arguments)}f.exports=j}),null);
__d('CloseButton.react',['cx','fbt','React','Image.react','CloseButtonIcon','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){'use strict';var m=this.props,n=m.size||'medium',o=m.appearance||'normal',p=n==='small',q=n==='huge',r=o==='dark',s=o==='inverted',t=m.ajaxify||null,u=m.rel||null,v="uiCloseButton"+(p?' '+"uiCloseButtonSmall":'')+(q?' '+"uiCloseButtonHuge":'')+(p&&r?' '+"uiCloseButtonSmallDark":'')+(p&&s?' '+"uiCloseButtonSmallInverted":'')+(!p&&r?' '+"uiCloseButtonDark":'')+(!p&&s?' '+"uiCloseButtonInverted":''),w=i._("Close"),x=Object.assign({},this.props);delete x.size;delete x.appearance;delete x.ajaxify;delete x.tooltip;return c('React').createElement('a',babelHelpers['extends']({},x,{ajaxify:t,href:'#',role:'button',title:m.ariaLabel||w,'aria-label':m.ariaLabel||w,'data-hover':m.tooltip&&'tooltip','data-skipchecker':null,'data-tooltip-alignh':m.tooltip&&'center','data-tooltip-content':m.tooltip,className:c('joinClasses')(this.props.className,v),rel:u}),c('React').createElement(c('Image.react'),{className:'uiCloseButtonHighContrast',src:c('CloseButtonIcon').icon}))};function l(){'use strict';j.apply(this,arguments)}f.exports=l}),null);
__d('InputLabel_DEPRECATED.react',['cx','invariant','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes,m=0;function n(){return 'js_input_label_'+m++}j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;o.prototype.render=function(){'use strict';this.props.children.length===2||i(0);var p=this.props.children[0],q=this.props.children[1],r=p.type==='input';p=c('React').cloneElement(p,{className:c('joinClasses')(p.props.className,"uiInputLabelInput"+(r&&p.props.type==='radio'?' '+"uiInputLabelRadio":'')+(r&&p.props.type==='checkbox'?' '+"uiInputLabelCheckbox":'')),id:p.props.id||n()});q=c('React').cloneElement(q,{className:c('joinClasses')(q.props.className,'uiInputLabelLabel'),htmlFor:p.props.id});var s="uiInputLabel"+(' '+"clearfix")+(this.props.display==='inline'?' '+"inlineBlock":'')+(r?' '+"uiInputLabelLegacy":'');return c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,s)}),p,q)};function o(){'use strict';j.apply(this,arguments)}o.propTypes={display:l.oneOf(['block','inline'])};o.defaultProps={display:'block'};f.exports=o}),null);
__d('XUITypeaheadViewContainer.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement('ul',{className:c('joinClasses')("_599r",this.props.className),'data-testid':this.props.testID,id:this.props.ariaOwneeID,role:this.props.role},this.props.children)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("LegacyContactTestConstants",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CHOOSE_CONTACT_BUTTON:"choose_contact_button",NOT_NOW_BUTTON:"not_now_button",LEGACY_CONTACT_CARD:"legacy_contact_card",CONFIRM_REMOVE:"confirm_remove",SEND_MESSAGE_BUTTON:"send_message_button",MESSAGE_SEND_CONFIRMED:"message_send_confirmed",DELETE_ACCOUNT_SELECTOR:"delete_account_selector",SAVE_BUTTON:"save_button",DELETE_ACCOUNT_CONFIRM:"delete_account_confirm",DELETE_AFTER_DEATH_CHOSEN:"delete_after_death_chosen",DONT_DELETE_SELECTOR:"dont_delete_selector",YES_ALLOW_SELECTOR:"yes_allow_selector",DATA_ARCHIVE_SETTING:"data_archive_setting",NO_DISALLOW_SELECTOR:"no_disallow_selector",ADD_CONFIRM_BUTTON:"add_confirm_button",DATA_ARCHIVE_SETTING_YES:"data_archive_setting_yes",DATA_ARCHIVE_SETTING_NO:"data_archive_setting_no",CHOOSE_FRIEND_TYPEAHEAD:"choose_friend_typeahead",MESSAGE_COMPOSE_BOX:"message_compose_box",REMOVE_CONTACT_BUTTON:"remove_contact_button",MESSAGE_BUTTON:"message_button",LOADING_INDICATOR:"memorialization_loading_indicator"})}),null);
__d('TypeaheadViewItem',['React','ReactDOM','SearchableEntry','prop-types'],(function a(b,c,d,e,f,g){var h={children:c('prop-types').node,className:c('prop-types').string,entry:c('prop-types').instanceOf(c('SearchableEntry')).isRequired,highlighted:c('prop-types').bool,role:c('prop-types').string,selected:c('prop-types').bool,onSelect:c('prop-types').func.isRequired,onHighlight:c('prop-types').func,onRenderHighlight:c('prop-types').func},i={role:'option'},j={_onSelect:function l(m){this.props.onSelect(this.props.entry,m)},_onHighlight:function l(m){if(this.props.onHighlight)this.props.onHighlight(this.props.entry,m);},getDefaultProps:function l(){return i},shouldComponentUpdate:function l(m){return this.props.entry.getUniqueID()!==m.entry.getUniqueID()||this.props.highlighted!==m.highlighted||this.props.selected!==m.selected},componentDidMount:function l(){var m=this.props.onRenderHighlight;if(this.props.highlighted&&m)m(c('ReactDOM').findDOMNode(this));},componentDidUpdate:function l(){var m=this.props.onRenderHighlight;if(this.props.highlighted&&m)m(c('ReactDOM').findDOMNode(this));}};function k(l){var m,n;return n=m=function(){var o,p;o=babelHelpers.inherits(q,c('React').Component);p=o&&o.prototype;function q(){var r,s;'use strict';for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=p.constructor).call.apply(r,[this].concat(u)),this.$TypeaheadViewItem1=function(w){this.props.onSelect(this.props.entry,w)}.bind(this),this.$TypeaheadViewItem2=function(w){if(this.props.onHighlight)this.props.onHighlight(this.props.entry,w);}.bind(this),s}q.prototype.shouldComponentUpdate=function(r){'use strict';return this.props.entry.getUniqueID()!==r.entry.getUniqueID()||this.props.highlighted!==r.highlighted||this.props.selected!==r.selected};q.prototype.componentDidMount=function(){'use strict';var r=this.props.onRenderHighlight;if(this.props.highlighted&&r)r(c('ReactDOM').findDOMNode(this));};q.prototype.componentDidUpdate=function(){'use strict';var r=this.props.onRenderHighlight;if(this.props.highlighted&&r)r(c('ReactDOM').findDOMNode(this));};q.prototype.render=function(){'use strict';return c('React').createElement(l,babelHelpers['extends']({},this.props,{onSelect:this.$TypeaheadViewItem1,onHighlight:this.$TypeaheadViewItem2}))};return q}(),m.displayName='TypeaheadViewItem('+l.displayName+')',m.defaultProps=i,n}f.exports={makeTypeaheadViewItem:k,Mixin:j,propTypes:h}}),null);
__d('XUITypeaheadViewItem.react',['cx','BackgroundImage.react','Badge.react','ImageBlock.react','LegacyContactTestConstants','React','TextWithEmoticons.react','Tooltip','TypeaheadViewItem','joinClasses'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=c('React').createClass({displayName:'XUITypeaheadViewItem',mixins:[c('TypeaheadViewItem').Mixin],propTypes:babelHelpers['extends']({},c('TypeaheadViewItem').propTypes,{splitText:i.bool,tooltip:i.node,tooltipPosition:i.oneOf(['above','left','below','right']),backgroundSize:i.string}),render:function k(){var l=this.props.entry,m=this.props.splitSubtext?l.getSubtitle().split(' \u00b7 ')[0]:l.getSubtitle(),n=m?c('React').createElement('div',{className:"_599q"},this.props.children,m):null,o=this.props.backgroundSize||'cover',p=l.getPhoto()?c('React').createElement(c('BackgroundImage.react'),{width:32,height:32,backgroundSize:o,src:l.getPhoto()}):c('React').createElement('span',null),q=l.getAuxiliaryData(),r=null;if(q)if(q.verified){r=c('React').createElement(c('Badge.react'),null)}else if(q.nonCoworker){r=c('React').createElement(c('Badge.react'),{type:'work_non_coworker'})}else if(q.workUser)r=c('React').createElement(c('Badge.react'),{type:'work'});var s="_599m"+(!n?' '+"_5mne":'')+(this.props.highlighted?' '+"_599n":'');s=c('joinClasses')(s,this.props.className);var t=this.props.tooltipPosition?this.props.tooltipPosition:'right';return c('React').createElement('li',babelHelpers['extends']({'aria-selected':this.props.highlighted,className:s,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role,'data-testid':c('LegacyContactTestConstants').CHOOSE_CONTACT_BUTTON},this.props.tooltip?c('Tooltip').propsFor(this.props.tooltip,t):{}),c('React').createElement(c('ImageBlock.react'),{spacing:'medium'},p,c('React').createElement('div',null,c('React').createElement('div',{className:"_599p"},c('React').createElement(c('TextWithEmoticons.react'),{renderEmoticons:false,renderEmoji:true,text:l.getTitle()}),r),n)))}});f.exports=j}),null);
__d('XUITypeaheadView.react',['cx','React','TypeaheadViewPropTypes','XUITypeaheadViewContainer.react','XUITypeaheadViewItem.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$XUITypeaheadView1=function(q){var r=q===this.props.highlightedEntry;return c('React').createElement(c('XUITypeaheadViewItem.react'),{key:q.getUniqueID(),entry:q,highlighted:r,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight})}.bind(this),m}k.prototype.render=function(){'use strict';var l=!this.props.entries.length?"_599s":'';if(this.props.className)l=c('joinClasses')(this.props.className,l);return c('React').createElement(c('XUITypeaheadViewContainer.react'),{className:l,id:this.props.ariaOwneeID,role:this.props.role},this.props.entries.map(this.$XUITypeaheadView1))};k.propTypes=c('TypeaheadViewPropTypes');k.defaultProps={role:'listbox'};f.exports=k}),null);
__d('AbstractAsyncSearchSource',['AbstractSearchSource','SearchableEntry','SearchSourceCallbackManager','SearchSourceQueryStatus','TokenizeUtil','emptyFunction','isValidUniqueID','nullthrows'],(function a(b,c,d,e,f,g){var h,i,j=c('SearchSourceQueryStatus').ACTIVE,k=c('SearchSourceQueryStatus').COMPLETE;h=babelHelpers.inherits(l,c('AbstractSearchSource'));i=h&&h.prototype;function l(m,n,o){'use strict';i.constructor.call(this);this.$AbstractAsyncSearchSource1=m.asyncErrorHandler||c('emptyFunction');this.$AbstractAsyncSearchSource2=m.auxiliaryFields;this.$AbstractAsyncSearchSource4=m.bootstrapRequests;this.$AbstractAsyncSearchSource6=m.getAllForEmptyQuery;this.$AbstractAsyncSearchSource8=m.packageFn||this.$AbstractAsyncSearchSource12;this.$AbstractAsyncSearchSource9=m.queryRequests;this.$AbstractAsyncSearchSource10=m.requestData||{};this.$AbstractAsyncSearchSource3=[];this.$AbstractAsyncSearchSource5=new (c('SearchSourceCallbackManager'))({parseFn:c('TokenizeUtil').parse,matchFn:m.matchFn||c('TokenizeUtil').isQueryMatch,indexFn:m.indexFn,exclusions:m.exclusions});this.$AbstractAsyncSearchSource11=n;this.$AbstractAsyncSearchSource7=o}l.prototype.bootstrapImpl=function(m){'use strict';var n=m;if(!this.$AbstractAsyncSearchSource4||!this.$AbstractAsyncSearchSource4.length){n();return}var o=this.$AbstractAsyncSearchSource4.length,p=0;this.$AbstractAsyncSearchSource4.forEach(function(q){this.$AbstractAsyncSearchSource13(this.$AbstractAsyncSearchSource10,q,function(r){this.$AbstractAsyncSearchSource5.addLocalEntries(r);this.$AbstractAsyncSearchSource3=this.$AbstractAsyncSearchSource3.concat(r);p++;if(n&&p===o){n();n=null}}.bind(this))}.bind(this))};l.prototype.searchImpl=function(m,n,o){'use strict';if(this.$AbstractAsyncSearchSource6&&m===''){this.getBootstrappedEntries(function(u){n(u,m)});return}var p=null,q={},r=this.$AbstractAsyncSearchSource5.search(m,function(u,v,w){if(o&&o.waitForAllResults&&w!==k)return;if(!p){p=u;p.forEach(function(x){q[x.getUniqueID()]=true})}else u.forEach(function(x){var y=x.getUniqueID();if(!q[y]){c('nullthrows')(p).push(x);q[y]=true}});n(p,v,w)});if(!r||!this.$AbstractAsyncSearchSource9||!this.$AbstractAsyncSearchSource9.length)return;var s=babelHelpers['extends']({value:m,existing_ids:p&&p.map(function(u){return u.getUniqueID()}).join(',')},this.$AbstractAsyncSearchSource10),t=this.$AbstractAsyncSearchSource9.length;this.$AbstractAsyncSearchSource9.forEach(function(u){this.$AbstractAsyncSearchSource13(s,u,function(v){t--;this.$AbstractAsyncSearchSource14(v,m,t?j:k)}.bind(this))}.bind(this))};l.prototype.getBootstrappedEntries=function(m){'use strict';return this.bootstrap(function(){return m(this.$AbstractAsyncSearchSource3||[])}.bind(this))};l.prototype.getAllEntriesMap=function(){'use strict';return this.$AbstractAsyncSearchSource5.getAllEntriesMap()};l.prototype.setRequestData=function(m){'use strict';this.$AbstractAsyncSearchSource10=m};l.prototype.$AbstractAsyncSearchSource13=function(m,n,o){'use strict';this.$AbstractAsyncSearchSource11(m,n,function(p){return o(this.$AbstractAsyncSearchSource7(p,this.$AbstractAsyncSearchSource8).filter(Boolean))}.bind(this),this.$AbstractAsyncSearchSource1)};l.prototype.$AbstractAsyncSearchSource15=function(m){'use strict';this.$AbstractAsyncSearchSource5.addLocalEntries(m)};l.prototype.$AbstractAsyncSearchSource14=function(m,n,o){'use strict';this.$AbstractAsyncSearchSource5.addQueryEntries(m,n,o)};l.prototype.$AbstractAsyncSearchSource12=function(m,n){'use strict';var o=m.title||m.text,p=m.uniqueID||m.uid;if(!o||!c('isValidUniqueID')(p))return null;return new (c('SearchableEntry'))({uniqueID:p,order:m.order||m.index||n,title:o,subtitle:m.subtitle||m.category||m.subtext,keywordString:m.keywordString||m.tokens,type:m.type,photo:m.photo,uri:m.uri||m.path,auxiliaryData:this.$AbstractAsyncSearchSource16(m)})};l.prototype.$AbstractAsyncSearchSource16=function(m){'use strict';var n=void 0;if(this.$AbstractAsyncSearchSource2){n={};for(var o in this.$AbstractAsyncSearchSource2){var p=this.$AbstractAsyncSearchSource2[o];n[o]=m[p]}}if(m.aux_data)n=babelHelpers['extends']({},n,m.aux_data);return n};f.exports=l}),null);
__d('WebAsyncSearchSource',['AbstractAsyncSearchSource','AbstractSearchSource','AsyncRequest','WebAsyncSearchSourceUtils'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('AbstractSearchSource'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this);this.$WebAsyncSearchSource1=new (c('AbstractAsyncSearchSource'))(k,this.$WebAsyncSearchSource2,c('WebAsyncSearchSourceUtils').normalizeResponse)}j.prototype.bootstrapImpl=function(k){'use strict';this.$WebAsyncSearchSource1.bootstrap(k)};j.prototype.searchImpl=function(k,l,m){'use strict';this.$WebAsyncSearchSource1.search(k,l,m)};j.prototype.getBootstrappedEntries=function(k){'use strict';return this.$WebAsyncSearchSource1.getBootstrappedEntries(k)};j.prototype.getAllEntriesMap=function(){'use strict';return this.$WebAsyncSearchSource1.getAllEntriesMap()};j.prototype.setRequestData=function(k){'use strict';this.$WebAsyncSearchSource1.setRequestData(k)};j.prototype.$WebAsyncSearchSource2=function(k,l,m,n){'use strict';new (c('AsyncRequest'))(l.uri).setData(babelHelpers['extends']({},k,l.data)).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(m).setErrorHandler(n).send()};f.exports=j}),null);
__d('AbstractCheckboxInput.react',['cx','invariant','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';!this.props.children||this.props.children.length===0||i(0);var n=c('joinClasses')(this.props.className,"_kv1"),o=c('React').createElement('input',babelHelpers['extends']({},this.props,{'data-testid':undefined,className:null,ref:function(p){return this.$AbstractCheckboxInput1=p}.bind(this),type:'checkbox'}),undefined);return c('React').createElement('label',{className:n,'data-testid':this.props['data-testid']},o,c('React').createElement('span',{'data-hover':this.props.tooltip?'tooltip':null,'data-tooltip-content':this.props.tooltip}))};m.prototype.focusInput=function(){'use strict';this.$AbstractCheckboxInput1&&this.$AbstractCheckboxInput1.focus()};m.prototype.blurInput=function(){'use strict';this.$AbstractCheckboxInput1&&this.$AbstractCheckboxInput1.blur()};function m(){'use strict';j.apply(this,arguments)}m.propTypes={'data-testid':l.string,tooltip:l.oneOfType([l.node,l.string])};f.exports=m}),null);
__d('PhotosMimeType',[],(function a(b,c,d,e,f,g){var h={isImage:function j(k){return i(k)[0]==='image'},isJpeg:function j(k){var l=i(k);return h.isImage(k)&&(l[1]==='jpeg'||l[1]==='pjpeg')}};function i(j){return j.split('/')}f.exports=h}),null);
__d('DataTransfer',['PhotosMimeType','createArrayFromMixed','emptyFunction'],(function a(b,c,d,e,f,g){var h=new RegExp('\u000D\u000A','g'),i='\u000A',j={'text/rtf':1,'text/html':1};function k(m){if(m.kind=='file')return m.getAsFile();}function l(m){'use strict';this.data=m;this.types=m.types?c('createArrayFromMixed')(m.types):[]}l.prototype.isRichText=function(){'use strict';if(this.getHTML()&&this.getText())return true;if(this.isImage())return false;return this.types.some(function(m){return j[m]})};l.prototype.getText=function(){'use strict';var m;if(this.data.getData)if(!this.types.length){m=this.data.getData('Text')}else if(this.types.indexOf('text/plain')!=-1)m=this.data.getData('text/plain');return m?m.replace(h,i):null};l.prototype.getHTML=function(){'use strict';if(this.data.getData)if(!this.types.length){return this.data.getData('Text')}else if(this.types.indexOf('text/html')!=-1)return this.data.getData('text/html');};l.prototype.isLink=function(){'use strict';return this.types.some(function(m){return m.indexOf('Url')!=-1||m.indexOf('text/uri-list')!=-1||m.indexOf('text/x-moz-url')!=-1})};l.prototype.getLink=function(){'use strict';if(this.data.getData){if(this.types.indexOf('text/x-moz-url')!=-1){var m=this.data.getData('text/x-moz-url').split('\n');return m[0]}return this.types.indexOf('text/uri-list')!=-1?this.data.getData('text/uri-list'):this.data.getData('url')}return null};l.prototype.isImage=function(){'use strict';var m=this.types.some(function(q){return q.indexOf('application/x-moz-file')!=-1});if(m)return true;var n=this.getFiles();for(var o=0;o<n.length;o++){var p=n[o].type;if(!c('PhotosMimeType').isImage(p))return false;}return true};l.prototype.getCount=function(){'use strict';if(Object.prototype.hasOwnProperty.call(this.data,'items')){return this.data.items.length}else if(Object.prototype.hasOwnProperty.call(this.data,'mozItemCount')){return this.data.mozItemCount}else if(this.data.files)return this.data.files.length;return null};l.prototype.getFiles=function(){'use strict';if(this.data.items){return Array.prototype.slice.call(this.data.items).map(k).filter(c('emptyFunction').thatReturnsArgument)}else if(this.data.files){return Array.prototype.slice.call(this.data.files)}else return [];};l.prototype.hasFiles=function(){'use strict';return this.getFiles().length>0};f.exports=l}),null);
__d('DraftEntityInstance',['immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').Record,k=j({type:'TOKEN',mutability:'IMMUTABLE',data:Object});h=babelHelpers.inherits(l,k);i=h&&h.prototype;l.prototype.getType=function(){return this.get('type')};l.prototype.getMutability=function(){return this.get('mutability')};l.prototype.getData=function(){return this.get('data')};function l(){h.apply(this,arguments)}f.exports=l}),null);
__d('DraftEntity',['invariant','DraftEntityInstance','immutable'],(function a(b,c,d,e,f,g,h){var i=c('immutable').Map,j=i(),k=0;function l(n,o){}var m={getLastCreatedEntityKey:function n(){l('DraftEntity.getLastCreatedEntityKey','contentState.getLastCreatedEntityKey');return m.__getLastCreatedEntityKey()},create:function n(o,p,q){l('DraftEntity.create','contentState.createEntity');return m.__create(o,p,q)},add:function n(o){l('DraftEntity.add','contentState.addEntity');return m.__add(o)},get:function n(o){l('DraftEntity.get','contentState.getEntity');return m.__get(o)},mergeData:function n(o,p){l('DraftEntity.mergeData','contentState.mergeEntityData');return m.__mergeData(o,p)},replaceData:function n(o,p){l('DraftEntity.replaceData','contentState.replaceEntityData');return m.__replaceData(o,p)},__getLastCreatedEntityKey:function n(){return ''+k},__create:function n(o,p,q){return m.__add(new (c('DraftEntityInstance'))({type:o,mutability:p,data:q||{}}))},__add:function n(o){var p=''+ ++k;j=j.set(p,o);return p},__get:function n(o){var p=j.get(o);!!p||h(0);return p},__mergeData:function n(o,p){var q=m.__get(o),r=babelHelpers['extends']({},q.getData(),p),s=q.set('data',r);j=j.set(o,s);return s},__replaceData:function n(o,p){var q=m.__get(o),r=q.set('data',p);j=j.set(o,r);return r}};f.exports=m}),null);
__d('getMentionsTextForContentState',['DraftEntity','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';var h=c('emptyFunction').thatReturnsTrue,i=/[\\\]:]/g;function j(l){var m=arguments.length<=1||arguments[1]===undefined?'':arguments[1],n=l.getBlockMap().map(function(o){var p=o.getText(),q=[];o.findEntityRanges(h,function(r,s){q.push(k(p.slice(r,s),o.getEntityAt(r)))});return q.join('')});return n.join('\n'+m)}function k(l,m){if(m){var n=c('DraftEntity').get(m);if(n.getType()==='MENTION'){l=l.replace(i,function(p){return '\\'+p});var o=n.getData().id;if(/^\d+$/.test(o))return '@['+o+':'+l+']';}else if(n.getType()==='EMOTICON'){return n.getData().originalEmoticon}else if(n.getType()==='EMOJI')return n.getData().emoji.join('');}return l.replace('@[','@ [')}f.exports=j}),null);
__d('sanitizeDraftText',[],(function a(b,c,d,e,f,g){'use strict';var h=new RegExp('\r','g');function i(j){return j.replace(h,'')}f.exports=i}),null);
__d('BlockMapBuilder',['immutable'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').OrderedMap,i={createFromArray:function j(k){return h(k.map(function(l){return [l.getKey(),l]}))}};f.exports=i}),null);
__d('findRangesImmutable',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l){if(!i.size)return;var m=0;i.reduce(function(n,o,p){if(!j(n,o)){if(k(n))l(m,p);m=p}return o});k(i.last())&&l(m,i.count())}f.exports=h}),null);
__d('BlockTree',['immutable','emptyFunction','findRangesImmutable'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').List,i=c('immutable').Repeat,j=c('immutable').Record,k=c('emptyFunction').thatReturnsTrue,l='-',m={start:null,end:null},n=j(m),o={start:null,end:null,decoratorKey:null,leaves:null},p=j(o),q={generate:function t(u,v,w){var x=v.getLength();if(!x)return h.of(new p({start:0,end:0,decoratorKey:null,leaves:h.of(new n({start:0,end:0}))}));var y=[],z=w?w.getDecorations(v,u):h(i(null,x)),aa=v.getCharacterList();c('findRangesImmutable')(z,s,k,function(ba,ca){y.push(new p({start:ba,end:ca,decoratorKey:z.get(ba),leaves:r(aa.slice(ba,ca).toList(),ba)}))});return h(y)},getFingerprint:function t(u){return u.map(function(v){var w=v.get('decoratorKey'),x=w!==null?w+'.'+(v.get('end')-v.get('start')):'';return ''+x+'.'+v.get('leaves').size}).join(l)}};function r(t,u){var v=[],w=t.map(function(x){return x.getStyle()}).toList();c('findRangesImmutable')(w,s,k,function(x,y){v.push(new n({start:x+u,end:y+u}))});return h(v)}function s(t,u){return t===u}f.exports=q}),null);
__d('CharacterMetadata',['immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').Map,k=c('immutable').OrderedSet,l=c('immutable').Record,m=k(),n={style:m,entity:null},o=l(n);h=babelHelpers.inherits(p,o);i=h&&h.prototype;p.prototype.getStyle=function(){return this.get('style')};p.prototype.getEntity=function(){return this.get('entity')};p.prototype.hasStyle=function(s){return this.getStyle().includes(s)};p.applyStyle=function(s,t){var u=s.set('style',s.getStyle().add(t));return p.create(u)};p.removeStyle=function(s,t){var u=s.set('style',s.getStyle().remove(t));return p.create(u)};p.applyEntity=function(s,t){var u=s.getEntity()===t?s:s.set('entity',t);return p.create(u)};p.create=function(s){if(!s)return q;var t={style:m,entity:null},u=j(t).merge(s),v=r.get(u);if(v)return v;var w=new p(u);r=r.set(u,w);return w};function p(){h.apply(this,arguments)}var q=new p(),r=j([[j(n),q]]);p.EMPTY=q;f.exports=p}),null);
__d('ContentBlock',['immutable','findRangesImmutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').List,k=c('immutable').Map,l=c('immutable').OrderedSet,m=c('immutable').Record,n=l(),o={key:'',type:'unstyled',text:'',characterList:j(),depth:0,data:k()},p=m(o);h=babelHelpers.inherits(q,p);i=h&&h.prototype;q.prototype.getKey=function(){return this.get('key')};q.prototype.getType=function(){return this.get('type')};q.prototype.getText=function(){return this.get('text')};q.prototype.getCharacterList=function(){return this.get('characterList')};q.prototype.getLength=function(){return this.getText().length};q.prototype.getDepth=function(){return this.get('depth')};q.prototype.getData=function(){return this.get('data')};q.prototype.getInlineStyleAt=function(t){var u=this.getCharacterList().get(t);return u?u.getStyle():n};q.prototype.getEntityAt=function(t){var u=this.getCharacterList().get(t);return u?u.getEntity():null};q.prototype.findStyleRanges=function(t,u){c('findRangesImmutable')(this.getCharacterList(),r,t,u)};q.prototype.findEntityRanges=function(t,u){c('findRangesImmutable')(this.getCharacterList(),s,t,u)};function q(){h.apply(this,arguments)}function r(t,u){return t.getStyle()===u.getStyle()}function s(t,u){return t.getEntity()===u.getEntity()}f.exports=q}),null);
__d('SelectionState',['immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').Record,k={anchorKey:'',anchorOffset:0,focusKey:'',focusOffset:0,isBackward:false,hasFocus:false},l=j(k);h=babelHelpers.inherits(m,l);i=h&&h.prototype;m.prototype.serialize=function(){return 'Anchor: '+this.getAnchorKey()+':'+this.getAnchorOffset()+', '+'Focus: '+this.getFocusKey()+':'+this.getFocusOffset()+', '+'Is Backward: '+String(this.getIsBackward())+', '+'Has Focus: '+String(this.getHasFocus())};m.prototype.getAnchorKey=function(){return this.get('anchorKey')};m.prototype.getAnchorOffset=function(){return this.get('anchorOffset')};m.prototype.getFocusKey=function(){return this.get('focusKey')};m.prototype.getFocusOffset=function(){return this.get('focusOffset')};m.prototype.getIsBackward=function(){return this.get('isBackward')};m.prototype.getHasFocus=function(){return this.get('hasFocus')};m.prototype.hasEdgeWithin=function(n,o,p){var q=this.getAnchorKey(),r=this.getFocusKey();if(q===r&&q===n){var s=this.getStartOffset(),t=this.getEndOffset();return o<=t&&s<=p}if(n!==q&&n!==r)return false;var u=n===q?this.getAnchorOffset():this.getFocusOffset();return o<=u&&p>=u};m.prototype.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()};m.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()};m.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()};m.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()};m.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()};m.createEmpty=function(n){return new m({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:false,hasFocus:false})};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d('generateRandomKey',[],(function a(b,c,d,e,f,g){'use strict';var h={},i=Math.pow(2,24);function j(){var k=void 0;while(k===undefined||Object.prototype.hasOwnProperty.call(h,k)||!isNaN(+k))k=Math.floor(Math.random()*i).toString(32);h[k]=true;return k}f.exports=j}),null);
__d('ContentState',['BlockMapBuilder','CharacterMetadata','ContentBlock','DraftEntity','immutable','SelectionState','generateRandomKey','sanitizeDraftText'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').List,k=c('immutable').Record,l=c('immutable').Repeat,m={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null},n=k(m);h=babelHelpers.inherits(o,n);i=h&&h.prototype;o.prototype.getEntityMap=function(){return c('DraftEntity')};o.prototype.getBlockMap=function(){return this.get('blockMap')};o.prototype.getSelectionBefore=function(){return this.get('selectionBefore')};o.prototype.getSelectionAfter=function(){return this.get('selectionAfter')};o.prototype.getBlockForKey=function(p){var q=this.getBlockMap().get(p);return q};o.prototype.getKeyBefore=function(p){return this.getBlockMap().reverse().keySeq().skipUntil(function(q){return q===p}).skip(1).first()};o.prototype.getKeyAfter=function(p){return this.getBlockMap().keySeq().skipUntil(function(q){return q===p}).skip(1).first()};o.prototype.getBlockAfter=function(p){return this.getBlockMap().skipUntil(function(q,r){return r===p}).skip(1).first()};o.prototype.getBlockBefore=function(p){return this.getBlockMap().reverse().skipUntil(function(q,r){return r===p}).skip(1).first()};o.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray()};o.prototype.getFirstBlock=function(){return this.getBlockMap().first()};o.prototype.getLastBlock=function(){return this.getBlockMap().last()};o.prototype.getPlainText=function(p){return this.getBlockMap().map(function(q){return q?q.getText():''}).join(p||'\n')};o.prototype.getLastCreatedEntityKey=function(){return c('DraftEntity').__getLastCreatedEntityKey()};o.prototype.hasText=function(){var p=this.getBlockMap();return p.size>1||p.first().getLength()>0};o.prototype.createEntity=function(p,q,r){c('DraftEntity').__create(p,q,r);return this};o.prototype.mergeEntityData=function(p,q){c('DraftEntity').__mergeData(p,q);return this};o.prototype.replaceEntityData=function(p,q){c('DraftEntity').__replaceData(p,q);return this};o.prototype.addEntity=function(p){c('DraftEntity').__add(p);return this};o.prototype.getEntity=function(p){return c('DraftEntity').__get(p)};o.createFromBlockArray=function(p,q){var r=Array.isArray(p)?p:p.contentBlocks,s=c('BlockMapBuilder').createFromArray(r),t=s.isEmpty()?new (c('SelectionState'))():c('SelectionState').createEmpty(s.first().getKey());return new o({blockMap:s,entityMap:q||c('DraftEntity'),selectionBefore:t,selectionAfter:t})};o.createFromText=function(p){var q=arguments.length<=1||arguments[1]===undefined?/\r\n?|\n/g:arguments[1],r=p.split(q),s=r.map(function(t){t=c('sanitizeDraftText')(t);return new (c('ContentBlock'))({key:c('generateRandomKey')(),text:t,type:'unstyled',characterList:j(l(c('CharacterMetadata').EMPTY,t.length))})});return o.createFromBlockArray(s)};function o(){h.apply(this,arguments)}f.exports=o}),null);
__d('UnicodeBidiService',['invariant','UnicodeBidi','UnicodeBidiDirection','UnicodeBidiGlobalDirection'],(function a(b,c,d,e,f,g,h){'use strict';function i(j){if(!j){j=c('UnicodeBidiGlobalDirection').getDir()}else c('UnicodeBidiDirection').isStrong(j)||h(0);this.$UnicodeBidiService1=j;this.reset()}i.prototype.reset=function(){this.$UnicodeBidiService2=this.$UnicodeBidiService1};i.prototype.getDirection=function(j){this.$UnicodeBidiService2=c('UnicodeBidi').getDirection(j,this.$UnicodeBidiService2);return this.$UnicodeBidiService2};f.exports=i}),null);
__d('EditorBidiService',['immutable','UnicodeBidiService','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').OrderedMap,i,j={getDirectionMap:function k(l,m){if(!i){i=new (c('UnicodeBidiService'))()}else i.reset();var n=l.getBlockMap(),o=n.valueSeq().map(function(q){return c('nullthrows')(i).getDirection(q.getText())}),p=h(n.keySeq().zip(o));if(m!=null&&c('immutable').is(m,p))return m;return p}};f.exports=j}),null);
__d('EditorState',['BlockTree','ContentState','EditorBidiService','immutable','SelectionState'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').OrderedSet,i=c('immutable').Record,j=c('immutable').Stack,k={allowUndo:true,currentContent:null,decorator:null,directionMap:null,forceSelection:false,inCompositionMode:false,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:j(),selection:null,treeMap:null,undoStack:j()},l=i(k);m.createEmpty=function(v){return m.createWithContent(c('ContentState').createFromText(''),v)};m.createWithContent=function(v,w){var x=v.getBlockMap().first().getKey();return m.create({currentContent:v,undoStack:j(),redoStack:j(),decorator:w||null,selection:c('SelectionState').createEmpty(x)})};m.create=function(v){var w=v.currentContent,x=v.decorator,y=babelHelpers['extends']({},v,{treeMap:o(w,x),directionMap:c('EditorBidiService').getDirectionMap(w)});return new m(new l(y))};m.set=function(v,w){var x=v.getImmutable().withMutations(function(y){var z=y.get('decorator'),aa=z;if(w.decorator===null){aa=null}else if(w.decorator)aa=w.decorator;var ba=w.currentContent||v.getCurrentContent();if(aa!==z){var ca=y.get('treeMap'),da;if(aa&&z){da=q(ba,ba.getBlockMap(),ca,aa,z)}else da=o(ba,aa);y.merge({decorator:aa,treeMap:da,nativelyRenderedContent:null});return}var ea=v.getCurrentContent();if(ba!==ea)y.set('treeMap',p(v,ba.getBlockMap(),ba.getEntityMap(),aa));y.merge(w)});return new m(x)};m.prototype.toJS=function(){return this.getImmutable().toJS()};m.prototype.getAllowUndo=function(){return this.getImmutable().get('allowUndo')};m.prototype.getCurrentContent=function(){return this.getImmutable().get('currentContent')};m.prototype.getUndoStack=function(){return this.getImmutable().get('undoStack')};m.prototype.getRedoStack=function(){return this.getImmutable().get('redoStack')};m.prototype.getSelection=function(){return this.getImmutable().get('selection')};m.prototype.getDecorator=function(){return this.getImmutable().get('decorator')};m.prototype.isInCompositionMode=function(){return this.getImmutable().get('inCompositionMode')};m.prototype.mustForceSelection=function(){return this.getImmutable().get('forceSelection')};m.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get('nativelyRenderedContent')};m.prototype.getLastChangeType=function(){return this.getImmutable().get('lastChangeType')};m.prototype.getInlineStyleOverride=function(){return this.getImmutable().get('inlineStyleOverride')};m.setInlineStyleOverride=function(v,w){return m.set(v,{inlineStyleOverride:w})};m.prototype.getCurrentInlineStyle=function(){var v=this.getInlineStyleOverride();if(v!=null)return v;var w=this.getCurrentContent(),x=this.getSelection();if(x.isCollapsed())return s(w,x);return t(w,x)};m.prototype.getBlockTree=function(v){return this.getImmutable().getIn(['treeMap',v])};m.prototype.isSelectionAtStartOfContent=function(){var v=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(v,0,0)};m.prototype.isSelectionAtEndOfContent=function(){var v=this.getCurrentContent(),w=v.getBlockMap(),x=w.last(),y=x.getLength();return this.getSelection().hasEdgeWithin(x.getKey(),y,y)};m.prototype.getDirectionMap=function(){return this.getImmutable().get('directionMap')};m.acceptSelection=function(v,w){return n(v,w,false)};m.forceSelection=function(v,w){if(!w.getHasFocus())w=w.set('hasFocus',true);return n(v,w,true)};m.moveSelectionToEnd=function(v){var w=v.getCurrentContent(),x=w.getLastBlock(),y=x.getKey(),z=x.getLength();return m.acceptSelection(v,new (c('SelectionState'))({anchorKey:y,anchorOffset:z,focusKey:y,focusOffset:z,isBackward:false}))};m.moveFocusToEnd=function(v){var w=m.moveSelectionToEnd(v);return m.forceSelection(w,w.getSelection())};m.push=function(v,w,x){if(v.getCurrentContent()===w)return v;var y=x!=='insert-characters',z=c('EditorBidiService').getDirectionMap(w,v.getDirectionMap());if(!v.getAllowUndo())return m.set(v,{currentContent:w,directionMap:z,lastChangeType:x,selection:w.getSelectionAfter(),forceSelection:y,inlineStyleOverride:null});var aa=v.getSelection(),ba=v.getCurrentContent(),ca=v.getUndoStack(),da=w;if(aa!==ba.getSelectionAfter()||r(v,x)){ca=ca.push(ba);da=da.set('selectionBefore',aa)}else if(x==='insert-characters'||x==='backspace-character'||x==='delete-character')da=da.set('selectionBefore',ba.getSelectionBefore());var ea=v.getInlineStyleOverride(),fa=['adjust-depth','change-block-type','split-block'];if(fa.indexOf(x)===-1)ea=null;var ga={currentContent:da,directionMap:z,undoStack:ca,redoStack:j(),lastChangeType:x,selection:w.getSelectionAfter(),forceSelection:y,inlineStyleOverride:ea};return m.set(v,ga)};m.undo=function(v){if(!v.getAllowUndo())return v;var w=v.getUndoStack(),x=w.peek();if(!x)return v;var y=v.getCurrentContent(),z=c('EditorBidiService').getDirectionMap(x,v.getDirectionMap());return m.set(v,{currentContent:x,directionMap:z,undoStack:w.shift(),redoStack:v.getRedoStack().push(y),forceSelection:true,inlineStyleOverride:null,lastChangeType:'undo',nativelyRenderedContent:null,selection:y.getSelectionBefore()})};m.redo=function(v){if(!v.getAllowUndo())return v;var w=v.getRedoStack(),x=w.peek();if(!x)return v;var y=v.getCurrentContent(),z=c('EditorBidiService').getDirectionMap(x,v.getDirectionMap());return m.set(v,{currentContent:x,directionMap:z,undoStack:v.getUndoStack().push(y),redoStack:w.shift(),forceSelection:true,inlineStyleOverride:null,lastChangeType:'redo',nativelyRenderedContent:null,selection:x.getSelectionAfter()})};function m(v){this.$EditorState1=v}m.prototype.getImmutable=function(){return this.$EditorState1};function n(v,w,x){return m.set(v,{selection:w,forceSelection:x,nativelyRenderedContent:null,inlineStyleOverride:null})}function o(v,w){return v.getBlockMap().map(function(x){return c('BlockTree').generate(v,x,w)}).toOrderedMap()}function p(v,w,x,y){var z=v.getCurrentContent().set('entityMap',x),aa=z.getBlockMap(),ba=v.getImmutable().get('treeMap');return ba.merge(w.toSeq().filter(function(ca,da){return ca!==aa.get(da)}).map(function(ca){return c('BlockTree').generate(z,ca,y)}))}function q(v,w,x,y,z){return x.merge(w.toSeq().filter(function(aa){return y.getDecorations(aa,v)!==z.getDecorations(aa,v)}).map(function(aa){return c('BlockTree').generate(v,aa,y)}))}function r(v,w){var x=v.getLastChangeType();return w!==x||w!=='insert-characters'&&w!=='backspace-character'&&w!=='delete-character'}function s(v,w){var x=w.getStartKey(),y=w.getStartOffset(),z=v.getBlockForKey(x);if(y>0)return z.getInlineStyleAt(y-1);if(z.getLength())return z.getInlineStyleAt(0);return u(v,x)}function t(v,w){var x=w.getStartKey(),y=w.getStartOffset(),z=v.getBlockForKey(x);if(y<z.getLength())return z.getInlineStyleAt(y);if(y>0)return z.getInlineStyleAt(y-1);return u(v,x)}function u(v,w){var x=v.getBlockBefore(w),y;while(x){y=x.getLength();if(y)return x.getInlineStyleAt(y-1);x=v.getBlockBefore(x.getKey())}return h()}f.exports=m}),null);