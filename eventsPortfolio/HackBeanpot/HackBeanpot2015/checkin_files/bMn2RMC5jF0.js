if (self.CavalryLogger) { CavalryLogger.start_js(["9Q\/30"]); }

__d('FeedbackLikeActions',['invariant','GraphQLMutationAction','GraphQLMutationQueryCreator','RelayClassic','fromGraphQL'],(function a(b,c,d,e,f,g,h){'use strict';function i(k,l,m){var n={id:k,does_viewer_like:m};if(l.likers&&l.likers.count!=null){var o=m?1:-1;n.likers={count:l.likers.count+o}}var p={},q=m?'feedback_like':'feedback_unlike';p[q]={feedback:n};return p}var j={handleLikeChange:function k(l,m){var n=c('fromGraphQL').Query(function(t){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:c('RelayClassic').QL.__var(t)}],children:[{directives:[{kind:'Directive',name:'fixme_fat_interface',args:[]}],fieldName:'does_viewer_like',kind:'Field',metadata:{},type:'Boolean'},{children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'}],directives:[{kind:'Directive',name:'fixme_fat_interface',args:[]}],fieldName:'likers',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'LikersOfContentConnection'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],fieldName:'node',kind:'Query',metadata:{isAbstract:true,identifyingArgName:'id',identifyingArgType:'ID!'},name:'FeedbackLikeActions',type:'Node'}}(l)),o=c('RelayClassic').Store.readQuery(n)[0];o||h(0);if(o.does_viewer_like===m)return;var p=new (c('GraphQLMutationAction'))('feedback_like_'+l),q=i(l,o,m);p.runOptimisticAction(q);var r,s;if(m){r=c('GraphQLMutationQueryCreator').createQuery('feedback_like',{feedback:l});s=function(t){return {calls:[{kind:'Call',metadata:{},name:'feedback_like',value:{kind:'CallVariable',callVariableName:'input'}}],children:[].concat.apply([],[{fieldName:'client_mutation_id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayClassic').QL.__frag(t)]),kind:'Mutation',metadata:{inputType:'FeedbackLikeData!'},name:'FeedbackLikeActions',responseType:'FeedbackLikeResponsePayload'}}(r)}else{r=c('GraphQLMutationQueryCreator').createQuery('feedback_unlike',{feedback:l});s=function(t){return {calls:[{kind:'Call',metadata:{},name:'feedback_unlike',value:{kind:'CallVariable',callVariableName:'input'}}],children:[].concat.apply([],[{fieldName:'client_mutation_id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayClassic').QL.__frag(t)]),kind:'Mutation',metadata:{inputType:'FeedbackUnlikeData!'},name:'FeedbackLikeActions',responseType:'FeedbackUnlikeResponsePayload'}}(r)}p.runServerAction(s,{feedback_id:l})}};f.exports=j}),null);
__d("PagePhotosTabAddPhotosGridItem_album.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagePhotosTabAddPhotosGridItem_album",selections:[{kind:"ScalarField",alias:null,args:null,name:"can_upload",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],type:"Album"};f.exports=h}),null);
__d("PagePhotosTabDeletePhotoInlineActions_photo.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagePhotosTabDeletePhotoInlineActions_photo",selections:[{kind:"ScalarField",alias:null,args:null,name:"can_viewer_delete",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],type:"Photo"};f.exports=h}),null);
__d("PagePhotosTabEditAlbumPhotoInlineActions_photo.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagePhotosTabEditAlbumPhotoInlineActions_photo",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"Album",name:"album",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"album_type",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"can_viewer_edit",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"owner",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null}],type:"Photo"};f.exports=h}),null);
__d("PagePhotosTabPhotoGridItem_photo.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagePhotosTabPhotoGridItem_photo",selections:[{kind:"ScalarField",alias:null,args:null,name:"can_viewer_edit",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"height",value:200,type:"Int"},{kind:"Literal",name:"sizing",value:"cover-fill-cropped",type:"String"},{kind:"Literal",name:"width",value:200,type:"Int"}],concreteType:"Image",name:"image",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:"image{\"height\":200,\"sizing\":\"cover-fill-cropped\",\"width\":200}"},{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null},{kind:"FragmentSpread",name:"PagePhotosTabEditAlbumPhotoInlineActions_photo",args:null},{kind:"FragmentSpread",name:"PagePhotosTabDeletePhotoInlineActions_photo",args:null},{kind:"FragmentSpread",name:"PagePhotosTabPhotoInlineActions_photo",args:null}],type:"Photo"};f.exports=h}),null);
__d("PagePhotosTabPhotoInlineActions_photo.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PagePhotosTabPhotoInlineActions_photo",selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"Album",name:"album",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"name",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"Feedback",name:"feedback",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"can_viewer_comment",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"can_viewer_like",storageKey:null},{kind:"ScalarField",alias:null,args:[{kind:"Literal",name:"use_default_actor",value:false,type:"Boolean"}],name:"does_viewer_like",storageKey:"does_viewer_like{\"use_default_actor\":false}"},{kind:"LinkedField",alias:null,args:null,concreteType:"LikersOfContentConnection",name:"likers",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"count",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"CommentsConnection",name:"comments",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"count",storageKey:null}],storageKey:null}],storageKey:null}],type:"Photo"};f.exports=h}),null);
__d('Droppable',['Collection','Drag','Draggable','Vector','emptyFunction'],(function a(b,c,d,e,f,g){function h(i){'use strict';if(!i)throw new Error('Element should be a DOM node');if(!(this instanceof h)){if(i instanceof Array){var j=[];i.forEach(function(k){j.push(new h(k))});return new (c('Collection'))(h,j)}else return new h(i);}else{this.data={};this.dom=i;this.namespace=null}}h.prototype.destroy=function(){'use strict';if(this.namespace)c('Drag').removeDroppable(this.namespace,this);this.data=this.dom=null};h.prototype.setNamespace=function(i){'use strict';if(this.namespace)c('Drag').removeDroppable(this.namespace,this);this.namespace=i;c('Drag').addDroppable(i,this);return this};h.prototype.setZIndex=function(i){'use strict';this.zIndex=i;return this};h.prototype.hasPointMovedHorizontally=function(i){'use strict';var j=c('Vector').getElementPosition(this.dom);return j.x<=i.x&&this.dom.offsetWidth+j.x>i.x};h.prototype.hasPointMovedVertically=function(i){'use strict';var j=c('Vector').getElementPosition(this.dom);return j.y<=i.y&&this.dom.offsetHeight+j.y>i.y};h.prototype.hasPointMovedInside=function(i){'use strict';return this.hasPointMovedHorizontally(i)&&this.hasPointMovedVertically(i)};h.prototype.setDragOverHandler=function(i){'use strict';this.ondragover=i;return this};h.prototype.setDragOutHandler=function(i){'use strict';this.ondragout=i;return this};h.prototype.setDragOverVectically=function(){'use strict';this.isDraggedOver=h.prototype.hasPointMovedVertically;return this};h.prototype.setDragOverHorizontally=function(){'use strict';this.isDraggedOver=h.prototype.hasPointMovedHorizontally;return this};h.prototype.setDragMoveHandler=function(i){'use strict';this.ondragmove=i;return this};h.prototype.setDropHandler=function(i){'use strict';this.ondrop=i;return this};h.prototype.zIndex=0;h.prototype.isDraggedOver=h.prototype.hasPointMovedInside;h.prototype.ondragover=c('emptyFunction');h.prototype.ondragout=c('emptyFunction');h.prototype.ondragmove=c('emptyFunction');h.prototype.ondrop=c('emptyFunction');h.prototype.getDOM=c('Draggable').prototype.getDOM;h.prototype.setKey=c('Draggable').prototype.setKey;h.prototype.getKey=c('Draggable').prototype.getKey;f.exports=h}),null);
__d('SortableGroup',['Arbiter','CSS','DOM','Draggable','Droppable','Style','Vector','emptyFunction','removeFromArray'],(function a(b,c,d,e,f,g){function h(){'use strict';this.namespace='sortable'+ ++h.instanceCount;this.draggables={};this.droppables={};this.sortables={};this.linkedGroups=[];this.linkedGroups.onbeforelinkjump=c('emptyFunction');this.linkedGroups.onlinkjump=c('emptyFunction');this.rootNode=null;this.boundingBox=null;this.neverEmpty=false;this.hasEmptyMessage=false;this.isDroppable=true;this.isDraggable=true;this.useScroller=true;this.dragOverCriteria='inside';this.requireSameParent=true;this.previousIndexList=[];this.anchor=null;this.disabled=false;this.autoWidth=false;this.placeholderWidth=false;this.placeholderHeight=false}h.prototype.addEmptyMessage=function(i,j){'use strict';var k='placeholder';if(i.parentNode!=j)c('DOM').appendContent(j,i);this.emptyMessage=i;this._initializeAdded(k,i);this.hasEmptyMessage=true;this.sortables[k]=i;this.droppables[k]=new (c('Droppable'))(i).setNamespace(this.namespace).setDragOverHandler(this._dragOverHandlerShim.bind(this,k));return this};h.prototype.setAutoWidth=function(i){'use strict';this.autoWidth=i;return this};h.prototype.setPlaceholderWidth=function(i){'use strict';this.placeholderWidth=i;return this};h.prototype.setPlaceholderHeight=function(i){'use strict';this.placeholderHeight=i;return this};h.prototype.setUseScroller=function(i){'use strict';this.useScroller=i;return this};h.prototype.setDragOverHorizontally=function(){'use strict';this.dragOverCriteria='horizontal';return this};h.prototype.setDragOverVertically=function(){'use strict';this.dragOverCriteria='vertical';return this};h.prototype.removeEmptyMessage=function(){'use strict';if(this.emptyMessage)c('DOM').remove(this.emptyMessage);this.hasEmptyMessage=false;this.removeSortable('placeholder');return this};h.prototype.addSortable=function(i,j,k,l){'use strict';this._initializeAdded(i,j);this.sortables[i]=j;this.draggables[i]=new (c('Draggable'))(j).setNamespace(this.namespace).setGutter(this.gutter).setUseAbsolute(true).setUseScroller(this.useScroller).setGrabHandler(this.grabHandler.bind(this,i)).setDropHandler(this.dropHandler.bind(this,i,l)).setKey('key',i).setBoundingBox(this.boundingBox);if(k)this.draggables[i].addHandle(k);this.droppables[i]=new (c('Droppable'))(j).setNamespace(this.namespace).setDragOverHandler(this._dragOverHandlerShim.bind(this,i));if(this.dragOverCriteria==='horizontal'){this.droppables[i].setDragOverHorizontally()}else if(this.dragOverCriteria==='vertical')this.droppables[i].setDragOverVectically();return this};h.prototype.destroy=function(){'use strict';for(var i in this.droppables)this.droppables[i].destroy();for(var j in this.draggables)this.draggables[j].destroy();this.droppables=this.draggables=this.rootNode=null;c('removeFromArray')(this.linkedGroups,this);for(var k=0;k<this.linkedGroups.length;k++)this.linkedGroups[k].linkedGroups=this.linkedGroups;};h.prototype.dragOverHandler=function(i,j){'use strict';if(!this.isDroppable&&!this.anchor)return;var k=false;if(!(j in this.draggables)){this.linkedGroups.onbeforelinkjump.call(this,j);if(!this.migrateLinkedSortable(j))throw new Error('Draggable dropped onto a foreign droppable!');k=true}var l=true,m=this.getSortables(),n=this.sortables[j],o=this.sortables[i];if(!this.anchor){var p=m.length;for(var q=0;q<p;q++)if(m[q]==o){break}else if(m[q]==n){l=false;break}}else o=this.anchor;this.onbeforedragover(n,o);var r=this.linkedGroups.placeholder;this.insertPlaceholder(r,o,l||this.anchor);r.parentNode.insertBefore(n,r);this.ondragover(n,o,j,i);if(k)this.linkedGroups.onlinkjump.call(this,j);};h.prototype.dropHandler=function(i,j){'use strict';if(this._checkLastRemaining()){this.draggables[i].resetPosition();return}var k=this.linkedGroups.placeholder;c('CSS').removeClass(this.sortables[i],'drag');this.draggables[i].resetPosition();k.parentNode.insertBefore(this.sortables[i],k);k.parentNode.removeChild(k);for(var l=0;l<this.linkedGroups.length;l++)if(this.linkedGroups[l].anchor)delete this.linkedGroups[l].anchor;this.ondropcallback(i,this.sortables[i]);this.onorderchange();if(this.previousIndexList.length===0)this.previousIndexList=Object.keys(this.sortables);var m=this.previousIndexList.indexOf(i),n=this.getOrder().indexOf(i);c('Arbiter').inform('drag-and-drop/'+j,{previousIndex:m,currentIndex:n});this.previousIndexList=this.getOrder()};h.prototype.getOrder=function(){'use strict';var i=[],j=this.getSortables();for(var k=0;k<j.length;k++)for(var l in this.sortables)if(this.sortables[l]==j[k]){i.push(l);break}return i};h.prototype.getSortables=function(){'use strict';return this.rootNode?this.rootNode.childNodes:[]};h.prototype.grabHandler=function(i){'use strict';if(this.disabled||this._checkLastRemaining()||!this.isDraggable){this.draggables[i].killDrag();return}this.onbeforegrabcallback(this.sortables[i],i);var j=this.linkedGroups.placeholder,k=this.sortables[i];c('CSS').setClass(j,k.className);c('CSS').addClass(j,'droppable_placeholder');c('CSS').addClass(k,'drag');c('Vector').getElementDimensions(k).setElementDimensions(j);if(this.autoWidth){c('Style').set(j,'width','auto')}else if(this.placeholderWidth)c('Style').set(j,'width',this.placeholderWidth+'px');if(this.placeholderHeight)c('Style').set(j,'height',this.placeholderHeight+'px');k.parentNode.insertBefore(j,k);this.ongrabcallback(this.sortables[i],i);if(!this.isDroppable){this.anchor=k.nextSibling;if(!this.anchor){this.anchor=c('DOM').create('div');k.parentNode.appendChild(this.anchor)}}};h.prototype.insertPlaceholder=function(i,j,k){'use strict';if(k){c('DOM').insertBefore(j,i)}else c('DOM').insertAfter(j,i);};h.prototype.keyExists=function(i){'use strict';return this.sortables[i]};h.prototype.link=function(i){'use strict';i.linkedGroups=this.linkedGroups;if(!this.linkedGroups.length)this.linkedGroups.push(this);this.linkedGroups.push(i);for(var j=0;j<this.linkedGroups.length;j++)if(this.linkedGroups[j].namespace!=this.namespace){this.linkedGroups[j].namespace=this.namespace;for(var k in this.linkedGroups[j].droppables){this.linkedGroups[j].droppables[k].setNamespace(this.namespace);var l=this.linkedGroups[j].draggables[k];l&&l.setNamespace(this.namespace)}}return this};h.prototype.migrateLinkedSortable=function(i){'use strict';for(var j=0;j<this.linkedGroups.length;j++)if(i in this.linkedGroups[j].draggables){this.sortables[i]=this.linkedGroups[j].sortables[i];this.draggables[i]=this.linkedGroups[j].draggables[i];this.draggables[i].setGrabHandler(this.grabHandler.bind(this,i)).setDropHandler(this.dropHandler.bind(this,i));this.droppables[i]=this.linkedGroups[j].droppables[i];this.droppables[i].setDragOverHandler(this._dragOverHandlerShim.bind(this,i));delete this.linkedGroups[j].sortables[i];delete this.linkedGroups[j].draggables[i];delete this.linkedGroups[j].droppables[i];return true}return false};h.prototype.removeSortable=function(i){'use strict';if(i in this.sortables){if(i in this.draggables)this.draggables[i].destroy();if(i in this.droppables)this.droppables[i].destroy();delete this.draggables[i];delete this.droppables[i];delete this.sortables[i]}};h.prototype.removeAllSortables=function(){'use strict';for(var i in this.sortables)this.removeSortable(i);};h.prototype.setDisabled=function(i){'use strict';this.disabled=i;return this};h.prototype.forceDrop=function(i){'use strict';if(i in this.sortables)this.draggables[i].forceDrop();};h.prototype.killDrag=function(i){'use strict';if(i in this.sortables)this.draggables[i].killDrag();};h.prototype.setBeforeGrabCallback=function(i){'use strict';this.onbeforegrabcallback=i;return this};h.prototype.setBoundingBox=function(i){'use strict';this.boundingBox=i;for(var j in this.draggables)this.draggables[j].setBoundingBox(this.boundingBox);return this};h.prototype.setBeforeDragOverCallback=function(i){'use strict';this.onbeforedragover=i;return this};h.prototype.setDragOverCallback=function(i){'use strict';this.ondragover=i;return this};h.prototype.setDropCallback=function(i){'use strict';this.ondropcallback=i;return this};h.prototype.setDroppable=function(i){'use strict';this.isDroppable=i;return this};h.prototype.setDraggable=function(i){'use strict';this.isDraggable=i;return this};h.prototype.setGrabCallback=function(i){'use strict';this.ongrabcallback=i;return this};h.prototype.setBeforeLinkJumpHandler=function(i){'use strict';this.linkedGroups.onbeforelinkjump=i;return this};h.prototype.setInsertPlaceholderHandler=function(i){'use strict';this.insertPlaceholder=i};h.prototype.setLinkJumpHandler=function(i){'use strict';this.linkedGroups.onlinkjump=i;return this};h.prototype.setNeverEmpty=function(i){'use strict';this.neverEmpty=i};h.prototype.setOrderChangeHandler=function(i){'use strict';this.onorderchange=i;return this};h.prototype.setRequireSameParent=function(i,j){'use strict';this.requireSameParent=j};h.prototype.setSortablesGetter=function(i){'use strict';this.getSortables=i};h.prototype._checkLastRemaining=function(i){'use strict';var j=this.hasEmptyMessage?2:1;return this.neverEmpty&&this.getSortables().length==j};h.prototype._dragOverHandlerShim=function(i,j){'use strict';this.dragOverHandler(i,j.getKey('key'))};h.prototype._initializeAdded=function(i,j){'use strict';if(this.rootNode===null){this.rootNode=j.parentNode;if(!this.linkedGroups.placeholder)this.linkedGroups.placeholder=c('DOM').create(j.tagName,{className:'dragPlaceholder',style:{padding:'0'}});}else if(this.requireSameParent&&this.rootNode!=j.parentNode)throw new Error('All sortables of a collection must share the same parentNode');if(i in this.draggables)throw new Error('All sortables must have a unique key');};h.instanceCount=0;Object.assign(h.prototype,{gutter:15,onbeforegrabcallback:c('emptyFunction'),onbeforedragover:c('emptyFunction'),ondragover:c('emptyFunction'),ondropcallback:c('emptyFunction'),ongrabcallback:c('emptyFunction'),onorderchange:c('emptyFunction')});f.exports=b.SortableGroup||h}),null);
__d("PhotosUploadWaterfallApplications",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SIMPLE:"simple",HTML5:"html5",MULTI:"multi",COMPOSER:"composer",API:"api",ARCHIVE:"archive",MESSENGER:"messenger",CHAT:"chat",ATTACH_PHOTOS:"attach_photos",OMNIPICKER:"web_omnipicker"})}),null);
__d("PhotosUploaderConst",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({REF_ALBUM:"album",REF_EMPTY_ALBUM:"album_empty",REF_ALBUMS:"albums",REF_GROUP_ALBUMS:"group_albums",REF_EMPTY_ALBUMS:"albums_empty",REF_CENTER_STAGE:"center_stage",REF_COMPOSER:"composer",REF_DASHBOARD:"dashboard",REF_FBX_COMPOSER:"fbx_composer",REF_FBX_PROFILE:"fbx_profile",REF_FEED_TEST:"feed_test",REF_NETEGO:"netego",REF_PLUGIN:"plugin",REF_PRO_COMPOSER:"pro_composer",REF_GROUPS_COMPOSER:"groups_composer",REF_PAGES_COMPOSER:"pages_composer",REF_PROFILE:"profile",REF_UNKNOWN:"unknown_FIXME",REF_MAP:"map",REF_EDIT_ALBUM_HEADER:"edit_album_header",REF_UPLOAD_OVERLAY:"upload_overlay",REF_DRAFT_RECOVERY:"draft_recovery_dialog",REF_REACT_COMPOSER:"react_composer",REF_PORTFOLIO_PHOTOS:"portfolio_photos",REF_PORTFOLIO_PHOTOS_STREAM:"portfolio_photos_stream",REF_PORTFOLIO_STREAM_ELEMENT:"portfolio_photos_stream_element",REF_PORTFOLIO_ALBUMS:"portfolio_photos_albums",REF_PORTFOLIO_ALBUMS_ADD_MORE:"portfolio_photos_albums_add_more",REF_PORTFOLIO_ALBUM_PERMALINK:"portfolio_photos_albums",REF_PORTFOLIO_EMPTY_ALBUMS:"portfolio_photos_albums_empty",REF_PORTFOLIO_SET:"portfolio_set",REF_ALBUM_TILE:"album_tile",REF_MEDLEY:"medley",REF_ARCHIVE:"archive",REF_M_NUX_WIZARD:"m_nux_wizard",REF_M_UPLOAD_PIC:"m_upload_pic",REF_VAULT_NOTIFICATION:"vault_notification",REF_INTERN_EXPLORER:"intern_explorer",PARAM_RETURN_URI:"return_uri",PARAM_RETURN_URI_ERROR:"return_uri_error",RESOLUTION_STANDARD:"standard",RESOLUTION_HIGH:"high"})}),null);
__d("XAlbumUploadOverlayController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/album\/uploader\/",{application:{type:"String"},xapplication:{type:"String"},owner_id:{type:"Int"},session_id:{type:"String"},qn:{type:"String"},ref:{type:"String"},privacy_row:{type:"String"},set_token:{type:"String"},target_id:{type:"Int"},album_id:{type:"Int"},num_selected:{type:"Int"}})}),null);
__d('PagePhotosTabAddPhotosGridItem.react',['ix','cx','fbt','HTML5FilePicker','Image.react','Link.react','PhotosUploaderConst','PhotosUploadWaterfallApplications','PUWApplications','React','ReactDOM','RelayCompat','UploadSession','WaterfallIDGenerator','XAlbumUploadOverlayController','fbglyph','PagePhotosTabAddPhotosGridItem_album.graphql'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('RelayCompat').createFragmentContainer,n=c('RelayCompat').graphql,o='photos_tab_add_album_new_photos_session_id';k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;p.prototype.componentDidMount=function(){var q=c('ReactDOM').findDOMNode(this.refs.addPhotosAlbumConfirmButtonID);if(q!==null){var r=new (c('HTML5FilePicker'))(q,{accept:'image/*',multiple:true,qn:o});c('UploadSession').addFilePickerToSession(o,r)}};p.prototype.render=function(){if(!this.props.album.can_upload)return null;var q=c('XAlbumUploadOverlayController').getURIBuilder().setInt('owner_id',this.props.pageID).setInt('album_id',this.props.album.id).setString('application',c('PhotosUploadWaterfallApplications').HTML5).setString('xapplication',c('PUWApplications').WEB_HTML5).setString('session_id',o).setString('qn',c('WaterfallIDGenerator').generate()).setString('ref',c('PhotosUploaderConst').REF_PORTFOLIO_PHOTOS).getURI();return c('React').createElement('div',{className:"_2eea"},c('React').createElement('div',{className:"_5hs0"},c('React').createElement('div',{className:"_fh4"},c('React').createElement(c('Image.react'),{className:"_1a2o",height:24,src:h("116961"),width:24}),c('React').createElement('span',{className:"_1a2p _1a2o _2pir"},j._("Add Photos"))),c('React').createElement(c('Link.react'),{ajaxify:q,className:"_4f7b",href:'#',ref:'addPhotosAlbumConfirmButtonID',rel:'async-post'})))};function p(){k.apply(this,arguments)}f.exports=m(p,{album:{modern:function q(){return c('PagePhotosTabAddPhotosGridItem_album.graphql')},classic:function q(r){return {kind:'FragmentDefinition',argumentDefinitions:[],node:function(){return {children:[{fieldName:'can_upload',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'}],id:r.__id(),kind:'Fragment',metadata:{},name:'PagePhotosTabAddPhotosGridItem_album',type:'Album'}}()}}}})}),null);
__d('PagePhotosTabAlbumPhotosReorder',['csx','AsyncRequest','AsyncResponse','DOMQuery','SortableGroup'],(function a(b,c,d,e,f,g,h){var i={createSortableGroup:function j(k,l,m){var n=new (c('SortableGroup'))().setOrderChangeHandler(function(){new (c('AsyncRequest'))().setURI('/ajax/photos/reorder.php').setData({album_fbid:l,order:n.getOrder(),owner:k}).setErrorHandler(function(o){c('AsyncResponse').defaultErrorHandler(o)}).send()});c('DOMQuery').scry(m,"._4zc-").forEach(function(o){n.addSortable(o.getAttribute('data-token'),o)});n.setPlaceholderWidth(205);n.setPlaceholderHeight(201)}};f.exports=i}),null);
__d('XEditablePhotoRemoveDialog.react',['cx','fbt','LayerHideOnEscape','React','XUIButton.react','XUICloseButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.onHide=function(){this.props.onCancel()}.bind(this),this.onCancel=function(){this.props.onCancel()}.bind(this),o}m.prototype.componentDidMount=function(){'use strict';this.refs.dialog.layer.subscribe('hide',this.onHide)};m.prototype.render=function(){'use strict';return c('React').createElement(c('XUIDialog.react'),{ref:'dialog',shown:this.props.shown,width:500,layerHideOnBlur:false,behaviors:{LayerHideOnEscape:c('LayerHideOnEscape')},key:'dialog'},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},i._("Delete Photo"),c('React').createElement(c('XUICloseButton.react'),{className:"_51-t",label:i._("Close"),onClick:this.onCancel})),c('React').createElement(c('XUIDialogBody.react'),null,i._("Are you sure you want to delete this photo?")),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIButton.react'),{onClick:this.onCancel,label:i._("Cancel")}),c('React').createElement(c('XUIButton.react'),{use:'confirm',onClick:this.props.onConfirm,label:i._("OK")})))};m.propTypes={shown:l.bool.isRequired,onConfirm:l.func.isRequired,onCancel:l.func.isRequired};f.exports=m}),null);
__d('PagePhotosTabDeletePhotoInlineActions.react',['cx','fbt','AsyncRequest','AsyncResponse','DOM','React','ReactDOM','XEditablePhotoRemoveDialog.react','XUICloseButton.react','RelayCompat','PagePhotosTabDeletePhotoInlineActions_photo.graphql'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('RelayCompat').createFragmentContainer,m=c('RelayCompat').graphql;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.state={removePhotoConfirmationDialogShown:false}}n.prototype.render=function(){if(!this.props.photo.can_viewer_delete)return null;return c('React').createElement('div',{className:"_28ue"},c('React').createElement('div',{className:"_3t_i"},c('React').createElement('div',{className:"_3-8_ _3-8w _28uf rfloat"},this.$PagePhotosTabDeletePhotoInlineActions1())),this.$PagePhotosTabDeletePhotoInlineActions2())};n.prototype.$PagePhotosTabDeletePhotoInlineActions1=function(){return c('React').createElement(c('XUICloseButton.react'),{className:"_3-8h",onClick:function(){return this.setState({removePhotoConfirmationDialogShown:true})}.bind(this),shade:'light',size:'medium',tooltip:i._("Delete Photo")})};n.prototype.$PagePhotosTabDeletePhotoInlineActions2=function(){if(!this.state.removePhotoConfirmationDialogShown)return null;return c('React').createElement(c('XEditablePhotoRemoveDialog.react'),{onCancel:function(){return this.setState({removePhotoConfirmationDialogShown:false})}.bind(this),onConfirm:function(){return this.onRemove()}.bind(this),shown:true})};n.prototype.onRemove=function(){var o={confirmed:true,fbid:this.props.photo.id};new (c('AsyncRequest'))().setData(o).setErrorHandler(function(p){c('AsyncResponse').defaultErrorHandler(p)}).setHandler(function(p){var q=c('ReactDOM').findDOMNode(this);if(q&&q instanceof Element)c('DOM').remove(q.parentNode);}.bind(this)).setInitialHandler(function(){this.setState({removePhotoConfirmationDialogShown:false})}.bind(this)).setURI('/ajax/photos/photo/delete/dialog.php').send()};f.exports=l(n,{photo:{modern:function o(){return c('PagePhotosTabDeletePhotoInlineActions_photo.graphql')},classic:function o(p){return {kind:'FragmentDefinition',argumentDefinitions:[],node:function(){return {children:[{fieldName:'can_viewer_delete',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'}],id:p.__id(),kind:'Fragment',metadata:{},name:'PagePhotosTabDeletePhotoInlineActions_photo',type:'Photo'}}()}}}})}),null);
__d("XPagesCoverPhotoPreviewAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pages\/profile\/cover_photo_preview\/",{page_id:{type:"FBID",required:true},photo_id:{type:"FBID",required:true}})}),null);
__d('PagePhotosTabEditAlbumPhotoInlineActions.react',['ix','cx','fbt','AsyncRequest','AsyncResponse','CSS','DOM','Image.react','MenuSeparator.react','PopoverMenu.react','ProfilePicCropViewerInit','React','ReactDOM','XEditablePhotoRemoveDialog.react','XPagesCoverPhotoPreviewAsyncController','ReactXUIMenu','fbglyph','RelayCompat','PagePhotosTabEditAlbumPhotoInlineActions_photo.graphql'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('ReactXUIMenu').Item,n=c('RelayCompat').createFragmentContainer,o=c('RelayCompat').graphql;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(q){l.constructor.call(this,q);this.state={showPhotoDeletionConfirmationDialog:false}}p.prototype.render=function(){if(!this.props.photo.can_viewer_edit)return null;return c('React').createElement('div',{className:"_28ue"},c('React').createElement('div',{className:"_3t_i",ref:'inlineEditActionsRoot'},c('React').createElement(c('PopoverMenu.react'),{alignh:'right',className:"rfloat",menu:this.$PagePhotosTabEditAlbumPhotoInlineActions1(),onHide:function(){return this.$PagePhotosTabEditAlbumPhotoInlineActions2()}.bind(this),onShow:function(){return this.$PagePhotosTabEditAlbumPhotoInlineActions3()}.bind(this)},c('React').createElement('div',{className:"_28uf _3-8_ _3-8w rfloat"},this.$PagePhotosTabEditAlbumPhotoInlineActions4()))),this.$PagePhotosTabEditAlbumPhotoInlineActions5())};p.prototype.$PagePhotosTabEditAlbumPhotoInlineActions4=function(){var q=j._("Edit or Remove");return c('React').createElement('button',{className:"_i6h _3-8h",'data-hover':'tooltip','data-tooltip-alignh':'center','data-tooltip-content':q},c('React').createElement(c('Image.react'),{src:h("115340")}))};p.prototype.$PagePhotosTabEditAlbumPhotoInlineActions2=function(){var q=c('ReactDOM').findDOMNode(this.refs.inlineEditActionsRoot);if(q instanceof Element)c('CSS').removeClass(q,"_3t_j");};p.prototype.$PagePhotosTabEditAlbumPhotoInlineActions3=function(){var q=c('ReactDOM').findDOMNode(this.refs.inlineEditActionsRoot);if(q instanceof Element)c('CSS').addClass(q,"_3t_j");};p.prototype.$PagePhotosTabEditAlbumPhotoInlineActions1=function(){var q=this.props.photo,r=q.album,s=q.id,t=q.owner,u=c('XPagesCoverPhotoPreviewAsyncController').getURIBuilder().setFBID('page_id',t.id).setFBID('photo_id',s).getURI(),v=r.album_type==='COVER'||r.album_type==='PROFILE'?null:c('React').createElement(m,{onclick:function w(){var x={albumFBID:r.id,datakey:s,fbid:s,shouldRemovePhotoFromDOM:true,owner:t.id};new (c('AsyncRequest'))().setAllowCrossPageTransition(false).setData(x).setErrorHandler(function(y){c('AsyncResponse').defaultErrorHandler(y)}).setURI('/ajax/photos/photo/move/dialog.php').send()}},j._("Move to Other Album"));return c('React').createElement(c('ReactXUIMenu'),null,c('React').createElement(m,{onclick:function w(){c('ProfilePicCropViewerInit').loadID(s,t.id)}},j._("Make Profile Picture for Page")),c('React').createElement(m,{onclick:function w(){return new (c('AsyncRequest'))(u).send()}},j._("Make Cover Photo")),v,c('React').createElement(c('MenuSeparator.react'),null),c('React').createElement(m,{href:'#',onclick:function(){return this.setState({showPhotoDeletionConfirmationDialog:true})}.bind(this)},j._("Delete This Photo")))};p.prototype.$PagePhotosTabEditAlbumPhotoInlineActions5=function(){if(!this.state.showPhotoDeletionConfirmationDialog)return null;return c('React').createElement(c('XEditablePhotoRemoveDialog.react'),{onCancel:function(){return this.setState({showPhotoDeletionConfirmationDialog:false})}.bind(this),onConfirm:function(){return this.$PagePhotosTabEditAlbumPhotoInlineActions6()}.bind(this),shown:true})};p.prototype.$PagePhotosTabEditAlbumPhotoInlineActions6=function(){var q={confirmed:true,fbid:this.props.photo.id};new (c('AsyncRequest'))().setData(q).setErrorHandler(function(r){c('AsyncResponse').defaultErrorHandler(r)}).setHandler(function(r){c('DOM').remove(c('ReactDOM').findDOMNode(this.props.elementToDelete))}.bind(this)).setInitialHandler(function(){this.setState({showPhotoDeletionConfirmationDialog:false})}.bind(this)).setURI('/ajax/photos/photo/delete/dialog.php').send()};f.exports=n(p,{photo:{modern:function q(){return c('PagePhotosTabEditAlbumPhotoInlineActions_photo.graphql')},classic:function q(r){return {kind:'FragmentDefinition',argumentDefinitions:[],node:function(){return {children:[{children:[{fieldName:'album_type',kind:'Field',metadata:{},type:'PhotosAlbumAPIType'},{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'}],fieldName:'album',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'Album'},{fieldName:'can_viewer_edit',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],fieldName:'owner',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true},type:'Actor'}],id:r.__id(),kind:'Fragment',metadata:{},name:'PagePhotosTabEditAlbumPhotoInlineActions_photo',type:'Photo'}}()}}}})}),null);
__d("ComposerDialogEntryPoint",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({STATUS:"status",PHOTO:"photo",PHOTO_UPLOAD:"photo_upload",SOCIAL_CANVAS:"social_canvas"})}),null);
__d("PagePhotosTabConfig",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NUM_EACH_LOAD_MORE:28,NUM_FIRST_LOAD:28,NUM_FIRST_LOAD_PLACEHOLDER:4,PHOTO_SIZE:200})}),null);
__d("XPagesProfilePhotosController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/{page_token}\/photos\/",{page_token:{type:"String",required:true},business_id:{type:"Int"},tab:{type:"Enum",defaultValue:"photos_stream",enumType:1},album_id:{type:"FBID"},__nodl:{type:"Exists",defaultValue:false},qr:{type:"String"},ref:{type:"String"},mt_nav:{type:"Bool",defaultValue:false},_sref_:{type:"Int"},_vref_:{type:"Int"}})}),null);
__d('PagePhotosTabPhotoInlineActions.react',['ix','cx','fbt','AbstractActionList.react','CSS','FeedbackLikeActions','Image.react','LayerHideOnBlur','LeftRight.react','Link.react','ProfileTabConst','React','ReactDOM','RelayCompat','UFICommentLink.react','UIPagelet','XPagesProfilePhotosController','XUIContextualDialog.react','XUIContextualDialogBody.react','XUIText.react','fbglyph','intlSummarizeNumber','PagePhotosTabPhotoInlineActions_photo.graphql'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('RelayCompat').createFragmentContainer,n=c('RelayCompat').graphql;k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(p){l.constructor.call(this,p);this.$PagePhotosTabPhotoInlineActions7=function(){c('FeedbackLikeActions').handleLikeChange(this.props.photo.feedback.id,!this.props.photo.feedback.does_viewer_like)}.bind(this);this.state={dialogLoaded:false,dialogShown:false}}o.prototype.render=function(){return c('React').createElement('div',{className:"_3t_i",ref:'inlineActionsRoot'},c('React').createElement('div',{className:"_2ph- _2pie"},this.$PagePhotosTabPhotoInlineActions1(),c('React').createElement(c('LeftRight.react'),null,c('React').createElement(c('AbstractActionList.react'),{className:"_4crj"},this.$PagePhotosTabPhotoInlineActions2(),this.$PagePhotosTabPhotoInlineActions3()),c('React').createElement(c('AbstractActionList.react'),{className:"_4crj"},this.$PagePhotosTabPhotoInlineActions4(),this.$PagePhotosTabPhotoInlineActions5())),this.$PagePhotosTabPhotoInlineActions6()),c('React').createElement(c('Image.react'),{className:"_4crk",src:'/images/photos/profile/gradient.png'}))};o.prototype.componentDidUpdate=function(p,q){var r=c('ReactDOM').findDOMNode(this.refs.inlineActionsRoot);if(r instanceof Element)if(this.state.dialogShown){c('CSS').addClass(r,"_3t_j")}else c('CSS').removeClass(r,"_3t_j");if(this.state.dialogShown&&!this.state.dialogLoaded){c('UIPagelet').loadFromEndpoint('PagesPhotosHoverCardPagelet',c('ReactDOM').findDOMNode(this.refs.addCommentSection),{feedback_id:this.props.photo.id});this.setState({dialogLoaded:true})}};o.prototype.$PagePhotosTabPhotoInlineActions2=function(){var p=this.props.photo.feedback,q=p.can_viewer_like,r=p.does_viewer_like;if(!q)return null;return c('React').createElement(c('Link.react'),{onClick:this.$PagePhotosTabPhotoInlineActions7},r?j._("Unlike"):j._("Like"))};o.prototype.$PagePhotosTabPhotoInlineActions3=function(){if(!this.props.photo.feedback.can_viewer_comment)return null;return c('React').createElement(c('UFICommentLink.react'),{onClick:this.$PagePhotosTabPhotoInlineActions8.bind(this)},j._("Comment"))};o.prototype.$PagePhotosTabPhotoInlineActions6=function(){return c('React').createElement(c('XUIContextualDialog.react'),{behaviors:{LayerHideOnBlur:c('LayerHideOnBlur')},contextRef:function(){return this.refs.inlineActionsRoot}.bind(this),hideOnEscape:true,onToggle:function(p){return this.setState({dialogShown:p})}.bind(this),position:'below',shown:this.state.dialogShown,width:c('XUIContextualDialog.react').WIDTH.WIDE},c('React').createElement('div',{className:"_8tm"},c('React').createElement(c('XUIContextualDialogBody.react'),{ref:'addCommentSection'},c('React').createElement('div',{className:"_2ph-"},j._("Loading...")))))};o.prototype.$PagePhotosTabPhotoInlineActions1=function(){if(this.props.album)return null;var p=this.props.photo.album;if(!p)return null;var q=c('XPagesProfilePhotosController').getURIBuilder().setString('page_token',this.props.pageID).setEnum('tab',c('ProfileTabConst').ALBUM).setFBID('album_id',p.id).getURI();return c('React').createElement(c('Link.react'),{className:"_4crl",href:q},c('React').createElement(c('XUIText.react'),{size:'medium'},p.name))};o.prototype.$PagePhotosTabPhotoInlineActions5=function(){var p=this.props.photo.feedback;if(p.comments.count===0)return null;return c('React').createElement(c('Link.react'),{href:'#',onClick:this.$PagePhotosTabPhotoInlineActions8.bind(this)},c('React').createElement(c('Image.react'),{className:"_4crm _3-8_",src:h("114672")}),c('intlSummarizeNumber')(p.comments.count))};o.prototype.$PagePhotosTabPhotoInlineActions4=function(){var p=this.props.photo.feedback;if(p.likers.count===0)return null;return c('React').createElement(c('Link.react'),{href:'#',onClick:this.$PagePhotosTabPhotoInlineActions8.bind(this)},c('React').createElement(c('Image.react'),{className:"_4crm _2pih",src:h("115159")}),c('intlSummarizeNumber')(p.likers.count))};o.prototype.$PagePhotosTabPhotoInlineActions8=function(){this.setState({dialogShown:true})};f.exports=m(o,{photo:{modern:function p(){return c('PagePhotosTabPhotoInlineActions_photo.graphql')},classic:function p(q){return {kind:'FragmentDefinition',argumentDefinitions:[],node:function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'}],fieldName:'album',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'Album'},{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'can_viewer_comment',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'can_viewer_like',kind:'Field',metadata:{},type:'Boolean'},{calls:[{kind:'Call',metadata:{},name:'use_default_actor',value:{kind:'CallValue',callValue:false}}],fieldName:'does_viewer_like',kind:'Field',metadata:{},type:'Boolean'},{children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'}],fieldName:'likers',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'LikersOfContentConnection'},{children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'}],fieldName:'comments',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'CommentsConnection'}],fieldName:'feedback',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'Feedback'}],id:q.__id(),kind:'Fragment',metadata:{},name:'PagePhotosTabPhotoInlineActions_photo',type:'Photo'}}()}}}})}),null);
__d('PagePhotosTabPhotoGridItem.react',['cx','fbt','Image.react','Link.react','PagePhotosTabConfig','PagePhotosTabDeletePhotoInlineActions.react','PagePhotosTabEditAlbumPhotoInlineActions.react','PagePhotosTabPhotoInlineActions.react','React','RelayCompat','PagePhotosTabPhotoGridItem_photo.graphql'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('RelayCompat').createFragmentContainer,m=c('RelayCompat').graphql;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.state={isSelected:false}}n.prototype.componentWillReceiveProps=function(o){if(this.state.isSelected&&!o.onPhotoClick)this.setState({isSelected:false});};n.prototype.render=function(){var o=this.props.photo,p=o.can_viewer_edit,q=o.id,r=o.image,s=null,t=null;if(!this.props.shouldHideInlineAction){s=this.props.album?c('React').createElement(c('PagePhotosTabEditAlbumPhotoInlineActions.react'),babelHelpers['extends']({},this.props,{elementToDelete:this})):c('React').createElement(c('PagePhotosTabDeletePhotoInlineActions.react'),this.props);t=c('React').createElement('div',{className:"_3x2f"},c('React').createElement(c('PagePhotosTabPhotoInlineActions.react'),this.props))}return c('React').createElement('div',{className:(this.props.album&&p?"_4zc-":'')+(' '+"_2eea"),'data-token':q,id:q,onClick:function(){return this.$PagePhotosTabPhotoGridItem1(this.props.onPhotoClick,q,r.uri)}.bind(this),role:'presentation'},s,this.$PagePhotosTabPhotoGridItem2(),t)};n.prototype.$PagePhotosTabPhotoGridItem2=function(){var o=this.props.photo,p=o.image,q=o.url;if(this.props.onPhotoClick){return c('React').createElement('div',{className:"_11sl"},c('React').createElement(c('Image.react'),{height:c('PagePhotosTabConfig').PHOTO_SIZE,src:p.uri,width:c('PagePhotosTabConfig').PHOTO_SIZE}),c('React').createElement('div',{className:this.state.isSelected?"_11sm":''}))}else if(!this.props.taggablePhotos)return c('React').createElement(c('Link.react'),{href:q,rel:'theater'},c('React').createElement(c('Image.react'),{height:c('PagePhotosTabConfig').PHOTO_SIZE,src:p.uri,width:c('PagePhotosTabConfig').PHOTO_SIZE}));return c('React').createElement(c('Link.react'),{href:q,id:'pic_'+this.props.photo.id,rel:'theater'},c('React').createElement('div',{className:"_26uf"},c('React').createElement('div',{className:"_1g1c tagWrapper"},c('React').createElement(c('Image.react'),{className:"uiMediaThumbImg",height:c('PagePhotosTabConfig').PHOTO_SIZE,src:p.uri,width:c('PagePhotosTabConfig').PHOTO_SIZE}),c('React').createElement('div',{className:"hidden_elem taggerOverlay"},c('React').createElement('div',{className:"blackwash left"}),c('React').createElement('div',{className:"blackwash right"}),c('React').createElement('div',{className:"blackwash top"}),c('React').createElement('div',{className:"blackwash bottom"}),c('React').createElement('div',{className:"highlightBox"}),c('React').createElement('div',{className:"hidden_elem lockBar _2pih _2pi2"},c('React').createElement('div',{className:"lockIcon"}),c('React').createElement('div',{className:"lockMessage"},i._("Already tagged")))))))};n.prototype.$PagePhotosTabPhotoGridItem1=function(o,p,q){if(!o)return;o(p,q);this.setState({isSelected:!this.state.isSelected})};f.exports=l(n,{photo:{modern:function o(){return c('PagePhotosTabPhotoGridItem_photo.graphql')},classic:function o(p){var q=c('PagePhotosTabEditAlbumPhotoInlineActions.react').getFragment('photo'),r=c('PagePhotosTabDeletePhotoInlineActions.react').getFragment('photo'),s=c('PagePhotosTabPhotoInlineActions.react').getFragment('photo');return {kind:'FragmentDefinition',argumentDefinitions:[],node:function(){return {children:[].concat.apply([],[{fieldName:'can_viewer_edit',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{calls:[{kind:'Call',metadata:{},name:'sizing',value:{kind:'CallValue',callValue:'cover-fill-cropped'}},{kind:'Call',metadata:{type:'Int'},name:'height',value:{kind:'CallValue',callValue:200}},{kind:'Call',metadata:{type:'Int'},name:'width',value:{kind:'CallValue',callValue:200}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'url',kind:'Field',metadata:{},type:'Url'},p.__frag(q),p.__frag(r),p.__frag(s)]),id:p.__id(),kind:'Fragment',metadata:{},name:'PagePhotosTabPhotoGridItem_photo',type:'Photo'}}()}}}})}),null);
__d('PagePhotosTabPhotosView.react',['cx','FBMorePager.react','PagePhotosTabAddPhotosGridItem.react','PagePhotosTabAlbumPhotosReorder','PagePhotosTabPhotoGridItem.react','React','XUISpinner.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=1500;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.state={isWaiting:false}}l.prototype.render=function(){return c('React').createElement('div',null,this.$PagePhotosTabPhotosView1(),this.$PagePhotosTabPhotosView2())};l.prototype.$PagePhotosTabPhotosView1=function(){var m=this.props.shouldShowAddPhotos?[c('React').createElement(c('PagePhotosTabAddPhotosGridItem.react'),babelHelpers['extends']({},this.props,{key:'addPhotosGridItem'}))]:[];this.props.photos.edges.forEach(function(n,o){if(!n.node.album||!this.props.hideAlbum||this.props.hideAlbum!==n.node.album.id)m.push(c('React').createElement(c('PagePhotosTabPhotoGridItem.react'),babelHelpers['extends']({},this.props,{key:o,photo:n.node})));}.bind(this));return c('React').createElement('div',{className:"_2eec",ref:function(n){var o=this.props.album;if(n!==null&&this.props.reorderablePhotos&&o)c('PagePhotosTabAlbumPhotosReorder').createSortableGroup(o.owner.id,o.id,n);}.bind(this),tabIndex:0},m)};l.prototype.$PagePhotosTabPhotosView2=function(){if(!this.props.hasMore)return null;return c('React').createElement(c('FBMorePager.react'),{onMore:function(){return this.$PagePhotosTabPhotosView3()}.bind(this)},c('React').createElement('div',{className:"_3d2x _2piq _2pie"},c('React').createElement(c('XUISpinner.react'),{size:'large'})))};l.prototype.$PagePhotosTabPhotosView3=function(){if(this.props.isLoading!==null){this.props.onLoadMore();return}if(this.state.isWaiting)return;this.setState({isWaiting:true});setTimeout(function(){this.props.onLoadMore();this.setState({isWaiting:false})}.bind(this),k)};f.exports=l}),null);
__d('PagePhotosTabPostByOthersPhotoGrids.react',['cx','PagePhotosTabConfig','PagePhotosTabPhotoGridItem.react','PagePhotosTabPhotosView.react','PagesEventObserver','PagesEventType','React','RelayClassic','XUICard.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$PagePhotosTabPostByOthersPhotoGrids2=function(){this.props.relay.setVariables({count:this.props.relay.variables.count+c('PagePhotosTabConfig').NUM_EACH_LOAD_MORE})}.bind(this),this.$PagePhotosTabPostByOthersPhotoGrids1=function(){c('PagesEventObserver').notify(c('PagesEventType').SOCIAL_CONTEXT_PHOTOS_VIEW_IMPRESSION,this.props.page.id)}.bind(this),n}k.prototype.render=function(){this.$PagePhotosTabPostByOthersPhotoGrids1();var m=this.props.page,n=m.id,o=m.photos_by_others;return c('React').createElement('div',{className:"_2fho"},c('React').createElement(c('PagePhotosTabPhotosView.react'),{hasMore:this.props.relay.variables.count<o.count,onLoadMore:this.$PagePhotosTabPostByOthersPhotoGrids2,pageID:n,photos:o}))};var l=c('RelayClassic').createContainer(k,{initialVariables:{count:c('PagePhotosTabConfig').NUM_FIRST_LOAD},fragments:{page:function m(){return function(n){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{calls:[{kind:'Call',metadata:{type:'Int'},name:'first',value:{kind:'CallVariable',callVariableName:'count'}}],children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'},{children:[{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayClassic').QL.__frag(n)]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'Photo'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'PhotosByOthersEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'photos_by_others',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'PhotosByOthersConnection'}],id:c('RelayClassic').QL.__id(),kind:'Fragment',metadata:{},name:'PagePhotosTabPostByOthersPhotoGrids_react_PageRelayQL',type:'Page'}}(c('PagePhotosTabPhotoGridItem.react').getFragment('photo'))}}});l.moduleName='PagePhotosTabPostByOthersPhotoGrids.react';f.exports=l}),null);
__d("XComposerDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/composer\/dialog\/",{entry_point:{type:"Enum",required:true,enumType:1},entry_point_ref:{type:"Enum",required:true,enumType:1},target_id:{type:"Int"},client_ref:{type:"String"},privacy_option_id:{type:"String"},whitelisted_target_ids:{type:"IntVector"},extra_info:{type:"StringToStringMap"},__asyncDialog:{type:"Int"}})}),null);
__d('PagePhotosTabPhotosPostByOthersView.react',['ix','cx','fbt','ComposerDialogEntryPoint','ComposerEntryPointRef','ComposerXMediaUploadHandler','FileInput.react','Image.react','Link.react','MediaPageRoute','PagePhotosTabPostByOthersPhotoGrids.react','React','ReactDOM','RelayRootContainer','Spotlight.react','XComposerDialogController','XUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;m.prototype.componentDidMount=function(){var n=c('XComposerDialogController').getURIBuilder().setInt('target_id',this.props.pageID).setEnum('entry_point',c('ComposerDialogEntryPoint').PHOTO_UPLOAD).setEnum('entry_point_ref',c('ComposerEntryPointRef').ADD_PHOTO_IN_PHOTOS_SECTION).getURI();c('ComposerXMediaUploadHandler').setupFileUploadToComposerDialog(this.refs.fileInput.getFileInput(),n.toString(),"_42fr",true);this.refs.spotlight.layer.subscribe('hide',this.$PagePhotosTabPhotosPostByOthersView1.bind(this))};m.prototype.render=function(){var n=new (c('MediaPageRoute'))({name:this.props.pageName,page_id:this.props.pageID});return c('React').createElement(c('Spotlight.react'),{ref:'spotlight',shown:true},c('React').createElement('div',{className:"_549t"},c('React').createElement('div',{className:"_54au"})),c('React').createElement('div',{className:"_n3 _2y_h"},c('React').createElement('div',{className:"_54av"},c('React').createElement('div',null,c('React').createElement(c('XUIText.react'),{className:"_50u5",display:'block',size:'large'},j._("All Photos By Other People"))),c('React').createElement('div',{className:"_54aw"},c('React').createElement(c('FileInput.react'),{accept:'image/*',multiple:false,ref:'fileInput'},c('React').createElement(c('Link.react'),{href:'#'},c('React').createElement(c('Image.react'),{className:"_390_",src:h("140153")}),c('React').createElement(c('XUIText.react'),{className:"_50u5 _2pis",shade:'medium',size:'medium'},j._("Add a Photo")))))),c('React').createElement(c('RelayRootContainer'),{Component:c('PagePhotosTabPostByOthersPhotoGrids.react'),route:n})))};m.prototype.$PagePhotosTabPhotosPostByOthersView1=function(){c('ReactDOM').unmountComponentAtNode(this.props.root)};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d('PagePhotosTabInitPostByOthersLayer',['DOM','Event','PagePhotosTabPhotosPostByOthersView.react','React','ReactDOM'],(function a(b,c,d,e,f,g){var h={init:function i(j,k,l){c('Event').listen(j,'click',function(){var m=c('DOM').create('div');c('ReactDOM').render(c('React').createElement(c('PagePhotosTabPhotosPostByOthersView.react'),{pageID:k,pageName:l,root:m}),m)})}};f.exports=h}),null);